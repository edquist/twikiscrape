---+ OSG Proposal for the Glue Schema v1.3
---++ Discussion Topics for the OSG Consortium Meeting of Aug 2006

---+++ Topic 1 (schema extension)

In the GLUE Schema, the VOView entity provides a mechanism to describe different viewpoints related to local policies on the same resources assigned to a queue. The VOView attributes include !RunningJobs, !FreeJobSlots, !DefaultSe, etc. Currently, there are no &quot;policy&quot; attributes in the VOView entity i.e. VOView cannot override CE-level policy attributes, such as !MaxWallClockTime, !MaxTotalJobs, Priority. In principle, attributes such as these ones may depend on the VO, for a given queue (CE). 

CMS has a use case for this. The group /cms/prod has not max wall clock time defined at any of their Tier 2 centers, while other users do.

---+++ Topic 2 (schema extension)

The attribute !CEPolicyMaxWallClockTime is defined as &quot;the maximum amount of wall clock time allowed to each job by the execution environment. Once this time is expired the job will most likely be killed or removed from the queue&quot;. Similarly, other policy attributes. In DZero we have observed that some sites define a default max wallclock time, which can be changed upon request. Some other times, the request for change is ignored. It might be useful distinguishing between a real limit and a default limit in the schema. Atlas had also a similar use case.

The Glue Schema should say if we expect a default or a max. Currently this is not specified by definition.
Should we use 2 attributes e.g. !CEPolicyDefaultMaxWallClockTime and !CEPolicyMaxWallClockTime ?

---+++ Topic 3 (schema extension)

Currently, the Subcluster entity does not have an attribute for the number of nodes in the subcluster (!PhysicalCPU and !LogicalCPU are the only ones present). Teragrid uses this attribute in their resource description. How is it used? What is the use case? Does it apply to any of the OSG VO&#39;s ?

It is possible that the Glue Schema had this attribute in earlier versions, but it was dropped because nobody was using it. The use cases addressed should be discussed further with Teragrid.

[AFTER THE MEETING: the number of nodes in the cluster could be used to have indications on the topology of the cluster. This would be useful when running strongly interdependent jobs, such as MPI-based jobs. It turns out that the number of physical CPUs per node (related to the number of physical nodes) is in the GLUE Schema v1.2 already as !SubCluster/ArchitectureSMPSize.]

---+++ Topic 4 (syntax recommendation)

The !CEInfoContactString attribute is not mandated to be a GRAM URL. Today, in fact, we implement 1 CE per VO, appending the name of the VO to the GRAM URL. Everybody agrees that we need to move toward the paradigm of 1 CE for many VO, where VO-specific policies are defined in the VOView entity. Should we mandate that the CEInfoContactString be a GRAM URL?

The Resource Selection project has suffered from this. People believe that the semantics of this attribute should be defined better in the Glue Schema.
In an earlier conversation, Sergio Andreozzi recommended to use filters (e.g. in CEMon) to check adherence with expected syntax.

---+++ Topic 5 (syntax recommendation)

The Glue Schema does not mandate the syntax of !CEAccessControlPolicyBaseRule, but discusses the advantages of having a form like /myVo/mygroup/mysubgroup/myrole. Mainly, this would be useful for role-sensitive selection of resource. Today, the OSG uses the syntax &quot;VO:myVo&quot;. Should we give a stronger recommendation in the glue schema document?

A push to mandate this syntax must be done in collaboration with EGEE and other grids that use the current syntax. EGEE might have services that parse the attribute and assume a certain syntax.
As OSG, we do not have any service that use this syntax.

---+++ Topic 6 (implementation)

In Glue Schema v1.2, the relationship between Cluster and Sucluster entities is one to many. The tendency, though, is assuming one subcluster (set of homogeneous worker nodes) per Cluster. This is also the default GIP configuration, which sys admins seldom amend.

We should probably maintain the one to many relationship between Cluster and Subclusters. However, in this case, we need to improve the technology that creates the default configuration of GIP. 

Once subclusters are properly configured, we should work on job requirements forwarding from the grid-level to the batch system-level. Some requirements can be currently forwarded (e.g. memory requirements), but are all the characteristics of a subcluster forwardable?

The majority of the poeple would like to maintain multiple subcluster, addressing the technological issues.

---+++ Topic 7 (implementation)

SE information providers and SE-CE binding: we want to enable linking SE to CE, in addition to CE to SE. This might be a comment/extension for the mapping of the Glue Schema to LDIF, rather than for the schema itself.

The Issue was discussed on Feb 24, 2006, among Anand (UIowa), Mark (Buffalo), Ransom (UIowa), Rob (UChicago), Shaowen (UIowa), Steve (FNAL)

Major issues discussed:

   1. Several SEs are being validated, but they don&#39;t have GRIS running. The OSG GIP validation tool (http://grow.its.uiowa.edu/osg-gip) needs to be more intelligent to drop these SEs.
   1. For performance reasons (to avoid significant data transfer over NFS), some sites (e.g., FNAL one that Steve Timm manages) have gsiftp on a node (usually SE) different than CE gatekeeper. GIP can publish this through !DefaultSE as the actual gsiftp node. NOTE:  As of Aug 18, 2006, FNAL deploys the CE on one node, the SE for $APP and $DATA (served via gsiftp) on a second node, and an SRMCP / DCCP SE on a third node. It is important to be able to describe this situation as well. 
   1. Mark Green said that if $data and $app are &quot;unavailable&quot;, currently, there would be no programmatic ways to discover associated SE info. Also, given a list of SEs, where are the CEs to get access to these SEs? Mark pointed out a web page idea through which SEs can be registered with basic information like FQDNs, path, port.
   1. We reached a common understanding that current GLUE schema is sufficiently rich to accommodate our requirements that were raised for publishing CE and SE binding info. However, the OSG does not have sufficient specification or documentation to come up with right values for certain attributes. For example, how to specify the SITE_READ if it is only available through SRM instead of NFS?
   1. Anand said that the current OSG GIP binds SRM-SE to CE, which allows applications to discover attributes like FQDNs, SAPath, SARoot. Example sites from ITB that are currently publishing this info include itb.rcac.purdue.edu and gridtest01.racf.bnl.gov.

Action items:

   * UIowa team can work on the number 1 and 2 issues above for the time frame of the VDT 1.3.10.
   * Regarding the issues of number 3 and 4 above, OSG needs to identify workarounds as well as to come up with self-contained description and documentation about specific decisions and recommendations.

-- Main.GabrieleGarzoglio - 18 Aug 2006
