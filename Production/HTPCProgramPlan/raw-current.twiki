-- Main.BrooklinGore - 27 Feb 2012

---+ OSG HTPC Workplan
This project is owned by OSG Production as a collaboration with HTPC
Last update: 28-Feb-2012, Gore/Fraser

---++ Goal: 
Make HTPC a Production quality service on the OSG in 2012. 
(Success depends largely on adoption by CMS and Atlas sites.)

---++ Objectives:
   1 Stabilize existing HTPC capability at OU, Clemson, and Purdue. (Feb)
   1 Test HTPC Accounting for PBS, LSF, and Condor (Mar)
   1 Help CMS try out and use HTPC – Targeted test site is Purdue (Mar - May)
      * Also start working with Atlas as appropriate 
   1 Introduce an HTPC RSV probe into the OSG to make sure sites that are supporting HTPC are functioning. (Mar)
   1 Support the deployment of Condor’s improved Partitionable Slot Technology (Apr)
   1 Integrate HTPC documentation and best practices into the OSG CE install guide (June)
   1 Broaden CMS usage of HTPC as the updated version of Condor is moved to production (July – Sep, depends on CMS timetable)
   1 Engage interested Atlas sites to use HTPC (July – Sep) depends on Atlas timetable)
   1 Make HTPC sites discoverable via BDII ?? (Sep)


---++ Project Team:
|*Role*|*Who*|*% Effort (Feb 14 – Sep 30)*|
|Project Lead|Dan Fraser (OSG-PROD)|20%|
|Project Mgr|Brooklin Gore (Morgridge)|10%|
|Contributor|Brian Bockelman (OSG)|0%|
|Contributor|Dan Bradley (Ext-SW)|0%|
|Contributor|Marco Mambelli (OSG-PROD)|20%|
|Contributor|Rob Quick (OSG-PROD)|10%|
|Contributor|Alain Roy (OSG-SW)|0%|
|Contributor|Todd Tannenbaum (Condor)|0%|
|Contributor|Greg Thain (HTPC)|10%|

---++ Milestone 1: 
Get Clemson (will wait for Condor fixes), Oklahoma and Purdue fixed using the old approach and deliver test code to the GOC. Ensure CMS can run their “Whole Machine” HTPC apps at Purdue (verified working on 6-Mar). Greg Thain to lead this effort.

|*Due*|*Owner*|*Status*|*Task*|
|Feb 6|Thain|%GREEN%Complete|Reach out to CMS/Purdue Monday|
|Feb 22|Thain|In Progress|Sites operational (Purdue done 6-Mar)|
|Mar|Teige|In Progress|Transfer Greg’s test code (that ensures HTPC is actually working at a given site) and introduce as an RSV probe into the ITB|
|April|Quick|Not Started|Encourage the OSG HTPC sites to turn on this probe|

Greg will send weekly progress reports via email to Brooklin and Dan F. every Thursday until complete.

---++ Milestone 2: 
Deploy Condor’s new Partitionable Slot technology, along with best practices documentation to the OSG.

*As of 27-Feb, this milestone is currently %RED% AT RISK %ENDCOLOR%. Due to the testing we are performing in the CHTC, we are re-thinking the overall architecture which could impact this schedule by 4-8 weeks.*

|*Due*|*Owner*|*Status*|*Task*|
|Feb 29|Thain|%GREEN%Completed (Feb 15)|Condor 7.7.5 running on CHTC|
|Mar 1|Gore, Tannenbaum, Bockelman|In Progress|Start configuring partitionable slots in CHTC and developing best practices in collaboration with Nebraska|
|Mar 15|Thain|Not Started|Condor 7.8.0 available to general public|
|Mar 21|Fraser	|Not Started|Update provided at OSG All Hands meeting|
|Apr 2|Mambelli, Thain|Not Started|Initial Draft of HTPC user’s guide|
|Apr 30|Mambelli, Thain|Not Started|Reviewed HTPC user’s guide available|
||Gore, Tannenbaum|Not Started|Partitionable slots in production in CHTC and best practices are understood and documented|
|Mar 1|Bradley|Not Started|Start developing HTPC best practices for OSG|
|May 30|?Who?|Not Started|Deliver HTPC best practices to OSG – add section to OSG CE install/admin guide|
|Jun 30|Mambelli, Thain|Not Started|Deliver HTPC user guides|
|^|Bradley|Not Started|Test jobs from GOC running on HTPC nodes in CHTC|

---++ Weekly notes

---+++As of Feb-23

   * Condor 7.7.5 is running in the CHTC /and/ Nebraska. CHTC found a bug working with slot users. NE working ok w/600 cores. CHTC trying to dial in configuration parameters.
   * Big submit to OSG finally started running at NE on Firefly (Omaha)
   * CMS can run test jobs as CMS VO. Purdue jobs not running due to lack of priority and will never run as GLOW VO -- *how can we address this*? Jobs now run at OU after fixing a cert issue.
   * HTPC test scripts sent to GOC.

---++ Caveats:

We know that the improved Partitionable Slots technology is NOT compatible with Parallel Universe jobs nor Work-Fetch jobs. We may encounter use cases or best practices during the testing with CHTC that required significant code changes that may not be available in the 7.8 Condor stable series.

---++ Reporting:

Brooklin/Dan will incorporate weekly status reports into the production page until complete.
