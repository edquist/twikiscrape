%LINKCSS%

---+!! Worker Node Client RPM Install
%TOC%


---++ Requirements
A RHEL5 (or !CentOS 5, SL5) machine with [[http://fedoraproject.org/wiki/EPEL][EPEL]] repos enabled.

---++ Install Instructions
%INCLUDE{&quot;InstallVDTRepo&quot; headingoffset=&quot;1&quot;}%
%INCLUDE{&quot;InstallCACerts&quot; headingoffset=&quot;1&quot;}%
   1. Install the Sun/Oracle JDK. This step must be done manually, since the JDK RPMs are not signed and so GPG checking must be disabled for their installation. &lt;pre class=&quot;rootscreen&quot;&gt;
%UCL_PROMPT_ROOT% yum --enablerepo=osg-testing --nogpgcheck install jdk&lt;/pre&gt;
   1. Install the WN-Client &lt;pre class=&quot;rootscreen&quot;&gt;
%UCL_PROMPT_ROOT% yum --enablerepo=osg-testing install osg-wn-client &lt;/pre&gt;

---+++ Configuring fetch-crl on the Worker Node
fetch-crl is now installed as a service.  There are two services available.  fetch-crl-boot runs only at boot time.  The fetch-crl-cron &quot;service&quot; runs fetch-crl every 6 hours (with a random sleep time included) by default.  Both services are disabled by default.  
---++++ Enable and Start fetch-crl:
To enable fetch-crl by default on the node:
&lt;pre class=&quot;rootscreen&quot;&gt;
%UCL_PROMPT_ROOT% chkconfig fetch-crl-boot on
%UCL_PROMPT_ROOT% chkconfig fetch-crl-cron on
&lt;/pre&gt;
To start fetch-crl:
&lt;pre class=&quot;rootscreen&quot;&gt;
%UCL_PROMPT_ROOT% service fetch-crl-boot start
%UCL_PROMPT_ROOT% service fetch-crl-cron start
&lt;/pre&gt;
---++++ Configure Proxy Server
To configure fetch-crl to use a proxy server, create  =/etc/fetch-crl.conf= and add =export http_proxy=http://your.squid.fqdn= to the file.
---++++ Modify fetch-crl-cron run times
To modify the times that fetch-crl-cron runs, edit =/etc/cron.d/fetch-crl=.  Cron job files are marked as a config/noreplace files in the rpm.  Any updates to those files will be preserved during an rpm update.
---++ Configuring the CE for the RPM
=$OSG_GRID= will have to change.  Most jobs source =$OSG_GRID/setup.sh= before performing any work.  For backwards capability, we have created =/etc/osg/wn-client/setup.sh= to mimic this functionality.  Setting =$OSG_GRID= (in the CE config.ini) to =/etc/osg/wn-client= should provide backward capability.

On an mixed RPM/pacman based system, a possible solution would be to symlink the existing =$OSG_GRID= location to =/etc/osg/wn-client=.

---++ Where to report problems
If you have issues, email osg-software@opensciencegrid.org.
