%LINKCSS%


---+!!Troubleshooting Using the OSG
%TOC%

%STARTINCLUDE%
%EDITTHIS%

In this section we try to provide some hints about when and to whom you should report errors, and which errors you can solve yourself.

You should report OSG-related errors to your [[http://www.opensciencegrid.org/?pid=1000187][VO support center]], who will then triage your problems, and forward your problems to the _[[http://osggoc.blogspot.com/][Grid Operations Center (&lt;span class=&quot;acronym&quot;&gt;GOC&lt;/span&gt;)]]_, if warranted. 

As some of you may actually be also the support center people of your VO, here are some pointers.

---+++ Clear cut reasons for generating a trouble ticket

   1. Submitting to the site used to work but now doesn&#39;t. Check if the site has gone red on gridcat. If it hasn&#39;t, complain so that a trouble ticket gets generated for that site.
   1. A standard script like the examples on this page works when submitted to =jobmanager-fork= but fails on the worker node.
   1. You arrive at the worker node but have no grid proxy, are missing srmcp in your path, or are missing some other client tools that should be part of the OSG WN client installation.
   1. You arrive on the worker node and findthe  OS, network architecture, or some other characteristics that does not agree with the site&#39;s characteristics that were advertised via the GIP. 
   1. If a site doesn&#39;t have a functioning LDAP service, then it deserves a ticket.

---+++ Ambiguous situations that may not warrant a trouble ticket
Before you run your job at a particular site, you need to make sure that you can. There are several parts to this problem:
   * _Authorization_: you have to have the right permissions on the OSG and at the site. 
   * _Account Setup_: The site must be setup up for your user.
   * _Site Resource Setup_: The site must be properly configured for OSG.
   * _Application Storage Needs_: The site must have the appropriate storage for both your prestaged data and your results, if applicable.
   * _Available Ports_: Some applications depend upon certain ports being open but these may not be available on many OSG sites. 
   * _Site Environment Configuration_: The site must have the correct versions of the software packages that your application requires.
Most of these situations do not warrnat a trouble ticket.

---++++ You can&#39;t authenticate at Site X. 
Unfortunately, OSG rules do not require you to have access to any site in particular. It&#39;s up to the site to support you and your VO. Some sites support some VOs without supporting all of their users. 

There&#39;s a bit of a progression in having access to a site:
   1. You are not authorized.
      a. Are you authorized to run on the OSG, having a [[https://twiki.grid.iu.edu/twiki/bin/view/Trash/Trash/OSGRA/][valid x.509 certificate]]?
      a. Is your VO authorized to run on this site? (Site policies) 
      a. Are you authorized to run on this site? (Site policies)
   1. The site says that you can run but you can&#39;t access the site. 
      VO needs to negotiate with the site. Contact your [[http://myosg.grid.iu.edu/scsummary?datasource=summary&amp;summary_attrs_showdesc=on&amp;all_scs=on&amp;active=on&amp;active_value=1][VO&#39;s Support Center]].
   1. You exist in the grid mapping but your UNIX uid does not exist.
   1. Your uid exists on the remote grid site but it has no $HOME.
   1. You can run an application on this site. 

At present, the only way to understand the intentions of a site is to query its LDAP and see if your VO shows up. The best way to understand if authentication should work for you personally is to check the VO support matrix, and look for your DN among the DNs supported at the site. 

If you find that an unreasonable number of sites don&#39;t let you in, send the list of sites where you failed to =osg-user-group at opensciencegrid.org=. Maybe we can help you gain access to more sites.

---++++ Perl, Python, wget, etc.
You may find that perl, python, wget, etc. are either not installed or not installed with the version you&#39;d expect given the version number of the site&#39;s OS. Unfortunately, there is no definition for a minimal Linux distro that would clearly specify what should exist on a worker node. If you need something and find it missing you may have to either give up on that site or install it yourself into =$OSG_APP=.

The site must support what you need or it makes no sense to run there. You may be able to install what you need, but it is not always possible. This includes:
   1. Kernel version
   1. Software packages and versions
   1. Storage sufficient for your job
   1. Enough CPU availability
   1. Expected directory structures
   1. IO requirements: do you need to communicate with a database outside of this site? Do you expect certain ports to be available?
   1. Does it support your JDL?

---++++ Storage and File Transfer
Can you transfer files to and from the headnode SE? It may simply be that the site&#39;s storage policies do not support what you need to do. Check VORS for the site&#39;s policy pages.

Can you get your data back in the expected manner? For example, you might need:
   * Temporary storage on the host SE
   * Temporary storage that is then moved to another SE for long-term storage.
   * Pushing your results back to your submitting machine.

%STOPINCLUDE%
