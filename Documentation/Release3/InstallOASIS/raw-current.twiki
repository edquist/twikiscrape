---+ Installing, Configuring, Using, and Troubleshooting OASIS

%TOC{depth=&quot;3&quot;}%

---++ About This Guide

As its name suggests, the OSG Application and Software Installation Service (OASIS) is a shared filesystem that is tailored to delivering lots of relatively small read-only files to sites. Primarily, it is installed on OSG worker nodes so that an end-user job can use a large or complex software application more efficiently than transferring and preparing the application for each job run. The OASIS filesystem is organized by Virtual Organization (VO), and each VO manages their own storage space within the global filesystem structure. OASIS is implemented using [[https://cernvm.cern.ch/portal/filesystem][the CERN Virtual Filesystem]] (CVMFS).

Some OSG jobs require OASIS, so that they can get their software applications or data. By making OASIS available on your worker nodes, those jobs can use your site thereby increasing the range of jobs that you can run.

Use this guide to install, configure, test, and troubleshoot the OASIS client software, typically on your site worker nodes.

---++ Before Starting

Before starting the installation process, consider the following points (consulting [[#ReferenceSection][the Reference section below]] as needed):

   * *Hosts:* Install the OASIS client software on worker nodes that run OSG jobs and on other hosts as you wish
   * *User and groups:* If not already present, the installation will create the Linux user =cvmfs= and the groups =cvmfs= and =fuse=
   * *Service certificate:* The RSV service uses a service certificate at =/etc/grid-security/rsv/rsv*.pem=
   * *Network:* The host will need outbound access to the entire Internet or a local caching HTTP proxy such as [[InstallFrontierSquid][Frontier Squid]]

As with all OSG software installations, there are some one-time (per host) steps to prepare in advance:

   * Ensure the OASIS host has [[SupportedOperatingSystems][a supported operating system]]
   * Obtain root access to the host
   * Prepare [[YumRepositories][the required Yum repositories]]

---++ Installing OASIS

&lt;!-- start with a brief prose introduction - see other docs for ideas --&gt;
&lt;!-- yum install procedure, no configuration here --&gt;

---++ Configuring OASIS

&lt;!-- start with a brief prose introduction - see other docs for ideas --&gt;
&lt;!-- mandatory configuration procedure(s) --&gt;
&lt;!-- divide into logical subsections if needed - e.g., see InstallHTCondorCE --&gt;

---+++ Optional configuration

&lt;!-- prose introduction first --&gt;
&lt;!-- if this section is very long, consider making a separate document --&gt;

---++++ Configuring ...

&lt;!-- start with a brief introduction of the use case --&gt;
&lt;!-- answer the question: how do I decide whether I need to do this step? --&gt;
&lt;!-- then the procedure --&gt;

---++ Using OASIS

---+++ Managing OASIS and associated services

&lt;!-- introduce services in a table - see other docs for format --&gt;

Start the services in the order listed and stop them in reverse order.
As a reminder, here are common service commands (all run as =root=):

%TABLE{sort=&quot;off&quot;}%
| *To &amp;hellip;* | *Run the command &amp;hellip;* |
| Start a service | =service &lt;em&gt;SERVICE-NAME&lt;/em&gt; start= |
| Stop a service | =service &lt;em&gt;SERVICE-NAME&lt;/em&gt; stop= |
| Enable a service to start during boot | =chkconfig &lt;em&gt;SERVICE-NAME&lt;/em&gt; on= |
| Disable a service from starting during boot | =chkconfig &lt;em&gt;SERVICE-NAME&lt;/em&gt; off= |

---+++ [Doing something with OASIS

&lt;!-- these sections are for manual runs, admin tools, etc. --&gt;
&lt;!-- start each section by answering: what problem do I solve with this? --&gt;
&lt;!-- then a procedure and/or usage info --&gt;

---++ Validating OASIS

&lt;!-- brief prose introduction --&gt;
&lt;!-- after installing and configuring, how does an admin make sure it works? --&gt;
&lt;!-- if this section is very long, consider making a separate document --&gt;

---++ Troubleshooting OASIS

&lt;!-- brief prose introduction --&gt;
&lt;!-- how does an admin recognize (searchable!) and solve common issues? --&gt;
&lt;!-- if this section is very long, consider making a separate document --&gt;

---+++ Important file locations

&lt;!-- brief prose introduction --&gt;
&lt;!-- document files and *why* one would use them --&gt;
&lt;!-- a table is often a good format --&gt;

---++ Getting Help

To get assistance, please use [[Documentation.HelpProcedure][this page]].

---++ Reference

&lt;!-- if any, link to other useful documents - explain *why* each is useful --&gt;
&lt;!-- remove irrelevant sections below and add others as needed --&gt;

---+++ Users

&lt;!-- brief prose introduction --&gt;
&lt;!-- in a table, list users that the software needs --&gt;
&lt;!-- in the comments, explain what each user does, owns, needs, etc. --&gt;
&lt;!-- more detailed requirements can go in prose afterward --&gt;

---+++ Certificates

&lt;!-- brief prose introduction --&gt;
&lt;!-- in a table, list certificates that the software needs and owning user --&gt;
&lt;!-- more detailed requirements can go in prose afterward --&gt;

See [[InstallCertScripts][instructions]] to request a service certificate.

---+++ Networking

&lt;!-- brief prose introduction --&gt;
&lt;!-- in a table, list ports, etc., that the software needs --&gt;
&lt;!-- more detailed requirements can go in prose afterward --&gt;

