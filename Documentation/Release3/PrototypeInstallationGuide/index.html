<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> PrototypeInstallationGuide &lt; Documentation/Release3 &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Documentation/Release3/PrototypeInstallationGuide?_T=16 Feb 2017" type="application/x-wiki" title="edit PrototypeInstallationGuide" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Documentation/Release3/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Documentation/Release3/PrototypeInstallationGuide"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFFFFF;
	}
	.patternBookView {
		border-color:#FFFFFF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--TABLEPLUGIN_table1--><style type="text/css" media="all">
.tableSortIcon img {padding-left:.3em; vertical-align:text-bottom;}
</style>
<!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <style type="text/css">
code em, pre em { color: red; font-weight: normal; font-style: normal; }
</style>
<p />
<div style="color: white; background-color: #F60; font-weight: 800; font-size: 2em; padding: 1ex;">
Documentation Prototype – Do Not Use
</div>
<p />
Derived from <a href="/bin/view/Documentation/Release3/InstallGums" class="twikiLink">the real GUMS installation guide</a>.
<p />
<hr>
<p />
<h1><a name="Installing_Configuring_and_Using"></a> Installing, Configuring, and Using GUMS </h1>
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Installing_Configuring_and_Using"> Installing, Configuring, and Using GUMS</a> <ul>
<li> <a href="?cover=print#About_This_Guide"> About This Guide</a>
</li> <li> <a href="?cover=print#Before_Starting"> Before Starting</a>
</li> <li> <a href="?cover=print#Installing_GUMS"> Installing GUMS</a>
</li> <li> <a href="?cover=print#Configuring_GUMS"> Configuring GUMS</a> <ul>
<li> <a href="?cover=print#Required_configuration"> Required configuration</a>
</li> <li> <a href="?cover=print#Advanced_configuration"> Advanced configuration</a>
</li></ul> 
</li> <li> <a href="?cover=print#Using_GUMS"> Using GUMS</a> <ul>
<li> <a href="?cover=print#Managing_GUMS_services"> Managing GUMS services</a>
</li> <li> <a href="?cover=print#Using_the_GUMS_web_application"> Using the GUMS web application</a>
</li> <li> <a href="?cover=print#Using_the_GUMS_command_line_tool"> Using the GUMS command-line tools</a>
</li></ul> 
</li> <li> <a href="?cover=print#Validating_GUMS"> Validating GUMS</a> <ul>
<li> <a href="?cover=print#Connect_to_the_GUMS_web_page"> Connect to the GUMS web page</a>
</li></ul> 
</li> <li> <a href="?cover=print#0_1_Check_accounts">0.1  Check accounts</a>
</li> <li> <a href="?cover=print#0_2_Update_VO_members_list">0.2  Update VO members list</a>
</li> <li> <a href="?cover=print#0_3_Map_a_known_good_user_DN">0.3  Map a known good user DN</a>
</li></ul> 
</li> <li> <a href="?cover=print#1_Miscellaneous_Procedures">1  Miscellaneous Procedures</a> <ul>
<li> <a href="?cover=print#1_1_Forcing_GUMS_to_update_the_s">1.1  Forcing GUMS to update the set of users</a>
</li> <li> <a href="?cover=print#1_2_Updating_the_GUMS_configurat">1.2  Updating the GUMS configuration</a>
</li></ul> 
</li> <li> <a href="?cover=print#2_Troubleshooting">2  Troubleshooting</a> <ul>
<li> <a href="?cover=print#2_1_Useful_Configuration_and_Log">2.1  Useful Configuration and Log Files</a>
</li> <li> <a href="?cover=print#2_2_Tuning_GUMS_for_a_big_Site">2.2  Tuning GUMS for a big Site</a>
</li></ul> 
</li> <li> <a href="?cover=print#3_How_to_get_Help">3  How to get Help?</a>
</li> <li> <a href="?cover=print#4_References">4  References</a> <ul>
<li> <a href="?cover=print#4_1_Certificates">4.1  Certificates</a>
</li> <li> <a href="?cover=print#4_2_Networking">4.2  Networking</a>
</li></ul> 
</li> <li> <a href="?cover=print#5_Comments">5  Comments</a>
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="About_This_Guide"></a> About This Guide </span></h2>
<p />
<a href="/bin/view/Documentation/GlossaryG#DefsGridUserManagementSystem" class="twikiAnchorLink">GUMS</a> is a service that authorizes and maps users from their global identity (X.509) to a local identity (Linux user). It is not a required service (some sites use the simple <code>edg-mkgridmap</code> to construct a <code>grid-mapfile</code> instead), but it is commonly used. GUMS is useful when more than one resource (Compute Element, Storage Element, etc.) needs to authorize or map users, because it helps them share data. It is particularly helpful when using gLExec at a site, because gLExec runs on every worker node and needs authorization and mapping information. GUMS is a web application that runs in Tomcat.
<p />
Use this page to learn how to install, configure, run, test, and troubleshoot GUMS from the OSG software repositories.
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  Starting on 11 February 2014, all OSG-issued Digicert certificates (host, service, and personal) use the SHA-2 algorithm. <span style="color: #F60;">The GUMS software must be on a recent version to support SHA-2 certificates.</span> Please visit <a href="/bin/view/Documentation/Release3/SHA2Compliance" class="twikiLink">our SHA-2 compliance page</a> for more information about minimum required versions of software components.
</dd></dl> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Before_Starting"></a> Before Starting </span></h2>
<p />
Before starting the installation process, consider the following points (consulting the Reference section below as needed):
<p /> <ul>
<li> <strong>Host:</strong> OSG strongly recommends that GUMS run on a separate host from the <a href="/bin/view/Documentation/GlossaryC#DefsComputeElement" class="twikiAnchorLink">Compute Element</a>; for security reasons, it is best to separate performing authorization from user-submitted job execution. Nonetheless, GUMS can be on the CE.
</li> <li> <strong>User IDs:</strong> If they do not exist already, the installation will create the Linux user IDs <code>mysql</code> (UID 27) and <code>tomcat</code> (UID 91)
</li> <li> <strong>Service certificate:</strong> The GUMS service uses an HTTP service certificate at <code>/etc/grid-security/http/http*.pem</code>
</li> <li> <strong>Network ports:</strong> The Tomcat server that contains GUMS listens on port 8443 (TCP)
</li></ul> 
<p />
As with all OSG software installations, there are a few typically one-time (per host) steps to prepare in advance:
<p /> <ul>
<li> Ensure the host has <a href="/bin/view/Documentation/Release3/SupportedOperatingSystems" class="twikiLink">a supported operating system</a>
</li> <li> Obtain root access to the host
</li> <li> Prepare <a href="/bin/view/Documentation/Release3/YumRepositories" class="twikiLink">the required Yum repositories</a>
</li> <li> Install <a href="/bin/view/Documentation/Release3/InstallCertAuth" class="twikiLink">CA certificates</a>
</li></ul> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Installing_GUMS"></a> Installing GUMS </span></h2>
<p /> <ol>
<li> <p>If an older GUMS installation exists on the host, stop the Tomcat server (see Using GUMS below)</p>
</li> <li> <p>Install GUMS and associated OSG software:</p>       <pre class="rootscreen">yum install osg-gums</pre>       <p>This command will install all software dependencies that are not already installed on your system, including the Tomcat web application server and MySQL database server.</p>
</li></ol> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Configuring_GUMS"></a> Configuring GUMS </span></h2>
<p />
GUMS requires some initial configuration steps to function correctly:
<p /> <ul>
<li> Preparing the Tomcat web application server
</li> <li> Preparing the MySQL database
</li> <li> Setting the GUMS configuration and VO mapping data
</li></ul> 
<p />
After that, GUMS can be started and validated for basic operations. Then, a site may wish to use the GUMS web interface or configuration files to change the mapping configuration, but this step is beyond the scope of this document [not really, we should do that, but we don’t have any documentation to offer yet].
<p />
<h3><a name="Required_configuration"></a> Required configuration </h3>
<p />
To prepare GUMS to run, follow the sub-sections below. Perform all steps as <code>root</code> on the GUMS host.
<p />
<h4><a name="Preparing_the_Tomcat_web_applica"></a> Preparing the Tomcat web application server </h4>
<p />
The Tomcat server configuration must be modified to work with GSI authentication to work with the GUMS application. If you have an existing Tomcat server configuration, you may need to back up and merge it into the modified configuration.
<p /> <ol>
<li> <p>Back up any existing Tomcat server configuration (on EL 5, <code>/etc/tomcat5/server.xml</code>; on EL 6, <code>/etc/tomcat6/server.xml</code>)</p>
</li> <li> <p>Configure Tomcat to use GSI</p>       <pre class="rootscreen">/var/lib/trustmanager-tomcat/configure.sh</pre>
</li> <li> <p>If needed, merge configuration from the <code>server.xml</code> backup to the modified <code>server.xml</code></p>
</li></ol> 
<p />
<h4><a name="Preparing_the_MySQL_database"></a> Preparing the MySQL database </h4>
<p />
GUMS uses a MySQL database to store configuration and other data. For a new installation, the database must be created. For existing installations, an old database can be migrated to a new GUMS install. Pick the subsection below that fits your situation.
<p />
<h5><a name="When_preparing_a_new_GUMS_host"></a> When preparing a new GUMS host&hellip; </h5>
<p /> <ol>
<li> <p>Start the MySQL server</p>       <pre class="rootscreen">service mysqld start</pre>
</li> <li> <p>Create a new GUMS database</p>       <pre class="rootscreen">/usr/bin/gums-setup-mysql-database --host localhost:3306 --user gums --password <em>PASSWORD</em> --template /etc/gums/gums.config.template</pre>       <p><strong>Note:</strong> <code><em>PASSWORD</em></code> will be the password for the MySQL <code>gums</code> user (not a Linux login password). It is saved in plaintext in the <code>/etc/gums/gums.config</code> file, so use a password that is not used elsewhere. The <code>gums.config</code> file should be readable only by the <code>tomcat</code> user, but this situation provides light security at best.</p>       <p><strong>Note:</strong> Use <code>localhost</code> for the MySQL hostname, unless you have specific technical reasons to use something else. Using <code>localhost</code> instead of localhost’s actual hostname is more secure and may result in more efficient database access.</p>       <p><strong>Note:</strong> Use the <code>--template</code> value shown above, unless you have specific technical reasons to use something else (such as the template from GUMS itself at <code>/usr/lib/gums/config/gums.config.template</code>). The /etc/gums version is best for OSG installations.</p>
</li> <li> <p>Add yourself as a GUMS administrator</p>       <pre class="rootscreen">gums-add-mysql-admin '<em>YOUR DN</em>'</pre>
</li> <li> <p>[Optional but recommended:] Apply reasonable MySQL security settings</p>       <pre class="rootscreen">/usr/bin/mysql_secure_installation</pre>
</li></ol> 
<p />
<h5><a name="When_migrating_from_an_existing"></a> When migrating from an existing GUMS server on another host&hellip; </h5>
<p />
[Details omitted for this prototype.]
<p />
<h5><a name="When_upgrading_from_an_existing"></a> When upgrading from an existing GUMS server that was installed by Pacman on the same host&hellip; </h5>
<p />
[Details omitted for this prototype.]
<p />
<h4><a name="Setting_the_GUMS_configuration_a"></a> Setting the GUMS configuration and VO mapping data </h4>
<p />
GUMS needs information about how to map X.509 user identities to local Linux user IDs, plus other local configuration. It is easiest to start with a template configuration file; OSG provides a good template, or you can start your own or migrate older data. Pick the subsection below that fits your situation.
<p />
<h5><a name="When_preparing_a_new_GUMS_ho_AN1"></a> When preparing a new GUMS host&hellip; </h5>
<p />
If you ran the <code>gums-setup-mysql-database</code> command above with the <code>--template /etc/gums/gums.config.template</code> option, you are done! That is the OSG template, so there is no further initial configuration to do. You may skip the rest of this configuration step.
<p />
Otherwise, you can still apply the OSG GUMS template:
<p /> <ol>
<li> <p>Back up any existing GUMS template at <code>/etc/gums/gums.config</code></p>
</li> <li> <p>Install the OSG GUMS template</p>       <pre class="rootscreen">cp /etc/gums/gums.config.template /etc/gums/gums.config</pre>
</li> <li> <p>Replace placeholders in the <code>/etc/gums/gums.config</code> file with real values (see table below for placeholder definitions)</p>
</li></ol> 
<p />
OSG GUMS template placeholders (each placeholder occurs exactly once in the file):
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table1" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <font color="#252b37">Search for &hellip;</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <font color="#252b37">And replace with &hellip;</font> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>@USER@</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> The MySQL GUMS username; use <code>gums</code> unless you used a different username in the <code>gums-setup-mysql-database</code> command. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>@PASSWORD@</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> The MySQL GUMS user password as given in the <code>gums-setup-mysql-database</code> command. </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>@SERVER@</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> The MySQL hostname and port; use <code>localhost</code> unless you used a different hostname or port in the <code>gums-setup-mysql-database</code> command. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>@DOMAINNAME@</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> The domain (i.e., the last two parts of the hostname) of the GUMS host, such as <code>wisc.edu</code>. </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<h5><a name="When_upgrading_from_an_exist_AN1"></a> When upgrading from an existing GUMS server&hellip; </h5>
<p />
[Details omitted for this prototype.]
<p />
<h3><a name="Advanced_configuration"></a> Advanced configuration </h3>
<p />
If your GUMS server receives a lot of queries and if you notice or hear about performance issues, you may wish to consult our page about <a href="/bin/view/Documentation/Release3/GumsScalability" class="twikiLink">tuning GUMS performance</a>. Most likely, you do not need to do this extra work, and it will be clear if and when you need it.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Using_GUMS"></a> Using GUMS </span></h2>
<p />
There are several ways to use GUMS:
<p /> <ul>
<li> The GUMS and related services can be turned on and off as needed by a system administrator
</li> <li> The GUMS web application allows a GUMS administrator to change configuration and user/group mappings
</li> <li> The GUMS command-line tools allow a user to test mappings and a GUMS administrator to perform some configuration and mapping tasks
</li></ul> 
<p />
<h3><a name="Managing_GUMS_services"></a> Managing GUMS services </h3>
<p />
The GUMS service is a web application that runs in the Tomcat web application server, using the MySQL database server for storage. Fetch&nbsp;CRL keeps certificate revocation lists fresh. The specific services are:
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table2" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <font color="#252b37">Software</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <font color="#252b37">Service name</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <font color="#252b37">Notes</font> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Fetch CRL </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <code>fetch-crl-boot</code> and <code>fetch-crl-cron</code> (on EL 6)<br />    <code>fetch-crl3-boot</code> and <code>fetch-crl3-cron</code> (on EL 5) </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> See <a href="/bin/view/Documentation/Release3/InstallCertAuth#Start_Stop_fetch_crl_A_quick_gui" class="twikiAnchorLink">CA documentation</a> for more info </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> MySQL </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <code>mysqld</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> Tomcat </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> <code>tomcat6</code> (on EL 6)<br />    <code>tomcat5</code> (on EL 5) </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> Can take a long time (~1 minute) to fully start </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
Start the services in the order listed and stop them in reverse order. As a reminder, here are common service commands (all run as <code>root</code>):
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table3" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <font color="#252b37">To &hellip;</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <font color="#252b37">Run the command &hellip;</font> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Start a service </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <code>service <em>SERVICE-NAME</em> start</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> Stop a service </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> <code>service <em>SERVICE-NAME</em> stop</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Enable a service to start during boot </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <code>chkconfig <em>SERVICE-NAME</em> on</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> Disable a service from starting during boot </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> <code>chkconfig <em>SERVICE-NAME</em> off</code> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<h3><a name="Using_the_GUMS_web_application"></a> Using the GUMS web application </h3>
<p />
Access the GUMS web application at <code>https://<em>HOSTNAME</em>:8443/gums/</code>. There is more information about using the web application on <a href="https://www.racf.bnl.gov/Facility/GUMS/1.4/" target="_top">the developer’s website</a>.
<p />
<h3><a name="Using_the_GUMS_command_line_tool"></a> Using the GUMS command-line tools </h3>
<p />
The GUMS client tools are installed as part of the process above, or they can be installed separately using the <code>gums-client</code> package. There is more information about using the web application on <a href="https://www.racf.bnl.gov/Facility/GUMS/1.4/" target="_top">the developer’s website</a>.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Validating_GUMS"></a> Validating GUMS </span></h2>
<p />
This section is optional, but if you would like to verify that your GUMS installation and configuration are good, consider using some or all of the sections below.
<p />
<h3><a name="Connect_to_the_GUMS_web_page"></a> Connect to the GUMS web page </h3>
<p />
Connect to <code>https://<em>HOSTNAME</em>:8443/gums/</code> to use your GUMS instance. You must have the certificate that you used for <code>gums-add-mysql-admin</code> above loaded in your browser. You should see the GUMS web page load.
<p />
If you do not see it load, check a few things:
<p />
<font color="#ff0000">#For OSG 3.x (RPM) installs on EL5 systems</font>  <ul>
<li> Look for errors in <code>/var/log/tomcat5/catalina.out</code> and <code>/var/log/tomcat5/catalina.err</code>.
</li> <li> Look for errors in <code>/var/log/tomcat5/trustmanager.log</code>. There are likely to be CRL errors in this file, this can be ignored unless all your CA's get CRL errors in which case you should check to make sure that your CRL updates are running correctly.
</li></ul> 
<p />
<font color="#ff0000">#For OSG 3.x (RPM) installs on EL6 systems</font> <ul>
<li> Look for errors in <code>/var/log/tomcat6/catalina.out</code> and <code>/var/log/tomcat6/catalina.err</code>.
</li> <li> Look for errors in <code>/var/log/tomcat6/trustmanager.log</code>. There are likely to be CRL errors in this file, this can be ignored unless all your CA's get CRL errors in which case you should check to make sure that your CRL updates are running correctly.
</li></ul> 
<p />
<font color="#ff0000">#For both EL5/EL6 systems</font> <ul>
<li> Ensure that you have an http certificate in <code>/etc/grid-security/http/httpcert.pem</code> and <code>/etc/grid-security/http/httpkey.pem</code>. Make sure it is readable by the <code>tomcat</code> user. Permissions should be as follows:<pre class="screen">
# ls -l /etc/grid-security/http/
total 8
-r--r--r-- 1 tomcat tomcat 1671 Jul  2 15:54 httpcert.pem
-r-------- 1 tomcat tomcat 1675 Jul  2 15:54 httpkey.pem</pre>
</li></ul> 
<p />
If you change the permissions/ownership, make sure to restart tomcat so that your changes take effect.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="0_1_Check_accounts"></a> 0.1  Check accounts </span></h2>
<p />
After you connect to the GUMS web page, go to the Summary tab to check the configuration. You should see several dozen OSG VOs listed.
<p />
In the Account column on the summary page, you will see the local Unix user accounts that these VO users will be mapped to. It is critical that these accounts exist on the gatekeeper and worker nodes at your site. If they do not, there will be errors when users attempt to access your site.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="0_2_Update_VO_members_list"></a> 0.2  Update VO members list </span></h2>
<p />
GUMS contacts each VOMS server to update its knowledge of VO membership every 6 hours. After installing or updating GUMS, you should trigger the update manually by going to the Update VO Members tab, and clicking update.
<p />
You can track the progress of the update process by watching a log file: <pre class="rootscreen">
<font color="#ff0000">#For OSG 3.x (RPM) installs on EL5 systems</font>
[root@client ~]$ tail -f /var/log/tomcat5/gums-service-admin.log
<font color="#ff0000">#For OSG 3.x (RPM) installs on EL6 systems</font>
[root@client ~]$ tail -f /var/log/tomcat6/gums-service-admin.log
</pre>
<p />
With so many VOMS servers in the OSG config, several member updates may fail for various reasons (e.g., host down "connect timed out", bad or expired host certificates, etc.). Unfortunately, this situation is normal. Typically, you will see about 5 or 6 failed updates, with the rest succeeding. The update will take a while and then should display any errors that occurred during the updates. To get more details or track the update process in real time, look at  <code>/var/log/gums-service-admin.log</code>.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="0_3_Map_a_known_good_user_DN"></a> 0.3  Map a known good user DN </span></h2>
<p /> <ol>
<li> Go to Map Grid Identity to Account tab:  <code>https://<em>HOSTNAME</em>:8443/gums/map_grid_identity_form.jsp</code>
</li> <li> Fill in the required info. Service DN means the DN of the host certificate of your CE (see above). Use the DN of a user (probably yourself) who you know belongs to a particular VO. Fill in the VO name in the VOMS FQAN field. 
</li> <li> Click "map user". A failed mapping will display "null". A successful mapping will display a UNIX account name. 
</li></ol> 
<p />
<h1><a name="1_Miscellaneous_Procedures"></a> 1  Miscellaneous Procedures </h1>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="1_1_Forcing_GUMS_to_update_the_s"></a> 1.1  Forcing GUMS to update the set of users </span></h2>
<p />
GUMS automatically contacts each VOMS server every 6 hours to update its knowledge of VO membership. To trigger a manual update:
<p /> <ol>
<li> Access the “Update VO Members” tab
</li> <li> Click “Update”
</li> <li> [Optional:] Monitor update progress via a log file<pre class="rootscreen">[root@client ~]$ tail -f /var/log/tomcat5/gums-service-admin.log</pre>
</li></ol> 
<p />
With so many VOMS servers in the OSG config, several member updates may fail for various reasons (e.g., host down "connect timed out", bad or expired host certificates, etc.). Unfortunately, this situation is normal.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="1_2_Updating_the_GUMS_configurat"></a> 1.2  Updating the GUMS configuration </span></h2>
<p />
Periodically, the OSG Grid Operations Center will release an updated template for the GUMS configuration that updates information about an existing VO or adds a new VO. You may get the update as part of a regular update process, or you can force an update by using yum:
<p />
<pre class="rootscreen">[root@client ~]$ yum update osg-gums-config</pre>
<p />
This step does <strong>not</strong> update your GUMS configuration (<code>/etc/gums/gums.config</code>) but will update the template for your configuration (<code>/etc/gums/gums.config.template</code>), because RPM cannot merge configuration changes. Instead, use GUMS to merge in the new VO configuration information.
<p /> <ol>
<li> Go to the Merge Configuration tab: <code>https://<em>HOSTNAME</em>:8443/gums/mergeConfiguration.jsp</code>
</li> <li> Cut and paste the URL of the OSG template into the Configuration URI field.<p>For the template provided in the RPM, use: <code>file:///etc/gums/gums.config.template</code> <BR>To fetch it directly from the GOC, use <code>http://software.grid.iu.edu/pacman/tarballs/vo-version/gums.template</code> </p>
</li> <li> Click Merge<p>You should get a green success message if it has worked, along with a suggestion that you update the VO members.</p>
</li> <li> Check the Summary tab to verify the set of VOs you have, as well as their accounts
</li></ol> 
<p />
<h1><a name="2_Troubleshooting"></a> 2  Troubleshooting </h1>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="2_1_Useful_Configuration_and_Log"></a> 2.1  Useful Configuration and Log Files </span></h2>
<p />
Configuration Files
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table4" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=0;table=4;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Service or Process</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=1;table=4;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Configuration File</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=2;table=4;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Description</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> MySQL </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <code>/etc/my.cnf</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> MySQL configuration, e.g. server port </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> tomcat (EL5) </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <code>/etc/tomcat5/</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> Tomcat configuration files </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> tomcat (EL6) </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> <code>/etc/tomcat6/</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> Tomcat configuration files </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
Log files
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table5" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=0;table=5;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Service or Process</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=1;table=5;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Log File</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=2;table=5;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Description</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> tomcat (EL5) </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <code>/var/log/tomcat5/catalina.out</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> This is the Tomcat log file. Problems (and a lot of noise) are reported here. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> &nbsp; </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <code>/var/log/tomcat5/trustmanager.log</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> The trustmanager handles things related to authentication. Useful errors are sometimes here. </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> tomcat (EL6) </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <code>/var/log/tomcat6/catalina.out</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> This is the Tomcat log file. Problems (and a lot of noise) are reported here. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> &nbsp; </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <code>/var/log/tomcat6/trustmanager.log</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> The trustmanager handles things related to authentication. Useful errors are sometimes here. </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <strong>GUMS</strong> (EL5) </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <code>/var/log/tomcat5/gums-service-admin.log</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> GUMS outputs error messages related to it's operations here. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> &nbsp; </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <code>/var/log/tomcat5/gums-service-cybersecurity.log</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> GUMS outputs security related messages to this file. </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <strong>GUMS</strong> (EL6) </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <code>/var/log/tomcat6/gums-service-admin.log</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> GUMS outputs error messages related to it's operations here. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> &nbsp; </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLast"> <code>/var/log/tomcat6/gums-service-cybersecurity.log</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> GUMS outputs security related messages to this file. </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table6" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" align="right" valign="top" class="twikiTableCol0 twikiFirstCol"> <strong>GUMS</strong> (EL5/EL6) </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <code>/var/log/gums/gums-developer.root.log</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> &nbsp; </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <code>/var/log/gums/gums-egee-security.root.log</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> GUMS may also output some security related messages to this file as well. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> &nbsp; </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> <code>/var/log/gums/gums-privilege.root.log</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> GUMS  outputs mapping related errors to this file. </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="2_2_Tuning_GUMS_for_a_big_Site"></a> 2.2  Tuning GUMS for a big Site </span></h2>
<a href="/bin/view/Documentation/Release3/GumsScalability" class="twikiLink">GumsScalability</a> contains several performance tips built form the experience of running the service on FermiGrid, a big OSG Site.
<p />
<h1><a name="3_How_to_get_Help"></a> 3  How to get Help? </h1>
<p />
To get assistance please use the <a href="/bin/view/Documentation/Release3/HelpProcedure" class="twikiLink">Help Procedure</a>.
<p />
<h1><a name="4_References"></a> 4  References </h1>
<p />
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table7" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=0;table=7;up=0#sorted_table" title="Sort by this column"><font color="#252b37">User</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=1;table=7;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Default UID</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=2;table=7;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Comment</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>mysql</code> </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol1"> 27 </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> Runs the MySQL database server, which GUMS uses </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>tomcat</code> </td>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol1 twikiLast"> 91 </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> Runs the Tomcat web application server, which runs GUMS </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
Note that if UIDs 27 and 91 are taken already but not used for the appropriate users, you will experience errors. <a href="https://twiki.grid.iu.edu/bin/view/Documentation/Release3/KnownProblems#Reserved_user_ids_especially_for" target="_top">Details...</a>
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="4_1_Certificates"></a> 4.1  Certificates </span></h2>
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table8" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=0;table=8;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Certificate</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=1;table=8;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Certificate Owner</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=2;table=8;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Path to Certificate</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> HTTP service certificate </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> <code>tomcat</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> <code>/etc/grid-security/http/httpcert.pem</code> <br> <code>/etc/grid-security/http/httpkey.pem</code> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="4_2_Networking"></a> 4.2  Networking </span></h2>
<p />
<p />
<p />
<!-- No variables can be defined because will not be visible in the including document
Need this because double quotes used in Y in TWikiPreferences or ICON cause problems (replaced with single ones) <ul>
<li> Set ALTy = <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' />    
</li></ul> 
ALTy replacend inline whenever the icon is needed.
-->
For more details on overall Firewall configuration, please see our <a href="/bin/view/Documentation/Release3/FirewallInformation" class="twikiLink">Firewall documentation</a>.
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
         <table cellspacing="0" id="table9" cellpadding="0" class="twikiTable" rules="cols" border="1">        
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=0;table=9;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Service Name</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=1;table=9;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Protocol</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=2;table=9;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Port Number</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol3"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=3;table=9;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Inbound</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol4"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=4;table=9;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Outbound</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol5 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/PrototypeInstallationGuide?cover=print;sortcol=5;table=9;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Comment</font></a> </th>
		</tr>        
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <a href="/bin/view/Documentation/GlossaryG#DefsGridUserManagementSystem" class="twikiAnchorLink">GUMS</a> </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol1 twikiLast"> tcp </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol2 twikiLast"> 8443 </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol3 twikiLast"> <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' /> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol4 twikiLast"> &nbsp; </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol5 twikiLastCol twikiLast"> &nbsp; </td>
		</tr>        </table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
<p />
<p />
<p /> <ul>
<li> <a href="/bin/view/Documentation/Release3/GumsScalability" class="twikiLink">GUMS tuning and scalability tips</a>
</li> <li> <a href="http://tomcat.apache.org/tomcat-5.5-doc/" target="_top">http://tomcat.apache.org/tomcat-5.5-doc/</a> Official tomcat5 documentation
</li> <li> <a href="http://tomcat.apache.org/tomcat-6.0-doc/" target="_top">http://tomcat.apache.org/tomcat-6.0-doc/</a> Official tomcat6 documentation
</li> <li> <a href="http://www.hibernate.org/docs" target="_top">http://www.hibernate.org/docs</a> Official hibernate documentation
</li></ul> 
<p />
<p />
<h1><a name="5_Comments"></a> 5  Comments </h1>
<p />
<form method="post" action="https://twiki.opensciencegrid.org/bin/save/Documentation/Release3/PrototypeInstallationGuide" enctype="multipart/form-data" name="tableappend0" id="tableappend0">
<p />
<div class="commentPlugin commentPluginPromptBox">
<table><tr valign="middle"><td><textarea  rows="3" cols="70" name="comment" wrap="soft" onfocus="if(this.value=='')this.value=''" onblur="if(this.value=='')this.value=''"></textarea></td><td><input  type="submit" value="Add comment" /></td></tr></table>
</div><!--/commentPlugin-->
<p />
<input type="hidden" name="comment_action" value="save"  />
<input type="hidden" name="comment_type" value="tableappend"  />
<input type="hidden" name="comment_index" value="0"  /></form>
<p />
<!-- CONTENT MANAGEMENT PROJECT
############################################################################################################
 DEAR DOCUMENT OWNER
 <code><b>===============</b></code>
<p />
 Thank you for claiming ownership for this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/Documentation/Release3/FirstLast?topicparent=Documentation/Release3.PrototypeInstallationGuide" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local OWNER = <span class="twikiNewLink">SuchandraThapa<a href="/bin/edit/Documentation/Release3/SuchandraThapa?topicparent=Documentation/Release3.PrototypeInstallationGuide" rel="nofollow" title="SuchandraThapa (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
 Please define the document area, choose one of the defined areas from the next line
 DOC_AREA = (<span class="twikiNewLink">ComputeElement<a href="/bin/edit/Documentation/Release3/ComputeElement?topicparent=Documentation/Release3.PrototypeInstallationGuide" rel="nofollow" title="ComputeElement (this topic does not yet exist; you can create it)">?</a></span>|Storage|VO|Security|User|Monitoring|General|Trash/Trash/Integration|Operations|Tier3) <ul>
<li> Local DOC_AREA       = VO
</li></ul> 
<p />
 define the primary role the document serves, choose one of the defined roles from the next line
 DOC_ROLE = (<span class="twikiNewLink">EndUser<a href="/bin/edit/Documentation/Release3/EndUser?topicparent=Documentation/Release3.PrototypeInstallationGuide" rel="nofollow" title="EndUser (this topic does not yet exist; you can create it)">?</a></span>|Student|Developer|SysAdmin|VOManager) <ul>
<li> Local DOC_ROLE       = <span class="twikiNewLink">SysAdmin<a href="/bin/edit/Documentation/Release3/SysAdmin?topicparent=Documentation/Release3.PrototypeInstallationGuide" rel="nofollow" title="SysAdmin (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
 Please define the document type, choose one of the defined types from the next line
 DOC_TYPE = (Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge) <ul>
<li> Local DOC_TYPE       = Installation  Please define if this document in general needs to be reviewed before release ( 1 | 0 )
</li> <li> Local INCLUDE_REVIEW = 1
</li></ul> 
<p />
 Please define if this document in general needs to be tested before release ( 1 | 0 ) <ul>
<li> Local INCLUDE_TEST   = 0
</li></ul> 
<p />
 change to 1 once the document is ready to be reviewed and back to 0 if that is not the case <ul>
<li> Local REVIEW_READY   = 1
</li></ul> 
<p />
 change to 1 once the document is ready to be tested and back to 0 if that is not the case <ul>
<li> Local TEST_READY     = 1
</li></ul> 
<p />
 change to 1 only if the document has passed the review and the test (if applicable) and is ready for release <ul>
<li> Local RELEASE_READY  = 1
</li></ul> 
<p />
<p />
 DEAR DOCUMENT REVIEWER
 <code><b>==================</b></code>
<p />
 Thank for reviewing this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/Documentation/Release3/FirstLast?topicparent=Documentation/Release3.PrototypeInstallationGuide" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local REVIEWER       = <span class="twikiNewLink">TimCartwright<a href="/bin/edit/Documentation/Release3/TimCartwright?topicparent=Documentation/Release3.PrototypeInstallationGuide" rel="nofollow" title="TimCartwright (this topic does not yet exist; you can create it)">?</a></span> 	 Please define the review status for this document to be in progress ( 2 ), failed ( 0 ) or passed ( 1 )
</li> <li> Local REVIEW_PASSED  = 1
</li></ul> 
<p />
<p />
 DEAR DOCUMENT TESTER
 <code><b>================</b></code>
<p />
 Thank for testing this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/Documentation/Release3/FirstLast?topicparent=Documentation/Release3.PrototypeInstallationGuide" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local TESTER         = <span class="twikiNewLink">XinXhao<a href="/bin/edit/Documentation/Release3/XinXhao?topicparent=Documentation/Release3.PrototypeInstallationGuide" rel="nofollow" title="XinXhao (this topic does not yet exist; you can create it)">?</a></span> 	 Please define the test status for this document to be in progress ( 2 ), failed ( 0 ) or passed ( 1 )
</li> <li> Local TEST_PASSED    = 1
</li></ul> 
############################################################################################################
--></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Documentation/Release3<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>PrototypeInstallationGuide</span> <br />    
Topic revision: r9 - 06 Dec 2016 - 18:12:44 - <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />