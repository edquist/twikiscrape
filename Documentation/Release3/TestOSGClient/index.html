<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> TestOSGClient &lt; Documentation/Release3 &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Documentation/Release3/TestOSGClient?_T=16 Feb 2017" type="application/x-wiki" title="edit TestOSGClient" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Documentation/Release3/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Documentation/Release3/TestOSGClient"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFFFFF;
	}
	.patternBookView {
		border-color:#FFFFFF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--TWISTYPLUGIN_TWISTY--><style type="text/css" media="all">
@import url("https://twiki.opensciencegrid.org/twiki/pub/TWiki/TwistyContrib/twist.css");
</style>
<script type='text/javascript' src='https://twiki.opensciencegrid.org/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js'></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikiPref.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TwistyContrib/twist.compressed.js"></script>
<script type="text/javascript">
// <![CDATA[
var styleText = '<style type="text/css" media="all">.twikiMakeVisible{display:inline;}.twikiMakeVisibleInline{display:inline;}.twikiMakeVisibleBlock{display:block;}.twikiMakeHidden{display:none;}</style>';
document.write(styleText);
// ]]>
</script>

<!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> 
<p />
<h1><a name="Testing_the_OSG_Client"></a>  Testing the OSG Client </h1>
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#About_this_Document"> About this Document</a>
</li> <li> <a href="?cover=print#Customize_this_Document"> Customize this Document</a>
</li> <li> <a href="?cover=print#Introduction"> Introduction</a>
</li> <li> <a href="?cover=print#Requirements"> Requirements</a>
</li> <li> <a href="?cover=print#Choose_a_Test_Resource"> Choose a Test Resource</a>
</li> <li> <a href="?cover=print#Authentication_Test"> Authentication Test</a> <ul>
<li> <a href="?cover=print#Authentication_using_a_Grid_Prox"> Authentication using a Grid Proxy</a>
</li> <li> <a href="?cover=print#Authentication_using_a_VOMS_Prox"> Authentication using a VOMS Proxy</a>
</li> <li> <a href="?cover=print#Mapping_Test"> Mapping Test</a>
</li></ul> 
</li> <li> <a href="?cover=print#Job_Submission_Test"> Job Submission Test</a> <ul>
<li> <a href="?cover=print#Job_Submission_using_GRAM"> Job Submission using GRAM</a> <ul>
<li> <a href="?cover=print#Test_the_Availability_of_a_Job_M"> Test the Availability of a Job Manager</a>
</li></ul> 
</li> <li> <a href="?cover=print#Job_submission_using_Condor_G"> Job submission using Condor-G</a>
</li></ul> 
</li> <li> <a href="?cover=print#Data_Transfer_Test"> Data Transfer Test</a> <ul>
<li> <a href="?cover=print#File_Transfer_using_UberFTP"> File Transfer using UberFTP</a>
</li> <li> <a href="?cover=print#File_Transfer_using_LCG_Utils"> File Transfer using LCG-Utils</a>
</li> <li> <a href="?cover=print#SRM_Fermi"> SRM-Fermi</a>
</li> <li> <a href="?cover=print#SRM_LBNL"> SRM LBNL</a>
</li></ul> 
</li> <li> <a href="?cover=print#Test_Discovery_Tools"> Test Discovery Tools </a> <ul>
<li> <a href="?cover=print#Other_Information_System_Tools"> Other Information System Tools</a>
</li></ul> 
</li> <li> <a href="?cover=print#References"> References</a>
</li> <li> <a href="?cover=print#Comments"> Comments</a>
</li></ul> 
</div>
<p />
<h1><a name="About_this_Document"></a> About this Document </h1>
<p />
<!-- conventions used in this document <ul>
<li> Local UCL_CWD  = ~
</li> <li> Local UCL_HOST = client
</li> <li> Local UCL_USER = user
</li> <li> Local UCL_DOMAIN = opensciencegrid.org
</li> <li> Local UCL_CE = ce.opensciencegrid.org
</li> <li> Set TWISTY_OPTS_DETAILED = mode="div" showlink="Show Detailed Output" hidelink="Hide" showimgleft="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" hideimgleft="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" remember="on" start="hide" 
</li></ul> 
<p />
-->
<p />
<img width="16" alt="hand" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/hand.gif" height="16" border="0" /> This document is for OSG users. Simple tests will be introduced which may help testing the correct authentication with and operation of grid resources. This document also provides a <em>step-by-step guide</em> to determine the approximate cause of an error followed by recommendations when a ticket with the <a href="https://ticket.grid.iu.edu/goc/resource" target="_top">Grid Operation Center</a> should be opened. 
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  This document does not demonstrate how the Open Science Grid should be used for production runs. None of the techniques presented will <em>scale</em> to production levels! <font color="#ff0000">Do not use these tools for large scale productions runs</font>, as these will cause the remote site to crash and possible get your account banned - <a href="/bin/view/Documentation/CondorSubmittingSingleJob" class="twikiLink">Condor-G</a> will work much better.
</dd></dl> 
<p />
<h1><a name="Customize_this_Document"></a> Customize this Document </h1>
This form allows you to customize the content of the examples in this document.
<p />
<form action="/bin/view/Documentation/Release3/TestOSGClient">
<table>
  <tr>
    <td>
      Server (CE) Host Name
    </td>
    <td>
      <input type="text" name="INPUT_CE" value="ce.opensciencegrid.org"/>
    </td>
  </tr>
  <tr>
    <td>
      Client Host Name
    </td>
    <td>
      <input type="text" name="INPUT_HOST" value="client"/>
    </td>
  </tr>
  <tr>
    <td>
      Client Login Name
    </td>
    <td>
      <input type="text" name="INPUT_USER" value="user"/>
    </td>
  </tr>
  <tr>
    <td>
     &nbsp;
     <input type="submit" class="twikiSubmit" value="Customize" />
    </td>
  </tr>
</table>
</form>
<p />
<h1><a name="Introduction"></a> Introduction </h1>
<p />
Using a grid resource involves a series of steps that differ from the steps taken on a Unix resource. The following sections introduce and demonstrate each step required to run a basic grid job submission scenario. By understanding these simple tests you will be well prepared to understand, operate and debug complex grid scenarios. The series of tests are:
<p /> <ol>
<li> <a href="/bin/view/Documentation/Release3/TestOSGClient#Authentication_Test" class="twikiCurrentTopicLink twikiAnchorLink">Authentication Test</a>: create and verify your grid proxy used to authenticate yourself with a grid resource
</li> <li> <a href="/bin/view/Documentation/Release3/TestOSGClient#Job_Submission_Test" class="twikiCurrentTopicLink twikiAnchorLink">Job Submission Test</a>: execute a program on a grid resource
</li> <li> <a href="/bin/view/Documentation/Release3/TestOSGClient#Data_Transfer_Test" class="twikiCurrentTopicLink twikiAnchorLink">Data Transfer Test</a>: copy data to and from a grid resource
</li></ol> 
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  The <strong>Data Transfer Tests</strong> and the <strong>Job Submission Tests</strong> all depend on the successful completion of the <strong>Authentication Test</strong>. All tests except the authentication test are independent of each other for the purpose of this document and you can select to run only the ones you choose. The <em>Job Submission Tests</em> require access to a <a href="/bin/view/Documentation/GlossaryC#DefsComputeElement" class="twikiAnchorLink">Compute Element</a>, which is the terminology used in the OSG to describe a grid resource that can run jobs. Most OSG <a href="/bin/view/Documentation/GlossaryC#DefsComputeElement" class="twikiAnchorLink">Compute Element</a>s have also a GridFTP server that allows to complete the basic <em>Data Transfer Tests</em> . More complex <em>Data Transfer Tests</em> , the ones using SRM, require access to a SRM <a href="/bin/view/Documentation/GlossaryS#DefsStorageElement" class="twikiAnchorLink">Storage Element</a>.
</dd></dl> 
<p />
<h1><a name="Requirements"></a> Requirements </h1>
<p /> <ol>
<li> access to a resource that has <a href="/bin/view/Documentation/Release3/InstallOSGClient" class="twikiLink">OSG client tools</a> installed
</li> <li> a <a href="/bin/view/Documentation/CertificateWhatIs" class="twikiLink">grid user certificate</a> installed on the same resource in <code>$HOME/.globus</code>
</li> <li> access to a potential test resource ( see next paragraph )
</li></ol> 
<p />
<h1><a name="Choose_a_Test_Resource"></a> Choose a Test Resource </h1>
<p />
<img width="16" alt="hand" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/hand.gif" height="16" border="0" /> Except for the <a href="/bin/view/Documentation/Release3/TestOSGClient#Authentication_Test" class="twikiCurrentTopicLink twikiAnchorLink">Authentication Test</a> all tests require a grid resource to test against. Consider <a href="/bin/view/Documentation/FindAvailableResource" class="twikiLink">this guide</a> for choosing an OSG grid resource to run the tests. Make sure to know what your membership <a href="/bin/view/Documentation/GlossaryV#DefsVirtualOrganization" class="twikiAnchorLink">Virtual Organization</a> is and that the grid resource you choose supports this VO! This document uses <code>ce.opensciencegrid.org</code> as an example. It can be customized in the form above. The default is <code>ce.opensciencegrid.org</code> which should not be used to run your tests!
<p />
<p />
<h1><a name="Authentication_Test"></a> Authentication Test </h1>
<p />
The purpose of your <a href="/bin/view/Documentation/CertificateWhatIs" class="twikiLink">grid certificate</a> is to authenticate yourself with every service provided by a <a href="/bin/view/Documentation/GlossaryC#DefsComputeElement" class="twikiAnchorLink">Compute Element</a>. The authentication process is based on the <a href="http://en.wikipedia.org/wiki/X.509" target="_top">X.509 Public Key Infrastructure</a> which consists of a private key (<code>userkey.pem</code>) and a public key (<code>usercert.pem</code>). Both files together form your <em>certificate</em> and are by default located in <code>$HOME/.globus</code>:
<p />
<pre class="screen">
[user@client ~]$ ls -al $HOME/.globus
total 68
drwxr-x---  4 user user  4096 Mar 18 18:50 .
drwx------ 29 user user 12288 Jul 28 08:38 ..
drwxrwxr-x  5 user user  4096 Jul 20 11:18 .gass_cache
drwx------  4 user user  4096 Mar 27 12:14 job
-rw-r-----  1 user user  1724 Dec 16  2008 usercert.pem
-r--------  1 user user  1919 Dec 16  2008 userkey.pem
</pre>
<p />
Your certificate can be used to create a limited life-time <a href="/bin/view/Documentation/GlossaryG#DefsGridProxy" class="twikiAnchorLink">Grid Proxy</a> or a <a href="/bin/view/Documentation/GlossaryV#DefsVOMSProxy" class="twikiAnchorLink">VOMS Proxy</a>     . You should use a VOMS Proxy if your membership <a href="/bin/view/Documentation/GlossaryV#DefsVirtualOrganization" class="twikiAnchorLink">Virtual Organization</a> supports VOMS Proxies and is providing a VOMS Server. Some OSG sites may require the use of a VOMS Proxy and will reject authentication requests using Grid Proxies.
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  If uncertain please contact the <strong>VO Manager</strong> for your membership <strong>VO</strong>.
</dd></dl> 
<p />
<p />
<a name="AuthenticationTest"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Authentication_using_a_Grid_Prox"></a> Authentication using a Grid Proxy </span></h2>
<p />
To display detailed information about your grid proxy <code>grid-proxy-info</code> can be used:
<p />
<pre class="screen">
[user@client ~]$ grid-proxy-info
subject  : /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994/CN=1692124231
issuer   : /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994
identity : /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994
type     : Proxy draft (pre-RFC) compliant impersonation proxy
strength : 512 bits
path     : /tmp/x509up_u500
timeleft : 291:11:00  (12.1 days)
</pre>
<p />
<em>Identity</em> is sometimes also referred to as <em>Grid Identity</em> or more frequently as <a href="/bin/view/Documentation/GlossaryD#DefsDistinguishedName" class="twikiAnchorLink">Distinguished Name</a>. The last line of the output above indicates how long your current grid proxy will be valid. A grid proxy is said to have <em>expired</em> if there is not time left on it. To <em>renew</em>  your grid proxy the program <code>grid-proxy-init</code> is used together with your grid password:
<p />
<pre class="screen">
[user@client ~]$ grid-proxy-init -valid 500:00
Your identity: /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994
Enter GRID pass phrase for this identity:
Creating proxy ................................. Done
Your proxy is valid until: Tue Aug 18 08:06:35 2009
</pre>
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Authentication_using_a_VOMS_Prox"></a> Authentication using a VOMS Proxy </span></h2>
<p />
To display detailed information about your voms proxy <code>voms-proxy-info</code> can be used:
<p />
<pre class="screen">
[user@client ~]$ voms-proxy-info -all
WARNING: Unable to verify signature! Server certificate possibly not installed.
Error: Cannot verify AC signature!
subject   : /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994/CN=proxy
issuer    : /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994
identity  : /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994
type      : proxy
strength  : 1024 bits
path      : /tmp/x509up_u506
timeleft  : 388:18:27
<font color="#ff0000">=== VO LIGO extension information ===
VO        : LIGO
subject   : /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994
issuer    : /DC=org/DC=doegrids/OU=Services/CN=voms.ligo.org
attribute : /LIGO/Role=NULL/Capability=NULL
timeleft  : 0:00:00
uri       : voms.phys.uwm.edu:15001</font>
</pre>
<p />
<em>Identity</em> is sometimes also referred to as <em>Grid Identity</em> or more frequently as <a href="/bin/view/Documentation/GlossaryD#DefsDistinguishedName" class="twikiAnchorLink">Distinguished Name</a>. Note the display of the <font color="#ff0000">extended attributes</font> The first line marked <code>timeleft</code> of the output above indicates how long your current voms proxy will be valid. A voms proxy is said to have <em>expired</em> if there is not time left on it. To <em>renew</em>  your voms proxy the program <code>voms-proxy-init</code> is used together with your grid password:
<p />
<p />
<pre class="screen">
[user@client ~]$ voms-proxy-init <font color="#ff0000">-voms LIGO:/LIGO</font> -valid 500:00
Enter GRID pass phrase:
Your identity: /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994
Creating temporary proxy ................................ Done
Contacting  voms.phys.uwm.edu:15001 [/DC=org/DC=doegrids/OU=Services/CN=voms.ligo.org] "LIGO" Done
Creating proxy ......................................................... Done
</pre>
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  The command line option <code><font color="#ff0000">-voms LIGO:/LIGO</font></code> tells <code>voms-proxy-init</code> to contact the VOMS server for the LIGO VO. This may be different for your VO. Locate a file named <code>vomses</code> on your submission host to find out more about available VOMS servers. 
</dd></dl> 
<p />
<div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdDocumentation/Release3TestOSGClient1show" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Show the example of a failed request</span></a> </span> <span id="twistyIdDocumentation/Release3TestOSGClient1hide" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyHidden twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdDocumentation/Release3TestOSGClient1toggle" class="twistyRememberSetting twistyStartHide twistyContent twikiMakeHidden twistyInited0">
<p />
Here what happens with a group you do not belong to, e.g., <em>/MyGroup</em>:
<p />
<pre class="screen">
[user@client ~]$ voms-proxy-init --voms VDT:/MyGroup
Your identity: /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994
Enter GRID pass phrase: 
Creating temporary proxy .......................................... Done
Contacting  voms.phys.uwm.edu:15001 [/DC=org/DC=doegrids/OU=Services/CN=voms.ligo.org] "LIGO" Failed

Error: LIGO: Unable to satisfy G/MyGroup Request!

Failed to contact servers for LIGO.
</pre>
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  If a subsequent attempt at a voms proxy fails, as ours did here, the previously generated proxy is still in effect. You can do another <code>voms-proxy-info --all</code> to verify this.
</dd></dl> 
</div></div> <!--/twistyPlugin-->
<p />
<p />
<p />
<p />
<p />
<a name="MappingTest"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Mapping_Test"></a> Mapping Test </span></h2>
<p />
A valid grid proxy does not guarantee that you may successfully authenticate with a remote grid resource. For a successful authentication your <a href="/bin/view/Documentation/GlossaryD#DefsDistinguishedName" class="twikiAnchorLink">Distinguished Name</a> must be <em>mapped</em> on the remote resource. A simple and quick way to check if your <strong>DN</strong> is mapped is to use <code>globus-run</code>:
<p />
<pre class="screen">
[user@client ~]$ globusrun -a -r ce.opensciencegrid.org

GRAM Authentication test successful
</pre>
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  This example requires the <em>Grid Resource Allocation Manager (<a href="/bin/view/Documentation/GlossaryG#DefsGridResourceAllocationAndManagement" class="twikiAnchorLink">GRAM</a>)</em> to be available on the resource. This is usually the case on a <a href="/bin/view/Documentation/GlossaryC#DefsComputeElement" class="twikiAnchorLink">Compute Element</a>, but not on a  <a href="/bin/view/Documentation/GlossaryS#DefsStorageElement" class="twikiAnchorLink">Storage Element</a>. If you want to test authentication with a Storage Element, use the next example instead.
</dd></dl> 
<p />
<p />
<p />
<h1><a name="Job_Submission_Test"></a> Job Submission Test </h1>
<p />
<p />
<a name="GramTest"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Job_Submission_using_GRAM"></a> Job Submission using GRAM </span></h2>
<p />
The <b>G</b>rid <b>R</b>esource <b>A</b>llocation <b>M</b>anager (<a href="/bin/view/Documentation/GlossaryG#DefsGridResourceAllocationAndManagement" class="twikiAnchorLink">GRAM</a>) is a service running on a <a href="/bin/view/Documentation/GlossaryC#DefsComputeElement" class="twikiAnchorLink">Compute Element</a> that services your job submission request and which puts your job into execution after successful authentication.
<p />
Here we use the <code>globus-job-run</code> command to execute the <code>id</code> command on the remote resource using the default <strong>fork</strong> <a href="/bin/view/Documentation/GlossaryJ#DefsJobManager" class="twikiAnchorLink">Job Manager</a>: <pre class="screen">
[user@client ~]$ globus-job-run ce.opensciencegrid.org /usr/bin/id
uid=506(ligo) gid=506(ligo) groups=506(ligo)
</pre>
<p />
Upon success <code>/usr/bin/id</code> returns information about the user account which has been used to execute the program itself on the grid resource. This is the account that your <a href="/bin/view/Documentation/GlossaryD#DefsDistinguishedName" class="twikiAnchorLink">Distinguished Name</a> is mapped to. Unlike the <a href="/bin/view/Documentation/Release3/TestOSGClient#Mapping_Test" class="twikiCurrentTopicLink twikiAnchorLink">Mapping Test</a> this test also verifies that the account exists and that the job manager was able to run the command on your behalf on the compute element.
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>   If you have a restrictive firewall in place, some of this testing will not work, and you will likely get Globus error 74 or 43. See the <a href="/bin/view/Documentation/Release3/InstallOSGClient#Firewall_tunning" class="twikiAnchorLink">Condor firewall tuning</a> section on how to solve this.<br>
</dd></dl> 
Moreover, if your client is on a home network behind a NAT, you will also need to configure a GLOBUS_TCP_SOURCE_RANGE (range of non privileged ports) on your home router to forward them to the server.
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  Please open a ticket with the <a href="https://ticket.grid.iu.edu/goc/resource" target="_top">Grid Operation Center</a> for the resource in case all your configurations are correct and the command did not succeed.
</dd></dl> 
<p />
<h3><a name="Test_the_Availability_of_a_Job_M"></a> Test the Availability of a Job Manager </h3>
<p />
A <a href="/bin/view/Documentation/GlossaryJ#DefsJobManager" class="twikiAnchorLink">Job Manager</a> is a process running on the <a href="/bin/view/Documentation/GlossaryC#DefsComputeElement" class="twikiAnchorLink">Compute Element</a> which is managing the execution of your job. By default the job manager <code>fork</code> will be used to <em>fork</em> your program directly on the compute element. As a general rule of thumb you should <font color="#ff0000">avoid to use fork</font> and to execute programs on the compute element unless that is your intention. A not complete list of job managers includes <code>fork</code>, <code>managedfork</code>, <code>ccs</code>, <code>condor</code>, <code>lsf</code>, <code>pbs</code> and <code>sge</code>. Depending on the setup of the grid resource more than one job manager may be supported.
<p />
Just like in the previous example we can use <code>globus-job-run</code> to verify that the <code>fork</code> job manager is available and used for the execution: <pre class="screen">
[user@client ~]$ globus-job-run ce.opensciencegrid.org/jobmanager-fork /usr/bin/id
uid=506(ligo) gid=506(ligo) groups=506(ligo)
</pre>
<p />
Notice how we append <code>/jobmanager-fork</code> to the grid resource to explicitly request it. This can be used to detect if a certain job managers such as <code>condor</code> is available: <pre class="screen">
[user@client ~]$ globus-job-run ce.opensciencegrid.org/jobmanager-condor /bin/hostname
dom118
</pre>
<p />
Because the job is scheduled to be executed through <a href="/bin/view/Documentation/GlossaryH#DefsHTCondor" class="twikiAnchorLink">HTCondor</a> this command will likely require more time to complete. Here we used the <code>/bin/hostname</code> command to return the <em>hostname</em> of the worker node executing the job.
<p />
To specify a job manager that is not supported by the grid resource creates a convenient way to find out what job managers are supported by the resource from the comfort of the command line: <pre class="screen">
[user@client ~]$ globus-job-run ce.opensciencegrid.org/jobmanager-pbs /bin/hostname
GRAM Job submission failed because the gatekeeper failed to find the requested service (error code 93)
[user@client ~]$ echo $?
93
</pre>
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  The <b>names for job managers are case sensitive</b> and are <b>all lower case for <a href="/bin/view/Documentation/GlossaryG#DefsGridResourceAllocationAndManagement" class="twikiAnchorLink">GRAM</a></b>.
</dd></dl> 
<p />
<p />
<p />
<p />
<p />
<a name="CondorTest"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Job_submission_using_Condor_G"></a> Job submission using Condor-G </span></h2>
This section only applies, if you have installed Condor-G in your client. Skip to the next section if otherwise.
<p />
This is a simple test. The <span class="twikiNewLink">Condor-G tutorial<a href="/bin/edit/Documentation/Release3/CondorSubmittingSingleJob?topicparent=Documentation/Release3.TestOSGClient" rel="nofollow" title="Condor-G tutorial (this topic does not yet exist; you can create it)">?</a></span> documents better more complex examples and you can find even more information in the <a href="http://www.cs.wisc.edu/condor/condorg/" target="_top">Condor-G documentation</a>.
<p /> <ol>
<li> Create a dummy shell script <pre class="screen">
[user@client ~]$ cat << SCRIPT > test.sh
#!/bin/bash
uname -a
id
SCRIPT
[user@client ~]$ chmod a+x test.sh
</pre>
</li> <li> Create a job submit file (replace the <font color="#ff0000">jobmanager-pbs</font> with the jobmanager you want to use on the CE)<pre class="screen">
[user@client ~]$ cat << JOB > submit.job
universe = grid
grid_resource = gt2 ce.opensciencegrid.org/<font color="#ff0000">jobmanager-pbs</font>
executable = test.sh
log = log
output = output
error = error
Transfer_Executable = True
transfer_Input_files = 
transfer_Output_files = 
WhenToTransferOutput  = ON_EXIT
Notification = Never
queue
JOB
</pre>
</li> <li> Submit job <pre class="screen">
[user@client ~]$ condor_submit submit.job
Submitting job(s).
1 job(s) submitted to cluster 1.
</pre>
</li> <li> Monitor the job with job <pre class="screen">
[user@client ~]$ condor_q

-- Submitter: submit.my.org : <1.2.3.4:22878> : submit.my.org
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   1.0   user           10/7  19:03   0+00:00:00 I  0   0.0  test.sh           

1 jobs; 1 idle, 0 running, 0 held
</pre>
</li> <li> Once the job finishes (i.e. is not in the queue anymore), you will get the output in the <code>output</code> file.  Check the <code>log</code> file for reports on progress or if the job fails.
</li></ol> 
<p />
<p />
<p />
<p />
<h1><a name="Data_Transfer_Test"></a> Data Transfer Test </h1>
<p />
Data can be transferred to and from a grid resource using a version of ftp that supports grid authentication called <a href="/bin/view/Documentation/GlossaryG#DefsGridFTP" class="twikiAnchorLink">GridFTP</a>. Each <a href="/bin/view/Documentation/GlossaryC#DefsComputeElement" class="twikiAnchorLink">Compute Element</a> has a <a href="/bin/view/Documentation/GlossaryG#DefsGridFTP" class="twikiAnchorLink">GridFTP</a> server. Also all <a href="/bin/view/Documentation/GlossaryS#DefsStorageElement" class="twikiAnchorLink">Storage Element</a> have <a href="/bin/view/Documentation/GlossaryG#DefsGridFTP" class="twikiAnchorLink">GridFTP</a> servers, either public or behind a different frontend like <a href="/bin/view/Documentation/GlossaryS#DefsSrm" class="twikiAnchorLink">Storage Resource Manager</a>. The <code>globus-url-copy</code> command can be used to transfer files using <a href="/bin/view/Documentation/GlossaryG#DefsGridFTP" class="twikiAnchorLink">GridFTP</a>.
<p />
To verify that GridFTP is working correctly we will 
<p /> <ol>
<li> create a file using <code>dd</code>
</li> <li> transfer the file <em>to</em> the grid resource using <code>globus-url-copy</code>
</li> <li> transfer the file back <em>from</em> the grid resource using <code>globus-url-copy</code>
</li> <li> compare both files using <code>diff</code>
</li></ol> 
<p />
First let's create the test file: <pre class="screen">
[user@client ~]$ dd if=/dev/zero of=/tmp/ce.opensciencegrid.org.test.0 bs=1k count=1024
1024+0 records in
1024+0 records out
1048576 bytes (1.0 MB) copied, 0.005332 seconds, 197 MB/s
</pre>
<p />
Next let's transfer the file to the grid resource: <pre class="screen">
[user@client ~]$ globus-url-copy file:///tmp/ce.opensciencegrid.org.test.0 gsiftp://ce.opensciencegrid.org/~/ce.opensciencegrid.org.test.0
[user@client ~]$ echo $?
0
</pre>
<p />
To copy the file back to your resource use:<pre class="screen">
[user@client ~]$ globus-url-copy gsiftp://ce.opensciencegrid.org/~/ce.opensciencegrid.org.test.0 file:///tmp/ce.opensciencegrid.org.test.1
[user@client ~]$ echo $?
0
</pre>
<p />
Finally let's compare the <em>original</em> with the <em>copy</em> received back from the remote resource: <pre class="screen">
[user@client ~]$ diff /tmp/ce.opensciencegrid.org.test.0  /tmp/ce.opensciencegrid.org.test.1
[user@client ~]$ echo $?
0
</pre>
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  The <code>file</code> protocol in the <strong>URI</strong> is used for files on a local file system. In this case no authentication is performed with the local resource before the file is read or written. Replacing <code>file</code> by <code>gsiftp</code> always requires a <a href="/bin/view/Documentation/GlossaryG#DefsGridFTP" class="twikiAnchorLink">GridFTP</a> server running at the resource specified in the URI.
</dd></dl> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="File_Transfer_using_UberFTP"></a> File Transfer using UberFTP </span></h2>
<code>uberftp</code> is another command to transfer files using <a href="/bin/view/Documentation/GlossaryG#DefsGridFTP" class="twikiAnchorLink">GridFTP</a>. 
<p />
<pre class="screen">
[user@client ~]$uberftp ce.opensciencegrid.org  ls
220 GSI FTP door ready
200 User fnalgrid logged in
drwx------  1 fnalgrid   fnalgrid            512 Jan 26  2010 some_dir
</pre>
<pre class="screen">
[user@client ~]$uberftp ce.opensciencegrid.org  "ls <font color="#ff0000">some_dir</font>"
220 GSI FTP door ready
200 User fnalgrid logged in
-r--------  1 fnalgrid   fnalgrid             15 Jan 26  2010 some_file
</pre>
<pre class="screen">
[user@client ~]$uberftp ce.opensciencegrid.org  "cat <font color="#ff0000">some_dir/some_file</font>"
220 GSI FTP door ready
200 User fnalgrid logged in
Some text from some_file
</pre>
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="File_Transfer_using_LCG_Utils"></a> File Transfer using LCG-Utils </span></h2>
<a href="/bin/view/Documentation/Release3/LcgUtilities" class="twikiLink">LCG-Utils</a> is a set of programs that can transfer files from a GridFTP or SRM <a href="/bin/view/Documentation/GlossaryS#DefsStorageElement" class="twikiAnchorLink">Storage Element</a>.
<p /> <ol>
<li> ls <pre class="screen">
[user@client ~]$ lcg-ls -D srmv2 -b srm://red-srm1.unl.edu:8443/srm/v2/server?SFN=/mnt/hadoop/
/mnt/hadoop/Trash
/mnt/hadoop/backups
/mnt/hadoop/chukwa
/mnt/hadoop/dropfiles
/mnt/hadoop/hello_world
/mnt/hadoop/images
/mnt/hadoop/logs
/mnt/hadoop/lost+found
/mnt/hadoop/public
/mnt/hadoop/scratch
/mnt/hadoop/system
/mnt/hadoop/tmp
/mnt/hadoop/user
</pre>
</li> <li> Transfer <pre class="screen">
[user@client ~]$ lcg-cp -D srmv2 -b srm://red-srm1.unl.edu:8443/srm/v2/server?SFN=/mnt/hadoop/dropfiles/hello_world file://`pwd`/hello_world
[user@client ~]$ cat hello_world
hello world!
[user@client ~]$ rm hello_world 
</pre>
</li></ol> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="SRM_Fermi"></a> SRM-Fermi </span></h2>
SRM-Fermi is a set of programs that can transfer files from a GridFTP or SRM <a href="/bin/view/Documentation/GlossaryS#DefsStorageElement" class="twikiAnchorLink">Storage Element</a>.
<p /> <ol>
<li> ls <pre class="screen">
[user@client ~]$ srmls srm://red-srm1.unl.edu:8443/srm/v2/server?SFN=/mnt/hadoop/
  /mnt/hadoop//
      /mnt/hadoop/Trash/
      /mnt/hadoop/backups/
      /mnt/hadoop/chukwa/
      /mnt/hadoop/dropfiles/
      /mnt/hadoop/hello_world
      /mnt/hadoop/images/
      /mnt/hadoop/logs/
      /mnt/hadoop/lost+found/
      /mnt/hadoop/public/
      /mnt/hadoop/scratch/
      /mnt/hadoop/system/
      /mnt/hadoop/tmp/
      /mnt/hadoop/user/ 
</pre>
</li> <li> Transfer <pre class="screen">
[user@client ~]$ srmcp srm://red-srm1.unl.edu:8443/srm/v2/server?SFN=/mnt/hadoop/dropfiles/hello_world file:///`pwd`/hello_world
[user@client ~]$ cat hello_world 
hello world!
[user@client ~]$ rm hello_world 
</pre>
</li></ol> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="SRM_LBNL"></a> SRM LBNL </span></h2>
SRM-LBNL is a set of programs that can transfer files from a GridFTP or SRM <a href="/bin/view/Documentation/GlossaryS#DefsStorageElement" class="twikiAnchorLink">Storage Element</a>.
These are similar to SRM-Fermi and very verbose (click on the link to see the output).
<p /> <ol>
<li> ls <pre class="screen">
[user@client ~]$ srm-ls srm://red-srm1.unl.edu:8443/srm/v2/server?SFN=/mnt/hadoop/ 
...see long output below...
</pre>   <div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdDocumentation/Release3TestOSGClient2show" class="twistyTrigger twikiUnvisited twistyHidden twistyInited"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Show command output...</span></a> </span> <span id="twistyIdDocumentation/Release3TestOSGClient2hide" class="twistyTrigger twikiUnvisited twistyHidden twistyInited"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide command output...</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdDocumentation/Release3TestOSGClient2toggle" class="twistyContent twikiMakeHidden twistyInited">  <pre class="screen">
srm-ls   2.2.2.1.0   Mon Jul 11 10:31:14 PDT 2011
BeStMan and SRM-Clients Copyright(c) 2007-2011,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@LBL.GOV and documents at http://sdm.lbl.gov/bestman

 
BUILT  Fri Jul 15 13:24:22 EDT 2011  on  glidein.unl.edu
SRM-CLIENT: Connecting to serviceurl httpg://red-srm1.unl.edu:8443/srm/v2/server

SRM-DIR: Mon Jul 25 18:59:23 CDT 2011 Calling srmLsRequest

SRM-DIR: ..........................
	Status    : SRM_SUCCESS
	Explanation : null
	Request token=null

	SURL=/mnt/hadoop/
	Bytes=null
	FileType=DIRECTORY
	StorageType=null
	Status=SRM_SUCCESS
	Explanation=Read from disk..
	FileLocality=ONLINE

	   SURL=/mnt/hadoop/Trash
	   Bytes=null
	   FileType=DIRECTORY
	   StorageType=null
	   Status=SRM_SUCCESS
	   Explanation=Read from disk..

	   SURL=/mnt/hadoop/backups
	   Bytes=null
	   FileType=DIRECTORY
	   StorageType=null
	   Status=SRM_SUCCESS
	   Explanation=Read from disk..

	   SURL=/mnt/hadoop/chukwa
	   Bytes=null
	   FileType=DIRECTORY
	   StorageType=null
	   Status=SRM_SUCCESS
	   Explanation=Read from disk..

	   SURL=/mnt/hadoop/dropfiles
	   Bytes=null
	   FileType=DIRECTORY
	   StorageType=null
	   Status=SRM_SUCCESS
	   Explanation=Read from disk..

	   SURL=/mnt/hadoop/hello_world
	   Bytes=13
	   FileType=FILE
	   StorageType=null
	   Status=SRM_SUCCESS
	   Explanation=Read from disk..

	   SURL=/mnt/hadoop/images
	   Bytes=null
	   FileType=DIRECTORY
	   StorageType=null
	   Status=SRM_SUCCESS
	   Explanation=Read from disk..

	   SURL=/mnt/hadoop/logs
	   Bytes=null
	   FileType=DIRECTORY
	   StorageType=null
	   Status=SRM_SUCCESS
	   Explanation=Read from disk..

	   SURL=/mnt/hadoop/lost+found
	   Bytes=null
	   FileType=DIRECTORY
	   StorageType=null
	   Status=SRM_SUCCESS
	   Explanation=Read from disk..

	   SURL=/mnt/hadoop/public
	   Bytes=null
	   FileType=DIRECTORY
	   StorageType=null
	   Status=SRM_SUCCESS
	   Explanation=Read from disk..

	   SURL=/mnt/hadoop/scratch
	   Bytes=null
	   FileType=DIRECTORY
	   StorageType=null
	   Status=SRM_SUCCESS
	   Explanation=Read from disk..

	   SURL=/mnt/hadoop/system
	   Bytes=null
	   FileType=DIRECTORY
	   StorageType=null
	   Status=SRM_SUCCESS
	   Explanation=Read from disk..

	   SURL=/mnt/hadoop/tmp
	   Bytes=null
	   FileType=DIRECTORY
	   StorageType=null
	   Status=SRM_SUCCESS
	   Explanation=Read from disk..

	   SURL=/mnt/hadoop/user
	   Bytes=null
	   FileType=DIRECTORY
	   StorageType=null
	   Status=SRM_SUCCESS
	   Explanation=Read from disk..

SRM-DIR: Printing text report now ...
SRM-CLIENT*REQUEST_STATUS=SRM_SUCCESS
SRM-CLIENT*SURL=/mnt/hadoop/
SRM-CLIENT*FILETYPE=DIRECTORY
SRM-CLIENT*FILE_STATUS=SRM_SUCCESS
SRM-CLIENT*FILE_EXPLANATION=Read from disk..
SRM-CLIENT*FILELOCALITY=ONLINE
SRM-CLIENT*SURL=/mnt/hadoop/Trash
SRM-CLIENT*FILETYPE=DIRECTORY
SRM-CLIENT*FILE_STATUS=SRM_SUCCESS
SRM-CLIENT*FILE_EXPLANATION=Read from disk..
SRM-CLIENT*SURL=/mnt/hadoop/backups
SRM-CLIENT*FILETYPE=DIRECTORY
SRM-CLIENT*FILE_STATUS=SRM_SUCCESS
SRM-CLIENT*FILE_EXPLANATION=Read from disk..
SRM-CLIENT*SURL=/mnt/hadoop/chukwa
SRM-CLIENT*FILETYPE=DIRECTORY
SRM-CLIENT*FILE_STATUS=SRM_SUCCESS
SRM-CLIENT*FILE_EXPLANATION=Read from disk..
SRM-CLIENT*SURL=/mnt/hadoop/dropfiles
SRM-CLIENT*FILETYPE=DIRECTORY
SRM-CLIENT*FILE_STATUS=SRM_SUCCESS
SRM-CLIENT*FILE_EXPLANATION=Read from disk..
SRM-CLIENT*SURL=/mnt/hadoop/hello_world
SRM-CLIENT*BYTES=13
SRM-CLIENT*FILETYPE=FILE
SRM-CLIENT*FILE_STATUS=SRM_SUCCESS
SRM-CLIENT*FILE_EXPLANATION=Read from disk..
SRM-CLIENT*SURL=/mnt/hadoop/images
SRM-CLIENT*FILETYPE=DIRECTORY
SRM-CLIENT*FILE_STATUS=SRM_SUCCESS
SRM-CLIENT*FILE_EXPLANATION=Read from disk..
SRM-CLIENT*SURL=/mnt/hadoop/logs
SRM-CLIENT*FILETYPE=DIRECTORY
SRM-CLIENT*FILE_STATUS=SRM_SUCCESS
SRM-CLIENT*FILE_EXPLANATION=Read from disk..
SRM-CLIENT*SURL=/mnt/hadoop/lost+found
SRM-CLIENT*FILETYPE=DIRECTORY
SRM-CLIENT*FILE_STATUS=SRM_SUCCESS
SRM-CLIENT*FILE_EXPLANATION=Read from disk..
SRM-CLIENT*SURL=/mnt/hadoop/public
SRM-CLIENT*FILETYPE=DIRECTORY
SRM-CLIENT*FILE_STATUS=SRM_SUCCESS
SRM-CLIENT*FILE_EXPLANATION=Read from disk..
SRM-CLIENT*SURL=/mnt/hadoop/scratch
SRM-CLIENT*FILETYPE=DIRECTORY
SRM-CLIENT*FILE_STATUS=SRM_SUCCESS
SRM-CLIENT*FILE_EXPLANATION=Read from disk..
SRM-CLIENT*SURL=/mnt/hadoop/system
SRM-CLIENT*FILETYPE=DIRECTORY
SRM-CLIENT*FILE_STATUS=SRM_SUCCESS
SRM-CLIENT*FILE_EXPLANATION=Read from disk..
SRM-CLIENT*SURL=/mnt/hadoop/tmp
SRM-CLIENT*FILETYPE=DIRECTORY
SRM-CLIENT*FILE_STATUS=SRM_SUCCESS
SRM-CLIENT*FILE_EXPLANATION=Read from disk..
SRM-CLIENT*SURL=/mnt/hadoop/user
SRM-CLIENT*FILETYPE=DIRECTORY
SRM-CLIENT*FILE_STATUS=SRM_SUCCESS
SRM-CLIENT*FILE_EXPLANATION=Read from disk..
</pre>  </div></div> <!--/twistyPlugin-->
</li> <li> Transfer <pre class="screen">
[user@client ~]$ srm-copy srm://red-srm1.unl.edu:8443/srm/v2/server?SFN=/mnt/hadoop/dropfiles/hello_world file:///`pwd`/hello_world 
...see long output below...
[user@client ~]$ cat hello_world
hello world! 
[user@client ~]$ rm hello_world 
</pre>   <div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdDocumentation/Release3TestOSGClient3show" class="twistyTrigger twikiUnvisited twistyHidden twistyInited"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Show command output...</span></a> </span> <span id="twistyIdDocumentation/Release3TestOSGClient3hide" class="twistyTrigger twikiUnvisited twistyHidden twistyInited"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide command output...</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdDocumentation/Release3TestOSGClient3toggle" class="twistyContent twikiMakeHidden twistyInited">  <pre class="screen">
srm-copy   2.2.2.1.0   Mon Jul 11 10:31:14 PDT 2011
BeStMan and SRM-Clients Copyright(c) 2007-2011,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@LBL.GOV and documents at http://sdm.lbl.gov/bestman

 
BUILT  Fri Jul 15 13:24:22 EDT 2011  on  glidein.unl.edu
SRM-CLIENT: Tue Jul 26 12:01:28 CDT 2011 Connecting to httpg://red-srm1.unl.edu:8443/srm/v2/server

SRM-CLIENT: Tue Jul 26 12:01:29 CDT 2011 Calling SrmPrepareToGet Request now ...
request.token= get:1034871

Request.status=SRM_SUCCESS
Request.explanation=null

SRM-CLIENT: RequestFileStatus for SURL=srm://red-srm1.unl.edu:8443/srm/v2/server?SFN=/mnt/hadoop/dropfiles/hello_world is Ready.
SRM-CLIENT: received TURL=gsiftp://red-gridftp6.unl.edu:2811//mnt/hadoop/dropfiles/hello_world

SRM-CLIENT: Tue Jul 26 12:01:33 CDT 2011 start file transfer
SRM-CLIENT:Source=gsiftp://red-gridftp6.unl.edu:2811//mnt/hadoop/dropfiles/hello_world
SRM-CLIENT:Target=file:////home/dweitzel/hello_world

SRM-CLIENT: Tue Jul 26 12:01:36 CDT 2011 end file transfer for srm://red-srm1.unl.edu:8443/srm/v2/server?SFN=/mnt/hadoop/dropfiles/hello_world

SRM-CLIENT: Tue Jul 26 12:01:36 CDT 2011 Calling releaseFile

SRM-CLIENT:  ...Calling srmReleaseFiles...
	status=SRM_SUCCESS
	explanation=null
	status=SRM_SUCCESS
	explanation=null

SRM-CLIENT: Request completed with success

SRM-CLIENT: Printing text report now ...

SRM-CLIENT*REQUESTTYPE=get
SRM-CLIENT*TOTALFILES=1
SRM-CLIENT*TOTAL_SUCCESS=1
SRM-CLIENT*TOTAL_FAILED=0
SRM-CLIENT*REQUEST_TOKEN=get:1034871
SRM-CLIENT*REQUEST_STATUS=SRM_SUCCESS
SRM-CLIENT*SOURCEURL[0]=srm://red-srm1.unl.edu:8443/srm/v2/server?SFN=/mnt/hadoop/dropfiles/hello_world
SRM-CLIENT*TARGETURL[0]=file:////home/dweitzel/hello_world
SRM-CLIENT*TRANSFERURL[0]=gsiftp://red-gridftp6.unl.edu:2811//mnt/hadoop/dropfiles/hello_world
SRM-CLIENT*ACTUALSIZE[0]=13
SRM-CLIENT*FILE_STATUS[0]=SRM_FILE_PINNED
</pre>   </div></div> <!--/twistyPlugin-->
</li></ol> 
<p />
<a href="https://twiki.grid.iu.edu/bin/view/Trash/ReleaseDocumentationValidateClients" target="_top">https://twiki.grid.iu.edu/bin/view/Trash/ReleaseDocumentationValidateClients</a>
<h1><a name="Test_Discovery_Tools"></a> Test Discovery Tools </h1>
The OSG Discovery Tools query OSG information system, BDII, to discover information about <a href="/bin/view/Documentation/GlossaryC#DefsComputeElement" class="twikiAnchorLink">Compute Element</a>s and <a href="/bin/view/Documentation/GlossaryS#DefsStorageElement" class="twikiAnchorLink">Storage Element</a>s.
<p />
<pre class="screen">
[user@client ~]$ get_os_versions --vo Engage --match "ScientificSLF Lederman"

Site Name           Compute Element ID                                          OS Version                    
FNAL_FERMIGRID      fermigridosg1.fnal.gov:2119/jobmanager-condor-default       ScientificSLF Lederman 5.5    
FNAL_GPGRID_1       fnpcosg1.fnal.gov:2119/jobmanager-condor-default            ScientificSLF Lederman 5.3    
FNAL_GPGRID_1       fnpcosg1.fnal.gov:2119/jobmanager-condor-group_engage       ScientificSLF Lederman 5.3    
Found OS ScientificSLF Lederman 5.5 for Engage VO at site FNAL_FERMIGRID 
</pre>
<pre class="screen">
[user@client ~]$ get_surl --vo Engage --show_site_name

SITE NAME                     SURL                                                                                                
UCSDT2                        srm://bsrm-1.t2.ucsd.edu:8443/srm/v2/server?SFN=/hadoop/engage/TESTFILE                             
UCR-HEP                       srm://charm.ucr.edu:10443/srm/v2/server?SFN=/data/bottom/cms/TESTFILE             
CIT_CMS_T2                    srm://cit-se.ultralight.org:8443/srm/v2/server?SFN=/mnt/hadoop/osg/engage/TESTFILE                  
GLOW                          srm://cmssrm.hep.wisc.edu:8443/srm/v2/server?SFN=/osg/vo/engage/TESTFILE                            
..
</pre>
<p />
<a name="OtherInfoTest"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Other_Information_System_Tools"></a> Other Information System Tools </span></h2>
There are many other tools that can query different components of the OSG information system.  The following examples are directed the OSG-ITB repositories (<code>osg-ress-4.fnal.gov</code>, the production one is <code>osg-ress-1.fnal.gov</code>).
More information can be found in <a href="/bin/view/Documentation/FindAvailableResource" class="twikiLink">find available resources</a>.
<p />
<a href="/bin/view/Documentation/GlossaryR#DefsRess" class="twikiAnchorLink">ReSS</a> (<a href="https://osg-ress-1.fnal.gov:8443/ReSS/" target="_top">here a Web page</a>) can be queried using Condor and ClassAds: <pre class=screen>[user@client ~]$ condor_status -pool osg-ress-4.fnal.gov -format '%s\n' GlueSiteName | sort | uniq
<b>CIT_ITB_1
ITB_INSTALL_TEST_2
ITB_INSTALL_TEST_3
CMS-BURT-ITB
...</b>
</pre>
<p />
<a href="/bin/view/Documentation/GlossaryB#DefsBDII" class="twikiAnchorLink">BDII</a> can be queried with <code>ldapsearch</code>: <ol>
<li> If you have no ldapsearch, you can install <code>openldap-clients</code> it with yum: <pre class=rootscreen>[user@client ~]$ yum install openldap-clients
</pre>
</li> <li> Query: <pre class=screen>[user@client ~]$ ldapsearch -x -LLL -p 2170 -h is-itb.grid.iu.edu -b mds-vo-name=LBNL_VTB,mds-vo-name=local,o=grid
<b>dn: mds-vo-name=LBNL_VTB,mds-vo-name=local,o=grid
objectClass: GlueTop
 
dn: GlueSEUniqueID=osp1.lbl.gov,mds-vo-name=LBNL_VTB,mds-vo-name=local,o=grid
...</b>
</pre>
</li></ol> 
<p />
LCG tools (<code>lcg-info</code> and <code>lcg-infosites</code>) can be used  for queries to the BDII as well:
<pre class=screen>[user@client ~]$ lcg-info --list-ce --bdii is-itb.grid.iu.edu:2170 --vo osg
<b>- CE: cithep201.ultralight.org:2119/jobmanager-condor-osg
- CE: cms-xen1.fnal.gov:2119/jobmanager-condor-osg
....</b>

[user@client ~]$ lcg-info --list-se --bdii is-itb.grid.iu.edu:2170 --vo osg
<b>- SE: cit-se.ultralight.org
- SE: cms-xen1.fnal.gov
...</b> 
 
[user@client ~]$ lcg-infosites --vo osg -f ce  --is is-itb.grid.iu.edu 
<b>valor del bdii: is-itb.grid.iu.edu:2170
#CPU    Free    Total Jobs      Running Waiting ComputingElement
----------------------------------------------------------
  40      40       0              0        0    osp1.lbl.gov:2119/jobmanager-pbs-batch
   2       0       0              0        0    tb10.grid.iu.edu:2119/jobmanager-condor-osg
1042       2       0              0        0    itb.rcac.purdue.edu:2119/jobmanager-condor-osg
...</b>

[user@client ~]$ lcg-infosites --vo osg -f se  --is is-itb.grid.iu.edu 
<b>Avail Space(Kb) Used Space(Kb)  Type    SEs
----------------------------------------------------------
125             2               n.a     osp1.lbl.gov
28824440        10638628        n.a     tb10.grid.iu.edu
37              242             n.a     itb.rcac.purdue.edu
...</b>
</pre>
<p />
<h1><a name="References"></a> References </h1> <ul>
<li> <a href="/bin/view/Documentation/FindAvailableResource" class="twikiLink">FindAvailableResource</a>
</li> <li> <a href="/bin/view/Documentation/Release3/TroubleshootingGuide" class="twikiLink">TroubleshootingGuide</a>
</li></ul> 
<p />
<h1><a name="Comments"></a> Comments </h1>
<p />
<form method="post" action="https://twiki.opensciencegrid.org/bin/save/Documentation/Release3/TestOSGClient" enctype="multipart/form-data" name="tableappend0" id="tableappend0">
<p />
<div class="commentPlugin commentPluginPromptBox">
<table><tr valign="middle"><td><textarea  rows="3" cols="70" name="comment" wrap="soft" onfocus="if(this.value=='')this.value=''" onblur="if(this.value=='')this.value=''"></textarea></td><td><input  type="submit" value="Add comment" /></td></tr></table>
</div><!--/commentPlugin-->
<p />
<input type="hidden" name="comment_action" value="save"  />
<input type="hidden" name="comment_type" value="tableappend"  />
<input type="hidden" name="comment_index" value="0"  /></form>
<p />
<p />
<!-- CONTENT MANAGEMENT PROJECT
############################################################################################################
 DEAR DOCUMENT OWNER
 <code><b>===============</b></code>
<p />
 Thank you for claiming ownership for this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/Documentation/Release3/FirstLast?topicparent=Documentation/Release3.TestOSGClient" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local OWNER = <span class="twikiNewLink">MarcoMambelli<a href="/bin/edit/Documentation/Release3/MarcoMambelli?topicparent=Documentation/Release3.TestOSGClient" rel="nofollow" title="MarcoMambelli (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
 Please define the document area, choose one of the defined areas from the next line
 DOC_AREA = (<span class="twikiNewLink">ComputeElement<a href="/bin/edit/Documentation/Release3/ComputeElement?topicparent=Documentation/Release3.TestOSGClient" rel="nofollow" title="ComputeElement (this topic does not yet exist; you can create it)">?</a></span>|General|Trash/Trash/Integration|Monitoring|Operations|Security|Storage|Trash/Tier3|User|VO) <ul>
<li> Local DOC_AREA       = General
</li></ul> 
<p />
 define the primary role the document serves, choose one of the defined roles from the next line
 DOC_ROLE = (Developer|Documenter|Scientist|Student|SysAdmin|VOManager) <ul>
<li> Local DOC_ROLE       = <span class="twikiNewLink">SysAdmin<a href="/bin/edit/Documentation/Release3/SysAdmin?topicparent=Documentation/Release3.TestOSGClient" rel="nofollow" title="SysAdmin (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
 Please define the document type, choose one of the defined types from the next line
 DOC_TYPE = (<span class="twikiNewLink">HowTo<a href="/bin/edit/Documentation/Release3/HowTo?topicparent=Documentation/Release3.TestOSGClient" rel="nofollow" title="HowTo (this topic does not yet exist; you can create it)">?</a></span>|Installation|Knowledge|Navigation|Planning|Training|Troubleshooting) <ul>
<li> Local DOC_TYPE       = Installation  Please define if this document in general needs to be reviewed before release ( 1 | 0 )
</li> <li> Local INCLUDE_REVIEW = 1
</li></ul> 
<p />
 Please define if this document in general needs to be tested before release ( 1 | 0 ) <ul>
<li> Local INCLUDE_TEST   = 1
</li></ul> 
<p />
 change to 1 once the document is ready to be reviewed and back to 0 if that is not the case <ul>
<li> Local REVIEW_READY   = 1
</li></ul> 
<p />
 change to 1 once the document is ready to be tested and back to 0 if that is not the case <ul>
<li> Local TEST_READY     = 1
</li></ul> 
<p />
 change to 1 only if the document has passed the review and the test (if applicable) and is ready for release <ul>
<li> Local RELEASE_READY  = 1
</li></ul> 
<p />
<p />
 DEAR DOCUMENT REVIEWER
 <code><b>==================</b></code>
<p />
 Thank for reviewing this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/Documentation/Release3/FirstLast?topicparent=Documentation/Release3.TestOSGClient" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local REVIEWER       = <span class="twikiNewLink">JamesWeichel<a href="/bin/edit/Documentation/Release3/JamesWeichel?topicparent=Documentation/Release3.TestOSGClient" rel="nofollow" title="JamesWeichel (this topic does not yet exist; you can create it)">?</a></span> Please define the review status for this document to be in progress ( 2 ), failed ( 0 ) or passed ( 1 )
</li> <li> Local REVIEW_PASSED  = 1
</li></ul> 
<p />
<p />
 DEAR DOCUMENT TESTER
 <code><b>================</b></code>
<p />
 Thank for testing this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/Documentation/Release3/FirstLast?topicparent=Documentation/Release3.TestOSGClient" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local TESTER         = <span class="twikiNewLink">JamesWeichel<a href="/bin/edit/Documentation/Release3/JamesWeichel?topicparent=Documentation/Release3.TestOSGClient" rel="nofollow" title="JamesWeichel (this topic does not yet exist; you can create it)">?</a></span> Please define the test status for this document to be in progress ( 2 ), failed ( 0 ) or passed ( 1 )
</li> <li> Local TEST_PASSED    = 1
</li></ul> 
############################################################################################################
--></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Documentation/Release3<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Documentation/Release3/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>TestOSGClient</span> <br />    
Topic revision: r34 - 07 Feb 2017 - 19:38:25 - <a href="/bin/view/Main/BrianBockelman" class="twikiLink">BrianBockelman</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />