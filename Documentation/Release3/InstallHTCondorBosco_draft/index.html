<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> InstallHTCondorBosco_draft &lt; Documentation/Release3 &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Documentation/Release3/InstallHTCondorBosco_draft?_T=16 Feb 2017" type="application/x-wiki" title="edit InstallHTCondorBosco_draft" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Documentation/Release3/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Documentation/Release3/InstallHTCondorBosco_draft"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFFFFF;
	}
	.patternBookView {
		border-color:#FFFFFF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--TABLEPLUGIN_table1--><style type="text/css" media="all">
.tableSortIcon img {padding-left:.3em; vertical-align:text-bottom;}
</style>
<!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <style type="text/css">
code em, pre em { color: red; font-weight: normal; font-style: normal; }
</style>
<p />
<h1><a name="Installing_and_Maintaining_HTCon"></a> Installing and Maintaining HTCondor-CE-Bosco </h1>
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Installing_and_Maintaining_HTCon"> Installing and Maintaining HTCondor-CE-Bosco</a> <ul>
<li> <a href="?cover=print#About_This_Guide"> About This Guide</a>
</li> <li> <a href="?cover=print#Before_Starting"> Before Starting</a>
</li> <li> <a href="?cover=print#Installing_HTCondor_CE_Bosco"> Installing HTCondor-CE-Bosco</a> <ul>
<li> <a href="?cover=print#SSH_Key_to_Remote_Login_Host"> SSH Key to Remote Login Host</a>
</li></ul> 
</li> <li> <a href="?cover=print#Configuring_HTCondor_CE_Bosco"> Configuring HTCondor-CE-Bosco</a>
</li> <li> <a href="?cover=print#Using_HTCondor_CE_Bosco"> Using HTCondor-CE-Bosco</a> <ul>
<li> <a href="?cover=print#Managing_HTCondor_CE_and_associa"> Managing HTCondor-CE and associated services</a>
</li> <li> <a href="?cover=print#Using_HTCondor_CE_tools"> Using HTCondor-CE tools</a>
</li></ul> 
</li> <li> <a href="?cover=print#Verifying_HTCondor_CE_Bosco"> Verifying HTCondor-CE-Bosco</a>
</li> <li> <a href="?cover=print#Troubleshooting_HTCondor_CE_Bosc"> Troubleshooting HTCondor-CE-Bosco</a>
</li> <li> <a href="?cover=print#Reference"> Reference</a> <ul>
<li> <a href="?cover=print#Configuration"> Configuration</a>
</li> <li> <a href="?cover=print#Users"> Users</a>
</li> <li> <a href="?cover=print#Certificates"> Certificates</a>
</li> <li> <a href="?cover=print#Networking"> Networking</a>
</li></ul> 
</li></ul> 
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="About_This_Guide"></a> About This Guide </span></h2>
<p />
The HTCondor-CE-Bosco software is a special configuration of the <a href="/bin/view/Documentation/Release3/InstallHTCondorCE" class="twikiLink">HTCondor-CE</a> <em>job gateway</em> software that can submit jobs to your local batch system over SSH. Like the HTCondor-CE, it handles authorization and delegation of jobs but unlike HTCondor-CE, it does not have to be installed locally and is intended to be hosted by the OSG User Support group. 
<p />
Use this page to learn how to install, configure, run, test, and troubleshoot HTCondor-CE-Bosco from the OSG software repositories.
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  HTCondor-CE-Bosco uses development versions of HTCondor in its software chain so therefore should be considered to have all the caveats of development-grade software
</dd></dl> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Before_Starting"></a> Before Starting </span></h2>
<p />
As with all OSG software installations, there are some one-time (per host) steps to prepare in advance:
<p /> <ul>
<li> Ensure the host has <a href="/bin/view/Documentation/Release3/SupportedOperatingSystems" class="twikiLink">a supported operating system</a>
</li> <li> Obtain root access to the host
</li> <li> Prepare <a href="/bin/view/Documentation/Release3/YumRepositories" class="twikiLink">the required Yum repositories</a>
</li> <li> Install <a href="/bin/view/Documentation/Release3/InstallCertAuth" class="twikiLink">CA certificates</a>
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Installing_HTCondor_CE_Bosco"></a> Installing HTCondor-CE-Bosco </span></h2>
<p />
An HTCondor-CE-Bosco installation consists of the job gateway (i.e., the HTCondor-CE job router) and other support software (e.g., GridFTP, a Gratia probe, authorization software). To simplify installation, OSG provides convenience RPMs that install all required software with a single command.
<p />
<ol>
<p />
    <li>
      <p>Clean yum cache:</p>
      <pre class="rootscreen">[root@client ~]$ yum clean all --enablerepo=*</pre>
    </li>
    <li>
      <p>Update software:</p>
      <pre class="rootscreen">[root@client ~]$ yum update</pre>
      <p>This command will update <strong>all</strong> packages on your system.</p>
    </li>
<p />
<p />
  <li>
    <p>Install the CE software:</p>
    <pre class="rootscreen">[root@client ~]$ yum install osg-ce-bosco</pre>
  </li>
</ol>
<p />
<p />
<h3><a name="SSH_Key_to_Remote_Login_Host"></a> SSH Key to Remote Login Host </h3>
<p />
It is required to have an passwordless SSH to the remote login host.  You can create an passwordless ssh key to the remote host with the <code>ssh-keygen</code> and <code>ssh-copy-id</code> commands.  In the following commands, we save the key in <code>/etc/osg/bosco.key</code> for use later in the configuration.
<p /> <ol>
<li> Create the ssh key.  You will need to press enter twice at this prompt.      <pre class="rootscreen">[root@client ~]$ ssh-keygen -f /etc/osg/bosco.key</pre>
</li> <li> Copy the SSH key to the remote host.      <pre class="rootscreen">[root@client ~]$ ssh-copy-id -i /etc/osg/bosco.key &lt;username&gt;@&lt;remotehost&gt; </pre>
</li></ol> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Configuring_HTCondor_CE_Bosco"></a> Configuring HTCondor-CE-Bosco </span></h2>
<p />
The configuration of the HTCondor-CE-Bosco is much the same as the regular <a href="/bin/view/Documentation/Release3/InstallHTCondorCE#Configuring_HTCondor_CE" class="twikiAnchorLink">HTCondor-CE</a>.  The differences are noted below:
<p />
Enable Bosco by editing the <code>enabled</code> field in the <code>/etc/osg/config.d/20-<span style="background-color: #FFCCFF;">bosco</span>.ini</code> file:<pre class="file">enabled = <span style="background-color: #FFCCFF;">True</span></pre>
<p />
Additionally in the <code>/etc/osg/config.d/20-bosco.ini</code>, the other configuration values are as follows:
<p /> <ul>
<li> <code>users</code>: A comma separated list of users to enable Bosco submissions.  This list of users are the only users that will be able to submit to the remote cluster through Bosco.  Traditionally, the authentication step of the HTCondor-CE will map a certificate to a specific local username.  This mapping may be in GUMS or edg-mkgridmap.
</li> <li> <code>endpoint</code>: The remote cluster submission host for which Bosco will submit jobs to the scheduler.  This is in the form of <code>user@example.com</code>, exactly as you would use to ssh into the remote cluster.
</li> <li> <code>batch</code>: The type of scheduler installed on the remote cluster.
</li> <li> <code>ssh_key</code>: The location of the ssh key, as created above.  This should be <code>/etc/osg/bosco.key</code>.
</li></ul> 
<p />
After configuration all of the required fields in <code>/etc/osg/config.d/20-bosco.ini</code>, you can start the installation by running the osg-configure script:
<pre class="rootscreen">[root@client ~]$ osg-configure -c </pre>
<p />
If you have not already logged into the remote cluster specific in the <code>endpoint</code> variable above, then you will be asked to accept the remote host's SSH fingerprint.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Using_HTCondor_CE_Bosco"></a> Using HTCondor-CE-Bosco </span></h2>
<p />
Using HTCondor-CE-Bosco is the same as <a href="/bin/view/Documentation/Release3/InstallHTCondorCE#UsingHTCondorCE" class="twikiAnchorLink">using the HTCondor-CE</a>. 
As a site administrator, there are a few ways in which you might use the HTCondor-CE:
<p /> <ul>
<li> Managing the HTCondor-CE and associated services
</li> <li> Using HTCondor-CE administrative tools to monitor and maintain the job gateway
</li> <li> Using HTCondor-CE user tools to test gateway operations
</li></ul> 
<p />
<a name="ManagingServices"></a>
<h3><a name="Managing_HTCondor_CE_and_associa"></a> Managing HTCondor-CE and associated services </h3>
<p />
In addition to the HTCondor-CE job gateway service itself, there are a number of supporting services in your installation. The specific services are:
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table1" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <font color="#252b37">Software</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <font color="#252b37">Service name</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <font color="#252b37">Notes</font> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Fetch CRL </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> On EL 6: <code>fetch-crl-boot</code> and <code>fetch-crl-cron</code> <br />     On EL 5: <code>fetch-crl3-boot</code> and <code>fetch-crl3-cron</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> See <a href="/bin/view/Documentation/Release3/InstallCertAuth#Start_Stop_fetch_crl_A_quick_gui" class="twikiAnchorLink">CA documentation</a> for more info </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> Gratia </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <code>gratia-probes-cron</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> Accounting software </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Your batch system </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <code>condor</code> or <code>pbs_server</code> or &hellip; </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> OSG Info Services </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <code>osg-info-services</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> HTCondor-CE </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> <code>condor-ce</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> &nbsp; </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
Start the services in the order listed and stop them in reverse order. As a reminder, here are common service commands (all run as <code>root</code>):
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table2" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <font color="#252b37">To &hellip;</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <font color="#252b37">On EL&nbsp;6, run the command&hellip;</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <font color="#252b37">On EL&nbsp;7, run the command&hellip;</font> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Start a service </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <code>service <em>SERVICE-NAME</em> start</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> <code>systemctl start <em>SERVICE-NAME</em></code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> Stop a service </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <code>service <em>SERVICE-NAME</em> stop</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> <code>systemctl start <em>SERVICE-NAME</em></code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Enable a service to start during boot </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <code>chkconfig <em>SERVICE-NAME</em> on</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> <code>systemctl enable <em>SERVICE-NAME</em></code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> Disable a service from starting during boot </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLast"> <code>chkconfig <em>SERVICE-NAME</em> off</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> <code>systemctl disable <em>SERVICE-NAME</em></code> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
<h3><a name="Using_HTCondor_CE_tools"></a> Using HTCondor-CE tools </h3>
<p />
Some of the HTCondor-CE administrative and user tools are documented in <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE" class="twikiLink">the HTCondor-CE troubleshooting guide</a>.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Verifying_HTCondor_CE_Bosco"></a> Verifying HTCondor-CE-Bosco </span></h2>
<p />
<p />
There are different ways to make sure that your HTCondor-CE host is working well:
<p /> <ul>
<li> Perform automated validation by running <a href="/bin/view/Documentation/Release3/InstallRSV" class="twikiLink">RSV</a>
</li> <li> Manually verify your HTCondor-CE using <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE" class="twikiLink">the HTCondor-CE troubleshooting guide</a>; useful tools include: <ul>
<li> <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE#condor_ce_run" class="twikiAnchorLink">condor_ce_run</a>
</li> <li> <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE#condor_ce_trace" class="twikiAnchorLink">condor_ce_trace</a>
</li> <li> <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE#condor_submit" class="twikiAnchorLink">condor_submit</a>
</li></ul> 
</li></ul> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Troubleshooting_HTCondor_CE_Bosc"></a> Troubleshooting HTCondor-CE-Bosco </span></h2>
<p />
Most issues are caused by the interaction between the HTCondor-CE and the remote cluster.  Logs of these interactions are located at <code>/var/log/condor-ce/GridManager.log.*</code>. You can increase the debugging level of the logs by setting <code>GRIDMANAGER_DEBUG = D_FULLDEBUG</code> in <code>/etc/condor-ce/config.d/80-bosco-routes.conf</code>
<p />
<p />
For information on how to troubleshoot your HTCondor-CE, please refer to <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE" class="twikiLink">the HTCondor-CE troubleshooting guide</a>.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Reference"></a> Reference </span></h2>
<p />
Here are some other HTCondor-CE documents that might be helpful:
<p /> <ul>
<li> <a href="/bin/view/Documentation/Release3/InstallHTCondorCE" class="twikiLink">HTCondor-CE Installation Guide</a>
</li> <li> <a href="/bin/view/Documentation/Release3/HTCondorCEOverview" class="twikiLink">HTCondor-CE overview and architecture</a>
</li> <li> <a href="/bin/view/Documentation/Release3/JobRouterRecipes" class="twikiLink">Configuring HTCondor-CE job routes</a>
</li> <li> <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE" class="twikiLink">The HTCondor-CE troubleshooting guide</a>
</li> <li> <a href="/bin/view/Documentation/Release3/SubmittingHTCondorCE" class="twikiLink">Submitting Jobs to HTCondor-CE</a>
</li></ul> 
<p />
<h3><a name="Configuration"></a> Configuration </h3>
<p />
<p />
The following directories contain the configuration for HTCondor-CE. The directories are parsed in the order presented and thus configuration within the final directory will override configuration specified in the previous directories.
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table3" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorBosco_draft?cover=print;sortcol=0;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Location</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorBosco_draft?cover=print;sortcol=1;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Comment</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>/usr/share/condor-ce/config.d/</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Configuration defaults (overwritten on package updates) </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>/etc/condor-ce/config.d/</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> Files in this directory are parsed in alphanumeric order (i.e., <code>99-local.conf</code> will override values in <code>01-ce-auth.conf</code>) </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
For a detailed order of the way configuration files are parsed, run the following command:
<p />
<pre class="screen">
[user@client ~]$ condor_ce_config_val -config
</pre>
<p />
<p />
<h3><a name="Users"></a> Users </h3>
<p />
<p />
The following users are needed by HTCondor-CE at all sites:
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table4" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorBosco_draft?cover=print;sortcol=0;table=4;up=0#sorted_table" title="Sort by this column"><font color="#252b37">User</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorBosco_draft?cover=print;sortcol=1;table=4;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Comment</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>condor</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> The HTCondor-CE will be run as root, but perform most of its operations as the <code>condor</code> user. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>gratia</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Runs the Gratia probes to collect accounting data </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>tomcat</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> Default user that runs GIP </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
<h3><a name="Certificates"></a> Certificates </h3>
<p />
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table5" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorBosco_draft?cover=print;sortcol=0;table=5;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Certificate</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorBosco_draft?cover=print;sortcol=1;table=5;up=0#sorted_table" title="Sort by this column"><font color="#252b37">User that owns certificate</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorBosco_draft?cover=print;sortcol=2;table=5;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Path to certificate</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> Host certificate </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> <code>root</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> <code>/etc/grid-security/hostcert.pem</code> <br> <code>/etc/grid-security/hostkey.pem</code> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
Find instructions to request a host certificate <a href="/bin/view/Documentation/Release3/GetHostServiceCertificates" class="twikiLink">here</a>.
<p />
<p />
<h3><a name="Networking"></a> Networking </h3>
<p />
<p />
<p />
<!-- No variables can be defined because will not be visible in the including document
Need this because double quotes used in Y in TWikiPreferences or ICON cause problems (replaced with single ones) <ul>
<li> Set ALTy = <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' />    
</li></ul> 
ALTy replacend inline whenever the icon is needed.
-->
For more details on overall Firewall configuration, please see our <a href="/bin/view/Documentation/Release3/FirewallInformation" class="twikiLink">Firewall documentation</a>.
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
   <table cellspacing="0" id="table6" cellpadding="0" class="twikiTable" rules="cols" border="1"> 
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorBosco_draft?cover=print;sortcol=0;table=6;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Service Name</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorBosco_draft?cover=print;sortcol=1;table=6;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Protocol</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorBosco_draft?cover=print;sortcol=2;table=6;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Port Number</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol3"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorBosco_draft?cover=print;sortcol=3;table=6;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Inbound</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol4"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorBosco_draft?cover=print;sortcol=4;table=6;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Outbound</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol5 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorBosco_draft?cover=print;sortcol=5;table=6;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Comment</font></a> </th>
		</tr> 
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <a href="/bin/view/Documentation/GlossaryH#DefsHtcondorCE" class="twikiAnchorLink">HTCondor-CE</a> port </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol1"> tcp </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2"> 9619 </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol3"> <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' /> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol4"> &nbsp; </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol5 twikiLastCol"> Used to locate HTCondor-CE daemons </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <a href="/bin/view/Documentation/GlossaryH#DefsHtcondorCE" class="twikiAnchorLink">HTCondor-CE</a> shared_port daemon port </td>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol1 twikiLast"> tcp </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLast"> 9620 </td>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol3 twikiLast"> <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' /> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol4 twikiLast"> &nbsp; </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol5 twikiLastCol twikiLast"> <b>Only for HTCondor-CE &lt; 8.3.2:</b> Used for aggregating ephemeral ports used by HTCondor into a single network port </td>
		</tr> </table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
Allow inbound and outbound network connection to all internal site servers, such as GUMS and the batch system head-node only ephemeral outgoing ports are necessary.</br>
<p /></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Documentation/Release3<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>InstallHTCondorBosco_draft</span> <br />    
Topic revision: r3 - 23 Jun 2016 - 15:22:52 - <a href="/bin/view/Main/BrianLin" class="twikiLink">BrianLin</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />