---+ How do I troubleshoot my job if it does not run properly?
%TOC%

There is a chain of events that must succeed in order for your job to run properly.

---++ Authentication

First you must have a grid certificate. See [[Documentation.CertificateGet][How do I get or renew a PKI Personal Certificate?]] if you don&#39;t have a grid certificate. Once you have one, you obtain a valid grid proxy using the command: %RED%What about voms-proxy-init?%ENDCOLOR%

=grid-proxy-init -cert certfile -key keyfile= 

This authorizes you to use grid resources.  Confirm that you are authorized to use the grid by trying

=globusrun -a -r gatekeeper.host.name=

This verifies that your grid proxy certificate is valid and that the site has authorized you. If you *don&#39;t have a proxy*, you will see:
&lt;verbatim&gt;
gram_init failure: 
GSS Major Status: General failure 
GSS Minor Status Error Chain: 
acquire_cred.c:gss_acquire_cred:125: 
Error with GSI credential 
Valid credentials could not be found in any of the possible locations
specified by the credential search order.
&lt;/verbatim&gt;
If your *proxy has expired*, you will see something like:
&lt;verbatim&gt;
gram_init failure: 
GSS Major Status: General failure 
GSS Minor Status Error Chain: 
acquire_cred.c:gss_acquire_cred:125: 
Error with GSI credential 
globus_gsi_credential.c:globus_gsi_cred_read:305: 
Error with credential: The proxy credential: /tmp/x509up_u12697 
     with subject: /DC=org/DC=doegrids/OU=People/CN=Burt Holzman
380062/CN=203059190 
     expired 30 minutes ago.
&lt;/verbatim&gt;

You can use =grid-proxy-info= or =voms-proxy-info -all= to query your
current proxy certificate. If the *gatekeeper cannot be contacted*
(e.g., network is down, typo in hostname), you will see:

=GRAM Authentication test failure: connecting to the job manager failed.=

Possible reasons: job terminated, invalid job contact, network problems, ...

If the site is *not configured to accept your certificate* (for example,
it may not support your VO), you will see:

=GRAM Authentication test failure: authentication with the remote server failed=

If successful, it will report:

=GRAM Authentication test successful= %BR%
=Simple job on the fork queue=

If successful, enter %RED%What to substitute besides hostname? And why do you run this?%ENDCOLOR%:

=globus-job-run gatekeeper.host.name/jobmanager-fork /usr/bin/id=

Success will result in the usual output from the id command:

=Simple job on the batch queue=

Enter %RED%What to substitute besides hostname? And why do you run this?%ENDCOLOR%:

=globus-job-run gatekeeper.host.name/jobmanager-condor /usr/bin/id=

You must modify =jobmanager-condor= to suit the batch queue you are
submitting to (=jobmanager-lsf=, =jobmanager-pbs=, etc.). Again, you&#39;ll know
this succeeded if you get the usual output from the id command.

---++Common Error Codes

   $ error 7: you are not in the gridmap (ask the site admin to check =edg-mkgridmap= or =gums.config=) 
   $ error 12: Network (firewall or =/etc/hosts.allow=) or something similar (ask the site admin to check firewall or =/etc/hosts.{allow,deny}=) 
   $ error 17: WARNING: Invalid log file:
&lt;verbatim&gt;
&quot;/usr/local/grid/globus/tmp/gram_job_state/gram_condor_log.30742.1128017
695&quot; GRAM Job failed because the job failed when the job manager
attempted to run it (error code 17) 
&lt;/verbatim&gt;
Possible solution:
   1. Make sure the sub-directory globus/tmp/gram_job_state/ exists 
   2. Make sure that the sub-directory has the correct privileges - should be =drwxrwxrwt=. If it is not, run 

=chmod 1777 globus/tmp/gram_job_state/=

   $ error 25: account to which your DN is mapped exists, but home directory does not exist (ask the site admin to create home dir) 
   $ error 47: account to which your DN is mapped does not exist (ask the site admin if your VO is supported and add the account)

*Edit History* %BR%
-- Main.AnneHeavey - 14 Sep 2006
