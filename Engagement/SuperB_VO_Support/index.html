<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> SuperB_VO_Support &lt; Engagement &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Engagement/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Engagement/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Engagement/SuperB_VO_Support?_T=16 Feb 2017" type="application/x-wiki" title="edit SuperB_VO_Support" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Engagement/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Engagement/SuperB_VO_Support"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#D0D0D0;
	}
	.patternBookView {
		border-color:#D0D0D0;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Running_SuperB_Jobs_on_OSG"></a> Running SuperB  Jobs on OSG </h1>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Introduction"></a> Introduction </span></h2>
<p />
Members of the <a href="http://web.infn.it/superb/" target="_top">!SuperB</a>
VO would like to start running
jobs on OSG. To talk about this, there was a
meeting on 1/17/12 including Armando Fella (INFN
Padova), Luca Tomassetti (INFN Ferrara), Steffen Luitz
(SLAC), Marko, Tanya, and Gabriele.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="History"></a> History </span></h2>
<p />
In the past SuperB has run at SLAC and Caltech on
RH5/SL5 x86_64 using the gLite suite to submit jobs via
an EGI WMS system. This is a push-based system.  The
system submits to the sites using a CE hostname list
(GRAM URL: CE / Hostname / port).
<p />
The SuperB VOMS servers are
  <a href="https://voms2.cnaf.infn.it:8443/voms/superbvo.org" target="_top">https://voms2.cnaf.infn.it:8443/voms/superbvo.org</a>
and
  voms-2.pd.infn.it
These should interoperate with OSG.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Requirements"></a> Requirements </span></h2>
<p />
Input and Output data: Applications need to access 10GB
to 50GB of common input data.  Probably more like to 10GB. This data
is stored in files that are about 1GB large, and each individual
job needs access to just one file, and the accesses shouldn't
all happen at the same time.  There is also a tar file that is about 30-60 MB
large and that contains the executable which also needs to be
prestaged. It seems alright to keep both of these in OSG_DATA.
These don't change over the duration of the campaign.
<p />
Either POSIX or SRM access has been used in that past and is ok.
<p />
  There is about 200MB of output data per job now. Not
expected to be over 1GB. Use lcg-utils to register and
send output data back.
<p />
  Access to the SuperB storage should be controlled by
VOMS Roles. For example, only users presenting a VOMS proxy Role
"ProductionManager" should have write access to MC production
output dedicated areas.
<p />
Amount of compute time: The last production used 400
dedicated cores at SLAC which amounted to 8% of
production. The jobs each last from 16 to 20 hours.
<p />
SuperB does not need to recover failed jobs. Can just
resubmit.
<p />
<h3><a name="Existing_Framework_Software"></a> Existing Framework Software </h3>
<p /> <ul>
<li> Use GANGA as a job submission engine.  Ports are the same as     before.
</li> <li> Use a Nagios per VO system to monitor availability of grid resources.
</li> <li> SuperB jobs communicate using curl to a <a href="http://glite.cern.ch/glite-LB/" target="_top">bookkeeping DB</a>     at CNAF to record whether they are running, pending or failed.    On CNAF side there is an apache server     listening on 8443 and 8080. On job side the curl command    just chooses the first available high port on WN and    uses that.
</li></ul> 
<p />
The following URL includes the ports used per EGI
service and LHC experiment on the worker nodes:
  <a href="https://twiki.cern.ch/twiki/bin/view/LCG/LCGPortTable" target="_top">https://twiki.cern.ch/twiki/bin/view/LCG/LCGPortTable</a>
<p />
<h3><a name="Application_Software"></a> Application Software </h3>
<p />
The main application is a Monte Carlo analysis using
geant4. It takes up about ~50MB. This is prestaged as
a tar ball in advance of the runs, then each run
sends a small amount of data.
<p />
The application depends on the following software:
<p />
<pre>
   yum-utils-1.1.16-14.el5.noarch
   openmotif-2.3.1-2.el5.x86_64
   lapack-3.0-37.el5.x86_64
   boost-1.33.1-10.el5.x86_64
   blas-3.0-37.el5.x86_64
   pcre-6.6-2.el5_1.7.x86_64
</pre>
<p />
A check at two OSG sites showed that these were present
except for boost and yum-utils. If necessary it should also be possible to
send this software with the job.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Status_of_Work"></a> Status of Work </span></h2>
<p /> <ul>
<li> superbvo.org is a recognized OSG VO. According to     the command        get_os_versions --vo superbvo.org     it has access to CIT_CMS_T2, CIT_HEP, GridUNESP_CENTRAL, SPRACE, WT2.      There are questions about access to some     of these, especially SPRACE.
</li></ul> 
<p /> <ul>
<li> There was a problem with GridUNESP_CENTRAL reporting     which has been solved. GRIDUNESP_CENTRAL is now     showing up at        <a href="http://is.grid.iu.edu/cgi-bin/status.cgi" target="_top">http://is.grid.iu.edu/cgi-bin/status.cgi</a><br>     The SuperB jobs access information about the CE and     SE's from BDII in order to move data to and from the     worker nodes using lcg-utils tools. There is a     failover method in the job wrapper that allows the     jobs to return data even if BDII is not working.
</li></ul> 
<p /> <ul>
<li> We have asked that Production request wider support     for the SuperB VO. In particular, the Ohio      Supercomputing Center could be contacted. They had     begun installing the OSG software.
</li></ul> 
<p /> <ul>
<li> Have found out from OSG Sites that we could put in a     request for sites to map each VOMS role, like ProductionManager, into a separate unix account. Then     it's up to the VO to set up the directories and     permissions as needed. At least CMS and Atlas already     use roles this way at OSG sites.
</li></ul> 
<p /> <ul>
<li> The next SuperB production run should be around June.
</li></ul> 
<p />
-- OSG User Support with help from the SuperB VO</div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Engagement<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Engagement/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>SuperB_VO_Support</span> <br />    
Topic revision: r3 - 30 May 2012 - 15:28:09 - <span class="twikiNewLink">MarkoSlyz<a href="/bin/edit/Engagement/MarkoSlyz?topicparent=Engagement.SuperB_VO_Support" rel="nofollow" title="MarkoSlyz (this topic does not yet exist; you can create it)">?</a></span>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />