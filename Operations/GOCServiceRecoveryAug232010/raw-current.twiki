


-- Main.ScottTeige - 02 Sep 2010

---+ DRAFT 

---++Recovery plan, RSV-SAM uploader outages

   * All issues encountered to date are related to access of databases on &quot;sonofsam&quot; (SoS). This machine is out to be retired. The functionality of SoS must be relocated and any services using SoS modified to reference the new location. 
   * Machines accessing SoS have been identified:
      * osg-test4.unl.edu, Nebraska at Lincoln (accepted)
      * oim.grid.iu.edu, Indiana University (accepted)
      * dahmer.uits.indiana.edu, Indiana University (accepted)
   * Machines attempting to access SoS have been identified:
      * sam202.cern.ch to port 36867 (blocked by iptables)
      * sam202.cern.ch to port 47507 (blocked by iptables)
   * To remove SoS from service the following steps will be taken
      * Setup OIM replication on rsv.grid, (OIM replication accounts for the access by oim.grid.iu.edu above)
      * Move rsvextra DB currently stored on sonofsam to rsv.grid and setup a script that sends any data to rsv.grid (accounts for the access by dahmer.uits.indiana.edu above)
      * Run rsvprocess on rsv.grid (needed to fill certain tables)
      * Migrate web services from Nebraska to Indiana. This is already a year 5 action item. (underway on a development machine)
      * Notify CERN of the failed connection attempts. (Done)
   * As soon as this is achieved, verify all data required to generate reports is being sent.
   * Block all access to SoS with firewall rules, repeat data verification. 
   * Remove SoS from service.
   * Proposed deadline for switchover is 1/Oct. (May be optimistic)

