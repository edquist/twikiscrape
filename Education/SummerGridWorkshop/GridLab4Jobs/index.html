<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> GridLab4Jobs &lt; Education/SummerGridWorkshop &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Education/SummerGridWorkshop/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Education/SummerGridWorkshop/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Education/SummerGridWorkshop/GridLab4Jobs?_T=16 Feb 2017" type="application/x-wiki" title="edit GridLab4Jobs" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Education/SummerGridWorkshop/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Education/SummerGridWorkshop/GridLab4Jobs"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#D0D0D0;
	}
	.patternBookView {
		border-color:#D0D0D0;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">

@import url('/pub/Documentation/Tools/exercises.css ');

</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <html>
<head>
<title>Exercises for Lecture 5: Grid Resources and Job Management</title>
<style type="text/css"><!--
body {
   background-color: white;
   color: black;
}
pre {
   margin-left: 1em;
   padding: 0.5em;
   background-color: #f0f0f0;
   border: 1px solid black;
}
h1 {
   text-align: center;
}
h2 {
   padding-top: 0.5em;
   margin-top: 4em;
   border-top: 2px solid black;
}
h3 {
   padding-top: 0.5em;
   margin-top: 4em;
   border-top: 1px solid #AAAAAA;
}
--></style>
</head>
<body>
<p />
<p />
<h1><a name="Exercises_for_Lecture_5_Grid_Res"></a> Exercises for Lecture 5: Grid Resources and Job Management </h1>
<p />
<p>Earlier today we learned about Condor-G and DAGMan.  Now we will
submit some simple jobs using these components.</p>
<p />
<p>In the exercises below, students should select a gridlab host 2, 3, or 4, at random, to use
throughout the exercise, rather than all choosing gridlab2. Use the host you select -
gridlab2, gridlab3 or gridlab4  - whenever the notes say "gridlab2".</p>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Table_of_Contents"></a> Table of Contents </span></h2>
<p />
<ul>
<p />
<li><a href="#setup">Part I: Getting setup</a></li>
<li><a href="#simple_job">Part II: Submitting a Simple Grid Job with Condor-G</a></li>
<li><a href="#held_job">Part III: Held Jobs</a></li>
<li><a href="#simple_dag">Part IV: A Simple DAG with Condor-G and
DAGMan</a></li>
<li><a href="#complex_dag">Part V: A More Complex DAG</a></li>
<p />
   <ul>
   <li><a href="#optional_multi_resource">Optional: Multiple Globus Resources</a>
<p />
   </ul>
<p />
<li><a href="#failed_dag">Part VI: Handling Jobs That Fail with
DAGMan</a></li>
<p />
</ul>
<p />
<a name="setup"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Part_I_Getting_setup"></a> Part I: Getting setup </span></h2>
<p />
<p>First, log into gridlab1. This will be our client machine for these exercises.
<p />
<pre>$ <b>ssh gridlab1.phys.utb.edu</b></pre>
<p />
<p>Condor should already be set up and running on gridlab1. You can check this
by running
<a href="http://www.cs.wisc.edu/condor/manual/v6.7/condor_q.html">
condor_q</a>:
<p />
<pre>$ <b>condor_q</b>

-- Submitter: gk1.phys.utb.edu : <206.76.233.104:36236> : gk1.phys.utb.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               

0 jobs; 0 idle, 0 running, 0 held</pre>
<p />
<p>Everyone will be using the same Condor installation for these exercises.
You will see other students' jobs in the queue alongside your own.
<p />
<p>Next we are going to create some directories for you to work
in. We'll make them in your home directory.
<p />
<pre>$ <b>cd ~</b>

$ <b>mkdir condor-g-dagman-tutorial</b>
$ <b>cd condor-g-dagman-tutorial</b>
$ <b>mkdir submit</b></pre>
<p />
<p>Create a short lived proxy for this tutorial.  (The default proxy
length is 12 hours.  For a long lived task, you might create proxies
with lifespans of 24 hours, several days, or even several months.)
(The "-verify" option is not required, but can is useful for
debugging.  -verify will warn you if an expected Certificate Authority
Certificate is missing.)
<p />
<pre>
$ <strong>grid-proxy-info -all</strong>


ERROR: Couldn't find a valid proxy.
Use -debug for further information.

$ <strong>grid-proxy-init -hours 4 -verify</strong>
Your identity: /C=US/O=Globus/O=University of Wisconsin/OU=Computer Sciences Department/CN=Alan De Smet
Enter GRID pass phrase for this identity: <strong><em>Your pass phrase</em></strong>
Creating proxy ........................................... Done
Proxy Verify OK
Your proxy is valid until Thu Jul 10 16:06:13 2003
$ <strong>grid-proxy-info -all</strong>
subject  : /C=US/O=Globus/O=University of Wisconsin/OU=Computer Sciences Department/CN=Alan De Smet/CN=proxy
issuer   : /C=US/O=Globus/O=University of Wisconsin/OU=Computer Sciences Department/CN=Alan De Smet
type     : full
strength : 512 bits
timeleft : 3:59:57
</pre>
<p />
<p />
<p>Do a quick test with globus-job-run to ensure that everything is
working:
<p />
<pre>
$ <strong>globus-job-run gridlab2 /bin/date</strong>

Wed Jun 2 17:57:49 CDT 2004
</pre>
<p />
<p />
<p>Our basic Globus setup appears to be functioning.
<p />
<p />
<a name="simple_job"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Part_II_Submitting_a_Simple_Grid"></a> Part II: Submitting a Simple Grid Job with Condor-G </span></h2>
<p />
<p> Now we are ready to submit our first job with Condor-G.  The basic
procedure is to create a Condor job submit description file.  This
file can tell Condor what executable to run, what resources to
use, how to handle failures, where to store the job's output,
and many other characteristics of the job
submission.  Then this file is given to condor_submit.
<p />
<p>First, move to our scratch submission location:
<p />
<pre>
$ <strong>cd ~/condor-g-dagman-tutorial/submit</strong>
</pre>
<p />
<p>Create a Condor submit file.  
As you can see from the
<a href="http://www.cs.wisc.edu/condor/manual/v6.7/condor_submit.html">condor_submit manual page</a>,
there are many options that can be specified in a Condor-G submit
description file.  We will start out with just a few.
We'll be sending the job to the computer "gridlab2" and
running under the "jobmanager-fork" job manager.  We're setting
notification to never to avoid getting email messages about the
completion of our job, and redirecting the stdout/err of the job
back to the submission computer.
<p />
<p>(Feel free to use your favorite editor, but we will demonstrate with 'cat'
in the example below.  When using cat to create files, press Ctrl-D to close
the file -- don't actually type "Ctrl-D" into the file.  Whenever you create a file using cat, we suggest you use cat to display the file and confirm that it contains the expected text.)
<p />
<p>Create the submit file, then verify that it was entered correctly:
<p />
<pre>
$ <strong>cat &gt; myjob.submit
executable=myscript.sh
arguments=TestJob 10
output=results.output
error=results.error
log=results.log
notification=never
universe=grid
grid_resource=gt2 gridlab2/jobmanager-fork
queue
<em>Ctrl-D</em></strong>
$ <strong>cat myjob.submit</strong>

executable=myscript.sh
arguments=TestJob 10
output=results.output
error=results.error
log=results.log
notification=never
universe=grid
grid_resource=gt2 gridlab2/jobmanager-fork
queue
</pre>
<p />
<p>Create a little program to run on the grid.
<p />
<pre>
$ <strong>cat &gt; myscript.sh
#! /bin/sh

echo "I'm process id $$ on" `hostname`
echo "This is sent to standard error" 1&gt;&2
date
echo "Running as binary $0" "$@"
echo "My name (argument 1) is $1"
echo "My sleep duration (argument 2) is $2"
sleep $2
echo "Sleep of $2 seconds finished.  Exiting"
echo "RESULT: 0 SUCCESS"
<em>Ctrl-D</em> </strong>
$ <strong>cat myscript.sh</strong>
#! /bin/sh

echo "I'm process id $$ on" `hostname`
echo "This is sent to standard error" 1&gt;&2
date
echo "Running as binary $0" "$@"
echo "My name (argument 1) is $1"
echo "My sleep duration (argument 2) is $2"
sleep $2
echo "Sleep of $2 seconds finished.  Exiting"
echo "RESULT: 0 SUCCESS"

</pre>
<p />
<p>Make the program executable and test it.
<p />
<pre>
$ <strong>chmod a+x myscript.sh</strong>
$ <strong>./myscript.sh TEST 1</strong>
I'm process id 3428 on puffin.cs.wisc.edu
This is sent to standard error
Thu Jul 10 12:21:11 CDT 2003
Running as binary ./myscript.sh TEST 1
My name (argument 1) is TEST
My sleep duration (argument 2) is 1
Sleep of 1 seconds finished.  Exiting
RESULT: 0 SUCCESS
</pre>
<p />
<p>Submit your test job to Condor-G.
<p />
<pre>
$ <strong>condor_submit myjob.submit</strong>

Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 1.
</pre>
<p />
<p>Occasionally run
 <a href="http://www.cs.wisc.edu/condor/manual/v6.7/condor_q.html">condor_q</a>
 to 
watch the progress of your job.  You may also want to occasionally run
"condor_q&nbsp;-globus" which presents Globus specific status
information.
(<a href="http://www.cs.wisc.edu/condor/manual/v6.7/condor_q.html">Additional documentation on condor_q</a>)
<p />
<pre>
$ <strong>condor_q</strong>


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   1.0   adesmet         7/10 17:28   0+00:00:00 I  0   0.0  myscript.sh TestJo

1 jobs; 1 idle, 0 running, 0 held
$ <strong>condor_q -globus</strong>


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   1.0   adesmet       UNSUBMITTED fork     gk2   /tmp/<em>username</em>-cond
$ <strong>condor_q</strong>

-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   1.0   adesmet         7/10 17:28   0+00:00:27 R  0   0.0  myscript.sh TestJo

1 jobs; 0 idle, 1 running, 0 held
$ <strong>condor_q -globus</strong>


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   1.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond
$ <strong>condor_q</strong>

-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   1.0   adesmet         7/10 17:28   0+00:00:40 C  0   0.0  myscript.sh       

0 jobs; 0 idle, 0 running, 0 held
$ <strong>condor_q -globus</strong>

-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   1.0   adesmet       DONE fork     gk2   /afs/cs.wisc.edu/u

$ <strong>condor_q</strong>


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               

0 jobs; 0 idle, 0 running, 0 held


</pre>
<p />
<p>In another window you can run "<tt>tail -f</tt>" to watch the log file for your job
to monitor its progress.
  For the remainder of this tutorial, we suggest you re-run this command when you submit one or more jobs.  This will allow you to see monitor how typical Condor-G jobs progress.  Use "<strong><em>Ctrl-C</em></strong>" to stop watching the file.
<p />
<p>In a second window: 
<p />
<pre>
$ <strong>cd ~/condor-g-dagman-tutorial/submit</strong>
$ <strong>tail -f --lines=500 results.log</strong>
000 (001.000.000) 07/10 17:28:48 Job submitted from host: <128.105.185.14:35688>
...
017 (001.000.000) 07/10 17:29:01 Job submitted to Globus
    RM-Contact: gridlab2:/jobmanager-fork
    JM-Contact: https://gk2:2321/696/1057876132/
    Can-Restart-JM: 1
...
001 (001.000.000) 07/10 17:29:01 Job executing on host: gk2
...
005 (001.000.000) 07/10 17:30:08 Job terminated.
        (1) Normal termination (return value 0)
                Usr 0 00:00:00, Sys 0 00:00:00  -  Run Remote Usage
                Usr 0 00:00:00, Sys 0 00:00:00  -  Run Local Usage
                Usr 0 00:00:00, Sys 0 00:00:00  -  Total Remote Usage
                Usr 0 00:00:00, Sys 0 00:00:00  -  Total Local Usage
        0  -  Run Bytes Sent By Job
        0  -  Run Bytes Received By Job
        0  -  Total Bytes Sent By Job
        0  -  Total Bytes Received By Job
...

</pre>
<p />
<p />
<p>When the job is no longer listed in condor_q or when the log file reports
"Job terminated," you can see the results in 
<a href="http://www.cs.wisc.edu/condor/manual/v6.7/condor_history.html">condor_history</a>.
<p />
<pre>
$ <strong>condor_history</strong>
 ID      OWNER            SUBMITTED     RUN_TIME ST   COMPLETED CMD
   1.0   adesmet         7/10 10:28   0+00:00:00 C   ???        /afs/cs.wisc.ed
</pre>
<p />
<p />
<p>When the job completes, verify that the output is as expected.  (The
binary name is different from what you created because of how Globus and
Condor-G cooperate to stage your file to execute computer.)
<p />
<pre>

$ <strong>ls</strong>
myjob.submit  myscript.sh*  results.error  results.log   results.output
$ <strong>cat results.error</strong>
This is sent to standard error
$ <strong>cat results.output </strong>
$I'm process id 733 on gk2
Thu Jul 10 17:28:57 CDT 2003
Running as binary /n/uscms_share/home/adesmet2/.globus/.gass_cache/local/md5/28/fcae5001dbcd99cc476984b4151284/md5/af/355c4959dc83a74b18b7c03eb27201/data TestJob 10
My name (argument 1) is TestJob
My sleep duration (argument 2) is 10
Sleep of 10 seconds finished.  Exiting
RESULT: 0 SUCCESS
</pre>
<p />
<p>If you didn't watch the results.log file with tail -f above, you will want to examine the information logged now:
<p />
<pre>$ <strong>cat results.log </strong></pre>
<p />
<p><tt>gridlab2</tt> is also running a little Condor pool. Try submitting a job to
it through Condor-G and Globus. First, create a new submit file:
<p />
<pre>
$ <strong>cat &gt; myjob2.submit
executable=myscript.sh
arguments=TestJob 10
output=results2.output
error=results2.error
log=results2.log
notification=never
universe=grid
grid_resource=gt2 gridlab2/jobmanager-condor
queue
<em>Ctrl-D</em></strong>
$ <strong>cat myjob2.submit</strong>
executable=myscript.sh
arguments=TestJob 10
output=results2.output
error=results2.error
log=results2.log
notification=never
universe=grid
grid_resource=gt2 gridlab2/jobmanager-condor
queue
</pre>
<p />
<p>Notice the changed <tt>grid_resource</tt> line. It now refers to 
<p />
<tt>condor</tt> instead of <tt>fork</tt>. This means Globus will submit the
job to Condor on <tt>gridlab2</tt> instead of running the job directly.
<p />
<p>Now submit the job to Condor-G:
<p />
<pre>$ <b>condor_submit myjob2.submit</b>
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 2.</pre>
<p />
<p>You can monitor the job's progress just like the first job.
<p />
<p>If you log into
gridlab2 in another window, you can see your job in the Condor queue there (be
quick, or the job will finish before you look):
<p />
<p />
<pre>$ <b>ssh gridlab2</b>
adesmet@gridlab2's password: 
$ <b>condor_status</b>

Name          OpSys       Arch   State      Activity   LoadAv Mem   ActvtyTime

vm100@clu1.ph LINUX       INTEL  Unclaimed  Idle       0.000     9  0+00:03:35
vm10@clu1.phy LINUX       INTEL  Unclaimed  Idle       0.000     9  0+00:03:33
vm11@clu1.phy LINUX       INTEL  Unclaimed  Idle       0.000     9  0+00:03:34
vm12@clu1.phy LINUX       INTEL  Unclaimed  Idle       0.000     9  0+00:03:35
...
vm99@clu1.phy LINUX       INTEL  Unclaimed  Idle       0.000     9  0+00:03:34
vm9@clu1.phys LINUX       INTEL  Unclaimed  Idle       0.000     9  0+00:03:32

                     Machines Owner Claimed Unclaimed Matched Preempting

         INTEL/LINUX      100     0       0       100       0          0

               Total      100     0       0       100       0          0
$ <b>condor_q</b>

-- Submitter: gk2.phys.utb.edu : <206.76.233.105:36311> : gk2.phys.utb.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
  11.0   adesmet         7/10 23:04   0+00:00:00 I  0   0.0  data              

1 jobs; 1 idle, 0 running, 0 held</pre>
<p />
<p />
<p>Clean up the results after the second job is complete:
<p />
<p />
<pre>
$ <strong>rm results.* results2.*</strong>
</pre>
<p />
<a name="held_job"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Part_III_Held_Jobs"></a> Part III: Held Jobs </span></h2>
<p />
<p>When an problem occurs in the middleware, Condor-G will place your job
on "Hold".  Held jobs remain in the queue, but wait for user intervention.
When you resolve the problem, you can use 
<a
href="http://www.cs.wisc.edu/condor/manual/v6.7/condor_release.html">condor_release</a>
to free job to continue.
<p />
<p>You can places jobs on hold yourself, perhaps if you want to delay your
run using <a href="http://www.cs.wisc.edu/condor/manual/v6.7/condor_hold.html">condor_hold</a>
<p />
<p>For this example, we'll make the output file non-writable.  The job will
be unable to copy the results back and will be placed on hold.
<p />
<p>Submit the job again, but this time immediately after submitting it,
mark the output file as read-only:
<p />
<pre>
$ <strong>condor_submit myjob.submit ; chmod a-w results.output</strong>
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 3.
</pre>
<p />
<p>Watch the job with tail.  When the job goes on hold, use 
<strong><em>Ctrl-C</em></strong> to exit tail.  Note that condor_q reports
that the job is in the "H" or Held state.
<p />
<pre>
$ <strong>tail -f --lines=500 results.log</strong>

000 (003.000.000) 07/12 22:35:44 Job submitted from host: <192.167.1.23:32864>
...
017 (003.000.000) 07/12 22:35:57 Job submitted to Globus
    RM-Contact: gk2:/jobmanager-fork
    JM-Contact: https://gk2:33178/12497/1058042148/
    Can-Restart-JM: 1
...
001 (003.000.000) 07/12 22:35:57 Job executing on host: gk2
...
012 (003.000.000) 07/12 22:36:52 Job was held.
        Globus error 129: the standard output/error size is different
...
<strong><em>Ctrl-C</em></strong>
$ <strong>condor_q</strong>

 
-- Submitter: pc-23.gs.unina.it : <192.167.1.23:32864> : pc-23.gs.unina.it
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD
   2.0   adesmet         7/12 22:35   0+00:00:55 H  0   0.0  myscript.sh TestJo
 
1 jobs; 0 idle, 0 running, 1 held
</pre>
<p />
<p />
<p>Fix the problem (make the file writable again), then release the job.
You can specifiy the job's ID, or just use "-all" to release all held jobs.
<p />
<pre>
$ <strong>chmod u+w results.output</strong>

$ <strong>condor_release -all</strong>
All jobs released.
</pre>
<p />
<p>Again, watch the log until the job finishes:
<p />
<pre>
$ <strong>tail -f --lines=500 results.log</strong>
000 (003.000.000) 07/12 22:35:44 Job submitted from host: <192.167.1.23:32864>
...
017 (003.000.000) 07/12 22:35:57 Job submitted to Globus
    RM-Contact: gk2:/jobmanager-fork
    JM-Contact: https://gk2:33178/12497/1058042148/
    Can-Restart-JM: 1
...
001 (003.000.000) 07/12 22:35:57 Job executing on host: gk2
...
012 (003.000.000) 07/12 22:36:52 Job was held.
        Globus error 129: the standard output/error size is different
...
013 (003.000.000) 07/12 22:44:33 Job was released.
        via condor_release (by user Todd)
...
001 (003.000.000) 07/12 22:44:46 Job executing on host: gk2
...
005 (003.000.000) 07/12 22:44:51 Job terminated.
        (1) Normal termination (return value 0)
                Usr 0 00:00:00, Sys 0 00:00:00  -  Run Remote Usage
                Usr 0 00:00:00, Sys 0 00:00:00  -  Run Local Usage
                Usr 0 00:00:00, Sys 0 00:00:00  -  Total Remote Usage
                Usr 0 00:00:00, Sys 0 00:00:00  -  Total Local Usage
        0  -  Run Bytes Sent By Job
        0  -  Run Bytes Received By Job
        0  -  Total Bytes Sent By Job
        0  -  Total Bytes Received By Job
...
<strong><em>Ctrl-C</em></strong>
</pre>
<p />
<p>Your job finished, the results have been retreived successfully:
<p />
<pre>
$ <strong>cat results.output</strong>
I'm process id 12528 on gk2
Sat Jul 12 22:35:53 CEST 2003
Running as binary /home/home45/Aland/.globus/.gass_cache/local/md5/6d/217f3f7926c06a529143f6129bf269/md5/a7/2af94ba728c69c588e523a99baaefd/data TestJob 10
My name (argument 1) is TestJob
My sleep duration (argument 2) is 10
Sleep of 10 seconds finished.  Exiting
RESULT: 0 SUCCESS
</pre>
<p />
<p>Before continuing, clean up the results:
<p />
<pre>
$ <strong>rm results.*</strong>
</pre>
<p />
<p />
<a name="simple_dag"></a>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Part_IV_A_Simple_DAG"></a> Part IV: A Simple DAG </span></h2>
<p />
<p>Since it will be handy for the rest of the tutorial, create a
little shell script to monitor the Condor-G queue:
<p />
<pre>
$ <strong>cat &gt; watch_condor_q
#! /bin/sh
while true; do
     condor_q
     condor_q -globus
     sleep 10
done
<em>Ctrl-D</em></strong>
$ <strong>cat watch_condor_q</strong>
#! /bin/sh
while true; do
     condor_q
     condor_q -globus
     sleep 10
done
$ <strong>chmod a+x watch_condor_q </strong>

</pre>
<p />
<p>Create a minimal DAG for DAGMan.  This DAG will have a single node.
<p />
<pre>
$ <strong>cat &gt; mydag.dag
Job HelloWorld myjob.submit
<em>Ctrl-D</em></strong>
$ <strong>cat mydag.dag</strong>
Job HelloWorld myjob.submit
</pre>
<p />
<p>Submit it with 
<p />
<a
href="http://www.cs.wisc.edu/condor/manual/v6.7/condor_submit_dag.html">condor_submit_dag</a>, then watch the run.  Notice that
condor_dagman is running as a job and that condor_dagman submits your real
job without your direct intervention.  You might happen to catch the "C" (completed) state as your job finishes, but that often goes by too quickly to notice.
<p />
<p>Again, in another window you may want to run
"<tt>tail -f --lines=500 results.log</tt>" in a second window
to watch the job log file as your job runs.  You might also want to watch
DAGMan's log file with
"<tt>tail -f --lines=500 mydag.dag.dagman.out</tt>"
 in a
third window.
(mydag.dag.dagman.out) in the same way in a third window.
  For the remainder of this tutorial, we suggest you re-run this command
when you submit a DAG.  This will allow you to see how typical DAGs progress.  Use "<strong><em>Ctrl-C</em></strong>" to stop watching the file.
<p />
<p>Third window: 
<pre>
$ <strong>cd ~/condor-g-dagman-tutorial/submit</strong>
$ <strong>tail -f --lines=500 mydag.dag.dagman.out</strong>

7/10 10:36:43 ******************************************************
7/10 10:36:43 ** condor_scheduniv_exec.6.0 (CONDOR_DAGMAN) STARTING UP
7/10 10:36:43 ** $CondorVersion: 6.5.1 Apr 22 2003 $
7/10 10:36:43 ** $CondorPlatform: INTEL-LINUX-GLIBC22 $
7/10 10:36:43 ** PID = 26844
7/10 10:36:43 ******************************************************
7/10 10:36:44 DaemonCore: Command Socket at &lt;128.105.185.14:34571&gt;
7/10 10:36:44 argv[0] == "condor_scheduniv_exec.6.0"
7/10 10:36:44 argv[1] == "-Debug"
7/10 10:36:44 argv[2] == "3"
7/10 10:36:44 argv[3] == "-Lockfile"
7/10 10:36:44 argv[4] == "mydag.dag.lock"
7/10 10:36:44 argv[5] == "-Condorlog"
7/10 10:36:44 argv[6] == "results.log"
7/10 10:36:44 argv[7] == "-Dag"
7/10 10:36:44 argv[8] == "mydag.dag"
7/10 10:36:44 argv[9] == "-Rescue"
7/10 10:36:44 argv[10] == "mydag.dag.rescue"
7/10 10:36:44 Condor log will be written to results.log
7/10 10:36:44 DAG Lockfile will be written to mydag.dag.lock
7/10 10:36:44 DAG Input file is mydag.dag
7/10 10:36:44 Rescue DAG will be written to mydag.dag.rescue
7/10 10:36:44 Parsing mydag.dag ...
7/10 10:36:44 Dag contains 1 total jobs
7/10 10:36:44 Bootstrapping...
7/10 10:36:44 Number of pre-completed jobs: 0
7/10 10:36:44 Submitting Job HelloWorld ...
7/10 10:36:44    assigned Condor ID (7.0.0)
7/10 10:36:45 Event: ULOG_SUBMIT for Job HelloWorld (7.0.0)
7/10 10:36:45 0/1 done, 0 failed, 1 submitted, 0 ready, 0 pre, 0 post
7/10 10:37:05 Event: ULOG_GLOBUS_SUBMIT for Job HelloWorld (7.0.0)
7/10 10:37:05 Event: ULOG_EXECUTE for Job HelloWorld (7.0.0)
7/10 10:38:10 Event: ULOG_JOB_TERMINATED for Job HelloWorld (7.0.0)
7/10 10:38:10 Job HelloWorld completed successfully.
7/10 10:38:10 1/1 done, 0 failed, 0 submitted, 0 ready, 0 pre, 0 post
7/10 10:38:10 All jobs Completed!
7/10 10:38:10 **** condor_scheduniv_exec.6.0 (condor_DAGMAN) EXITING WITH STATUS 0
</pre>
<p />
<p>First window:
<pre>
$ <strong>condor_submit_dag mydag.dag</strong>

Checking your DAG input file and all submit files it references.
This might take a while... 
Done.
-----------------------------------------------------------------------
File for submitting this DAG to Condor   : mydag.dag.condor.sub
Log of DAGMan debugging messages         : mydag.dag.dagman.out
Log of Condor library debug messages     : mydag.dag.lib.out
Log of the life of condor_dagman itself  : mydag.dag.dagman.log

Condor Log file for all jobs of this DAG : results.log
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 2.
-----------------------------------------------------------------------
$ <strong>./watch_condor_q </strong>


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   2.0   adesmet         7/10 17:33   0+00:00:03 R  0   2.6  condor_dagman -f -
   3.0   adesmet         7/10 17:33   0+00:00:00 I  0   0.0  myscript.sh TestJo

2 jobs; 1 idle, 1 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   3.0   adesmet       UNSUBMITTED fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   2.0   adesmet         7/10 17:33   0+00:00:33 R  0   2.6  condor_dagman -f -
   3.0   adesmet         7/10 17:33   0+00:00:15 R  0   0.0  myscript.sh TestJo

2 jobs; 0 idle, 2 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   3.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   2.0   adesmet         7/10 17:33   0+00:01:03 R  0   2.6  condor_dagman -f -
   3.0   adesmet         7/10 17:33   0+00:00:45 R  0   0.0  myscript.sh TestJo

2 jobs; 0 idle, 2 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   3.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               

0 jobs; 0 idle, 0 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        


<em><strong>Ctrl-C</strong></em>
</pre>
<p />
<p>Verify your results:
<p />
<pre>
$ <strong>ls -l</strong>
total 12
-rw-r--r--    1 adesmet  adesmet        28 Jul 10 10:35 mydag.dag
-rw-r--r--    1 adesmet  adesmet       523 Jul 10 10:36 mydag.dag.condor.sub
-rw-r--r--    1 adesmet  adesmet       608 Jul 10 10:38 mydag.dag.dagman.log
-rw-r--r--    1 adesmet  adesmet      1860 Jul 10 10:38 mydag.dag.dagman.out
-rw-r--r--    1 adesmet  adesmet        29 Jul 10 10:38 mydag.dag.lib.out
-rw-------    1 adesmet  adesmet         0 Jul 10 10:36 mydag.dag.lock
-rw-r--r--    1 adesmet  adesmet       175 Jul  9 18:13 myjob.submit
-rwxr-xr-x    1 adesmet  adesmet       194 Jul 10 10:36 myscript.sh
-rw-r--r--    1 adesmet  adesmet        31 Jul 10 10:37 results.error
-rw-------    1 adesmet  adesmet       833 Jul 10 10:38 results.log
-rw-r--r--    1 adesmet  adesmet       261 Jul 10 10:37 results.output
-rwxr-xr-x    1 adesmet  adesmet        81 Jul 10 10:35 watch_condor_q
$ <strong>cat results.error </strong>
This is sent to standard error
$ <strong>cat results.output </strong>
I'm process id 29149 on gk2
This is sent to standard error
Thu Jul 10 10:38:44 CDT 2003
Running as binary /n/uscms_share/home/adesmet2/.globus/.gass_cache/local/md5/aa/ceb9e04077256aaa2acf4dff670897/md5/27/2f50da149fc049d07b1c27f30b67df/data TEST 1
My name (argument 1) is TEST
My sleep duration (argument 2) is 1
Sleep of 1 seconds finished.  Exiting
RESULT: 0 SUCCESS
</pre>
<p />
<p>Looking at DAGMan's various files, we see that DAGMan itself ran as a
Condor job (specifically, a scheduler universe job):
<p />
<pre>
$ <strong>ls</strong>
mydag.dag         mydag.dag.dagman.log  mydag.dag.lib.out  myjob.submit  results.error  results.output
mydag.dag.condor.sub  mydag.dag.dagman.out  mydag.dag.lock     myscript.sh   results.log    watch_condor_q
$ <strong>cat mydag.dag.condor.sub</strong>
# Filename: mydag.dag.condor.sub
# Generated by condor_submit_dag mydag.dag
universe   = scheduler
executable   = /afs/cs.wisc.edu/u/a/d/adesmet/miron-condor-g-dagman-talk/vdt/condor/bin/condor_dagman
getenv      = True
output      = mydag.dag.lib.out
error      = mydag.dag.lib.out
log      = mydag.dag.dagman.log
remove_kill_sig   = SIGUSR1
arguments   = -f -l . -Debug 3 -Lockfile mydag.dag.lock -Condorlog results.log -Dag mydag.dag -Rescue mydag.dag.rescue
environment   = _CONDOR_DAGMAN_LOG=mydag.dag.dagman.out;_CONDOR_MAX_DAGMAN_LOG=0
queue
$ <strong>cat mydag.dag.dagman.log</strong>
000 (006.000.000) 07/10 10:36:43 Job submitted from host: &lt;128.105.185.14:33785&gt;
...
001 (006.000.000) 07/10 10:36:44 Job executing on host: &lt;128.105.185.14:33785&gt;

...
005 (006.000.000) 07/10 10:38:10 Job terminated.
   (1) Normal termination (return value 0)
      Usr 0 00:00:00, Sys 0 00:00:00  -  Run Remote Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Run Local Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Total Remote Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Total Local Usage
   0  -  Run Bytes Sent By Job
   0  -  Run Bytes Received By Job
   0  -  Total Bytes Sent By Job
   0  -  Total Bytes Received By Job
...
</pre>
<p />
<p>If you weren't watching the DAGMan output file with tail -f, you can examine the file with the following command:
<p />
<pre>$ <strong>cat mydag.dag.dagman.out</strong></pre>
<p />
<p>Clean up your results.  Be careful when deleting the mydag.dag.*
files, you do not want to delete the mydag.dag file, just mydag.dag.*
.
<p />
<pre>
$ <strong>rm mydag.dag.* results.*</strong>
</pre>
<p />
<a name="complex_dag"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Part_V_A_More_Complex_DAG"></a> Part V: A More Complex DAG </span></h2>
<p />
<p>Typically each node in a DAG will have its own Condor submit file.
Create some more submit files by copying our existing file.  For simplicity
during this tutorial, we'll keep the submit files very similar, notably
using the same executable, but your submit files and executables can differ
in real-world use.
<p />
<pre>
$ <strong>cp myjob.submit job.setup.submit</strong>
$ <strong>cp myjob.submit job.work1.submit</strong>
$ <strong>cp myjob.submit job.work2.submit</strong>
$ <strong>cp myjob.submit job.workfinal.submit</strong>
$ <strong>cp myjob.submit job.finalize.submit</strong>

</pre>
<p />
<p>Edit the various submit files.  Change the output and error entries
to point to results.NODE.output and results.NODE.error files where
NODE is actually the middle word in the submit file (job.NODE.submit).
So job.finalize.error would include:
<p />
<blockquote>
<pre>
output=results.finalize.output
error=results.finalize.error
</pre>
</blockquote>
<p />
<p />
<p>Here is one possible set of settings for the output entries:
<p />
<pre>
$ <strong>grep '^output=' job.*.submit</strong>
job.finalize.submit:output=results.finalize.output
job.setup.submit:output=results.setup.output
job.work1.submit:output=results.work1.output
job.work2.submit:output=results.work2.output
job.workfinal.submit:output=results.workfinal.output
</pre>
<p />
<p />
<p>This is important so that the various nodes don't overwrite each others
output.
<p />
<p>Leave the log entries alone.  DAGMan requires that all nodes output
their logs in the same location.  Condor will ensure that the
different jobs will not overwrite each other's entries in the log.
(Never versions of DAGMan lift this requirement, and allow each job to
use its own log file -- but you may want to use one common log file
anyway because it's convenient to have all of your job status
information in a single place.)
<p />
<blockquote>
<pre>
log=results.log
</pre>
</blockquote>
<p />
<p>Also change the arguments entries so that the first argument is
something unique to each node (perhaps the NODE name).
<p />
<p>For node work2, change the second argument to 120 so that it looks
something like:
<p />
<blockquote>
<pre>
arguments=MyWorkerNode2 120
</pre>
</blockquote>
<p />
<p>Add the new nodes to your DAG:
<p />
<pre>
$ <strong>cat mydag.dag </strong>
Job HelloWorld myjob.submit
$ <strong>cat &gt;&gt; mydag.dag
Job Setup job.setup.submit
Job WorkerNode_1 job.work1.submit
Job WorkerNode_Two job.work2.submit
Job CollectResults job.workfinal.submit
Job LastNode job.finalize.submit
PARENT Setup CHILD WorkerNode_1 WorkerNode_Two
PARENT WorkerNode_1 WorkerNode_Two CHILD CollectResults
PARENT CollectResults CHILD LastNode
<em>Ctrl-D</em></strong>
$ <strong>cat mydag.dag </strong>
Job HelloWorld myjob.submit
Job Setup job.setup.submit
Job WorkerNode_1 job.work1.submit
Job WorkerNode_Two job.work2.submit
Job CollectResults job.workfinal.submit
Job LastNode job.finalize.submit
PARENT Setup CHILD WorkerNode_1 WorkerNode_Two
PARENT WorkerNode_1 WorkerNode_Two CHILD CollectResults
PARENT CollectResults CHILD LastNode
<em>Ctrl-D</em></strong>

</pre>
<p />
<p>condor_q -dag will organize jobs into their associated DAGs.  Change
watch_condor_q to use this:
<p />
<pre>
$ <strong>rm watch_condor_q</strong>
$ <strong>cat &gt; watch_condor_q
#! /bin/sh
while true; do
    echo ....
    echo .... Output from condor_q
    echo ....
     condor_q
    echo ....
    echo .... Output from condor_q -globus
    echo ....
     condor_q -globus
    echo ....
    echo .... Output from condor_q -dag
    echo ....
     condor_q -dag
     sleep 10
done
<em>Ctrl-D</em></strong>
$ <strong>cat watch_condor_q</strong>
#! /bin/sh
while true; do
    echo ....
    echo .... Output from condor_q
    echo ....
     condor_q
    echo ....
    echo .... Output from condor_q -globus
    echo ....
     condor_q -globus
    echo ....
    echo .... Output from condor_q -dag
    echo ....
     condor_q -dag
     sleep 10
done
$ <strong>chmod a+x watch_condor_q </strong>

</pre>
<p />
<p>Submit your new DAG and monitor it.
<p />
<p>Again, in separate windows you may want to run 
"<tt>tail -f --lines=500 results.log</tt>" and "<tt>tail -f --lines=500
mydag.dag.dagman.out</tt>" to monitor the job's progress.
<p />
<pre>
$ <strong>condor_submit_dag mydag.dag</strong>

Checking your DAG input file and all submit files it references.
This might take a while... 
Done.
-----------------------------------------------------------------------
File for submitting this DAG to Condor   : mydag.dag.condor.sub
Log of DAGMan debugging messages         : mydag.dag.dagman.out
Log of Condor library debug messages     : mydag.dag.lib.out
Log of the life of condor_dagman itself  : mydag.dag.dagman.log

Condor Log file for all jobs of this DAG : results.log
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 8.
-----------------------------------------------------------------------
$ <strong>./watch_condor_q</strong>

-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:00:08 R  0   2.6  condor_dagman -f -
   5.0   adesmet         7/10 17:45   0+00:00:00 I  0   0.0  myscript.sh TestJo
   6.0   adesmet         7/10 17:45   0+00:00:00 I  0   0.0  myscript.sh Setup 

3 jobs; 2 idle, 1 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   5.0   adesmet       UNSUBMITTED fork     gk2   /tmp/<em>username</em>-cond
   6.0   adesmet       UNSUBMITTED fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:00:08 R  0   2.6  condor_dagman -f -
   5.0    |-HelloWorld   7/10 17:45   0+00:00:00 I  0   0.0  myscript.sh TestJo
   6.0    |-Setup        7/10 17:45   0+00:00:00 I  0   0.0  myscript.sh Setup 

3 jobs; 2 idle, 1 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:00:12 R  0   2.6  condor_dagman -f -
   5.0   adesmet         7/10 17:45   0+00:00:00 I  0   0.0  myscript.sh TestJo
   6.0   adesmet         7/10 17:45   0+00:00:00 I  0   0.0  myscript.sh Setup 

3 jobs; 2 idle, 1 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   5.0   adesmet       UNSUBMITTED fork     gk2   /tmp/<em>username</em>-cond
   6.0   adesmet       UNSUBMITTED fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:00:12 R  0   2.6  condor_dagman -f -
   5.0    |-HelloWorld   7/10 17:45   0+00:00:00 I  0   0.0  myscript.sh TestJo
   6.0    |-Setup        7/10 17:45   0+00:00:00 I  0   0.0  myscript.sh Setup 

3 jobs; 2 idle, 1 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:00:42 R  0   2.6  condor_dagman -f -
   5.0   adesmet         7/10 17:45   0+00:00:24 R  0   0.0  myscript.sh TestJo
   6.0   adesmet         7/10 17:45   0+00:00:24 R  0   0.0  myscript.sh Setup 

3 jobs; 0 idle, 3 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   5.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond
   6.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:00:42 R  0   2.6  condor_dagman -f -
   5.0    |-HelloWorld   7/10 17:45   0+00:00:24 R  0   0.0  myscript.sh TestJo
   6.0    |-Setup        7/10 17:45   0+00:00:24 R  0   0.0  myscript.sh Setup 

3 jobs; 0 idle, 3 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:01:12 R  0   2.6  condor_dagman -f -
   5.0   adesmet         7/10 17:45   0+00:00:54 R  0   0.0  myscript.sh TestJo
   6.0   adesmet         7/10 17:45   0+00:00:54 R  0   0.0  myscript.sh Setup 

3 jobs; 0 idle, 3 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   5.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond
   6.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:01:12 R  0   2.6  condor_dagman -f -
   5.0    |-HelloWorld   7/10 17:45   0+00:00:54 R  0   0.0  myscript.sh TestJo
   6.0    |-Setup        7/10 17:45   0+00:00:54 R  0   0.0  myscript.sh Setup 

3 jobs; 0 idle, 3 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:01:42 R  0   2.6  condor_dagman -f -
   7.0   adesmet         7/10 17:46   0+00:00:00 I  0   0.0  myscript.sh work1 
   8.0   adesmet         7/10 17:46   0+00:00:00 I  0   0.0  myscript.sh Worker

3 jobs; 2 idle, 1 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   7.0   adesmet       UNSUBMITTED fork     gk2   /tmp/<em>username</em>-cond
   8.0   adesmet       UNSUBMITTED fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:01:42 R  0   2.6  condor_dagman -f -
   7.0    |-WorkerNode_  7/10 17:46   0+00:00:00 I  0   0.0  myscript.sh work1 
   8.0    |-WorkerNode_  7/10 17:46   0+00:00:00 I  0   0.0  myscript.sh Worker

3 jobs; 2 idle, 1 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:02:12 R  0   2.6  condor_dagman -f -
   7.0   adesmet         7/10 17:46   0+00:00:27 R  0   0.0  myscript.sh work1 
   8.0   adesmet         7/10 17:46   0+00:00:27 R  0   0.0  myscript.sh Worker

3 jobs; 0 idle, 3 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   7.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond
   8.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:02:12 R  0   2.6  condor_dagman -f -
   7.0    |-WorkerNode_  7/10 17:46   0+00:00:27 R  0   0.0  myscript.sh work1 
   8.0    |-WorkerNode_  7/10 17:46   0+00:00:27 R  0   0.0  myscript.sh Worker

3 jobs; 0 idle, 3 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:02:42 R  0   2.6  condor_dagman -f -
   7.0   adesmet         7/10 17:46   0+00:00:57 R  0   0.0  myscript.sh work1 
   8.0   adesmet         7/10 17:46   0+00:00:57 R  0   0.0  myscript.sh Worker

3 jobs; 0 idle, 3 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   7.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond
   8.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:02:43 R  0   2.6  condor_dagman -f -
   7.0    |-WorkerNode_  7/10 17:46   0+00:00:58 R  0   0.0  myscript.sh work1 
   8.0    |-WorkerNode_  7/10 17:46   0+00:00:58 R  0   0.0  myscript.sh Worker

3 jobs; 0 idle, 3 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:03:13 R  0   2.6  condor_dagman -f -
   8.0   adesmet         7/10 17:46   0+00:01:28 R  0   0.0  myscript.sh Worker

2 jobs; 0 idle, 2 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   8.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:03:13 R  0   2.6  condor_dagman -f -
   8.0    |-WorkerNode_  7/10 17:46   0+00:01:28 R  0   0.0  myscript.sh Worker

2 jobs; 0 idle, 2 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:03:43 R  0   2.6  condor_dagman -f -
   8.0   adesmet         7/10 17:46   0+00:01:58 R  0   0.0  myscript.sh Worker

2 jobs; 0 idle, 2 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   8.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:03:43 R  0   2.6  condor_dagman -f -
   8.0    |-WorkerNode_  7/10 17:46   0+00:01:58 R  0   0.0  myscript.sh Worker

2 jobs; 0 idle, 2 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:04:13 R  0   2.6  condor_dagman -f -
   9.0   adesmet         7/10 17:49   0+00:00:02 R  0   0.0  myscript.sh workfi

2 jobs; 0 idle, 2 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   9.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:04:13 R  0   2.6  condor_dagman -f -
   9.0    |-CollectResu  7/10 17:49   0+00:00:02 R  0   0.0  myscript.sh workfi

2 jobs; 0 idle, 2 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:04:43 R  0   2.6  condor_dagman -f -
   9.0   adesmet         7/10 17:49   0+00:00:32 R  0   0.0  myscript.sh workfi

2 jobs; 0 idle, 2 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   9.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:04:43 R  0   2.6  condor_dagman -f -
   9.0    |-CollectResu  7/10 17:49   0+00:00:32 R  0   0.0  myscript.sh workfi

2 jobs; 0 idle, 2 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:05:13 R  0   2.6  condor_dagman -f -
   9.0   adesmet         7/10 17:49   0+00:01:02 R  0   0.0  myscript.sh workfi

2 jobs; 0 idle, 2 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
   9.0   adesmet       DONE fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:05:13 R  0   2.6  condor_dagman -f -
   9.0    |-CollectResu  7/10 17:49   0+00:01:02 C  0   0.0  myscript.sh workfi

1 jobs; 0 idle, 1 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:05:43 R  0   2.6  condor_dagman -f -
  10.0   adesmet         7/10 17:50   0+00:00:13 R  0   0.0  myscript.sh Final 

2 jobs; 0 idle, 2 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
  10.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:05:44 R  0   2.6  condor_dagman -f -
  10.0    |-LastNode     7/10 17:50   0+00:00:13 R  0   0.0  myscript.sh Final 

2 jobs; 0 idle, 2 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:06:14 R  0   2.6  condor_dagman -f -
  10.0   adesmet         7/10 17:50   0+00:00:43 R  0   0.0  myscript.sh Final 

2 jobs; 0 idle, 2 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
  10.0   adesmet       ACTIVE fork     gk2   /tmp/<em>username</em>-cond


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   4.0   adesmet         7/10 17:45   0+00:06:14 R  0   2.6  condor_dagman -f -
  10.0    |-LastNode     7/10 17:50   0+00:00:43 R  0   0.0  myscript.sh Final 

2 jobs; 0 idle, 2 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               

0 jobs; 0 idle, 0 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:35688&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               

0 jobs; 0 idle, 0 running, 0 held

<em><strong>Ctrl-C</strong></em>
</pre>
<p />
<p>Watching the logs or the condor_q output, you'll note that the
<span class="twikiNewLink">CollectResults<a href="/bin/edit/Education/SummerGridWorkshop/CollectResults?topicparent=Education/SummerGridWorkshop.GridLab4Jobs" rel="nofollow" title="CollectResults (this topic does not yet exist; you can create it)">?</a></span> node ("workfinal") wasn't run until both of the <span class="twikiNewLink">WorkerNode<a href="/bin/edit/Education/SummerGridWorkshop/WorkerNode?topicparent=Education/SummerGridWorkshop.GridLab4Jobs" rel="nofollow" title="WorkerNode (this topic does not yet exist; you can create it)">?</a></span>
nodes ("work1" and "work2") finished.
<p />
<p>Examine your results.
<p />
<pre>
$ <strong>ls</strong>
job.finalize.submit   mydag.dag.condor.sub  myscript.sh           results.setup.error   results.workfinal.error
job.setup.submit      mydag.dag.dagman.log  results.error        results.setup.output  results.workfinal.output
job.work1.submit      mydag.dag.dagman.out  results.finalize.error   results.work1.error   watch_condor_q
job.work2.submit      mydag.dag.lib.out     results.finalize.output  results.work1.output
job.workfinal.submit  mydag.dag.lock       results.log           results.work2.error
mydag.dag         myjob.submit       results.output        results.work2.output
$ <strong>tail --lines=500 results.*.error</strong>
==&gt; results.finalize.error &lt;==
This is sent to standard error

==&gt; results.setup.error &lt;==
This is sent to standard error

==&gt; results.work1.error &lt;==
This is sent to standard error

==&gt; results.work2.error &lt;==
This is sent to standard error

==&gt; results.workfinal.error &lt;==
This is sent to standard error
$ <strong>tail --lines=500 results.*.output</strong>

==&gt; results.finalize.output &lt;==
I'm process id 29614 on gk2
Thu Jul 10 10:53:58 CDT 2003
Running as binary /n/uscms_share/home/adesmet2/.globus/.gass_cache/local/md5/0d/7c60aa10b34817d3ffe467dd116816/md5/de/03c3eb8a20852948a2af53438bbce1/data Finalize 1
My name (argument 1) is Finalize
My sleep duration (argument 2) is 1
Sleep of 1 seconds finished.  Exiting

==&gt; results.setup.output &lt;==
I'm process id 29337 on gk2
Thu Jul 10 10:50:31 CDT 2003
Running as binary /n/uscms_share/home/adesmet2/.globus/.gass_cache/local/md5/a5/fab7b658db65dbfec3ecf0a5414e1c/md5/f4/e9a04ae03bff43f00a10c78ebd60fd/data Setup 1
My name (argument 1) is Setup
My sleep duration (argument 2) is 1
Sleep of 1 seconds finished.  Exiting

==&gt; results.work1.output &lt;==
I'm process id 29444 on gk2
Thu Jul 10 10:51:04 CDT 2003
Running as binary /n/uscms_share/home/adesmet2/.globus/.gass_cache/local/md5/2e/17db42df4e113f813cea7add42e03e/md5/f6/f1bd82a2fec9a3a372a44c009a63ca/data WorkerNode1 1
My name (argument 1) is WorkerNode1
My sleep duration (argument 2) is 1
Sleep of 1 seconds finished.  Exiting

==&gt; results.work2.output &lt;==
I'm process id 29432 on gk2
Thu Jul 10 10:51:03 CDT 2003
Running as binary /n/uscms_share/home/adesmet2/.globus/.gass_cache/local/md5/ea/9a3c8d16346b2fea808cda4b5969fa/md5/f6/f1bd82a2fec9a3a372a44c009a63ca/data WorkerNode2 120
My name (argument 1) is WorkerNode2
My sleep duration (argument 2) is 120
Sleep of 120 seconds finished.  Exiting

==&gt; results.workfinal.output &lt;==
I'm process id 29554 on gk2
Thu Jul 10 10:53:27 CDT 2003
Running as binary /n/uscms_share/home/adesmet2/.globus/.gass_cache/local/md5/c9/7ba5d43acad3d9ebdfa633839e75c3/md5/11/cd84efa75305d54100f0f451b46b35/data WorkFinal 1
My name (argument 1) is WorkFinal
My sleep duration (argument 2) is 1
Sleep of 1 seconds finished.  Exiting
</pre>
<p />
<p>Examine your log
<p />
<pre>
$ <strong>cat results.log</strong>
000 (005.000.000) 07/10 17:45:24 Job submitted from host: <128.105.185.14:35688>
    DAG Node: HelloWorld
...
000 (006.000.000) 07/10 17:45:24 Job submitted from host: <128.105.185.14:35688>
    DAG Node: Setup
...
017 (006.000.000) 07/10 17:45:42 Job submitted to Globus
    RM-Contact: gk2:/jobmanager-fork
    JM-Contact: https://gk2:2349/914/1057877133/
    Can-Restart-JM: 1
...
001 (006.000.000) 07/10 17:45:42 Job executing on host: gk2
...
017 (005.000.000) 07/10 17:45:42 Job submitted to Globus
    RM-Contact: gk2:/jobmanager-fork
    JM-Contact: https://gk2:2348/915/1057877133/
    Can-Restart-JM: 1
...
001 (005.000.000) 07/10 17:45:42 Job executing on host: gk2
...
005 (005.000.000) 07/10 17:46:50 Job terminated.
   (1) Normal termination (return value 0)
      Usr 0 00:00:00, Sys 0 00:00:00  -  Run Remote Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Run Local Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Total Remote Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Total Local Usage
   0  -  Run Bytes Sent By Job
   0  -  Run Bytes Received By Job
   0  -  Total Bytes Sent By Job
   0  -  Total Bytes Received By Job
...
005 (006.000.000) 07/10 17:46:50 Job terminated.
   (1) Normal termination (return value 0)
      Usr 0 00:00:00, Sys 0 00:00:00  -  Run Remote Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Run Local Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Total Remote Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Total Local Usage
   0  -  Run Bytes Sent By Job
   0  -  Run Bytes Received By Job
   0  -  Total Bytes Sent By Job
   0  -  Total Bytes Received By Job
...
000 (007.000.000) 07/10 17:46:55 Job submitted from host: <128.105.185.14:35688>
    DAG Node: WorkerNode_1
...
000 (008.000.000) 07/10 17:46:56 Job submitted from host: <128.105.185.14:35688>
    DAG Node: WorkerNode_Two
...
017 (008.000.000) 07/10 17:47:09 Job submitted to Globus
    RM-Contact: gk2:/jobmanager-fork
    JM-Contact: https://gk2:2364/1037/1057877219/
    Can-Restart-JM: 1
...
001 (008.000.000) 07/10 17:47:09 Job executing on host: gk2
...
017 (007.000.000) 07/10 17:47:09 Job submitted to Globus
    RM-Contact: gk2:/jobmanager-fork
    JM-Contact: https://gk2:2367/1040/1057877220/
    Can-Restart-JM: 1
...
001 (007.000.000) 07/10 17:47:09 Job executing on host: gk2
...
005 (007.000.000) 07/10 17:48:17 Job terminated.
   (1) Normal termination (return value 0)
      Usr 0 00:00:00, Sys 0 00:00:00  -  Run Remote Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Run Local Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Total Remote Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Total Local Usage
   0  -  Run Bytes Sent By Job
   0  -  Run Bytes Received By Job
   0  -  Total Bytes Sent By Job
   0  -  Total Bytes Received By Job
...
005 (008.000.000) 07/10 17:49:18 Job terminated.
   (1) Normal termination (return value 0)
      Usr 0 00:00:00, Sys 0 00:00:00  -  Run Remote Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Run Local Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Total Remote Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Total Local Usage
   0  -  Run Bytes Sent By Job
   0  -  Run Bytes Received By Job
   0  -  Total Bytes Sent By Job
   0  -  Total Bytes Received By Job
...
000 (009.000.000) 07/10 17:49:22 Job submitted from host: <128.105.185.14:35688>
    DAG Node: CollectResults
...
017 (009.000.000) 07/10 17:49:35 Job submitted to Globus
    RM-Contact: gk2:/jobmanager-fork
    JM-Contact: https://gk2:2383/1185/1057877366/
    Can-Restart-JM: 1
...
001 (009.000.000) 07/10 17:49:35 Job executing on host: gk2
...
005 (009.000.000) 07/10 17:50:42 Job terminated.
   (1) Normal termination (return value 0)
      Usr 0 00:00:00, Sys 0 00:00:00  -  Run Remote Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Run Local Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Total Remote Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Total Local Usage
   0  -  Run Bytes Sent By Job
   0  -  Run Bytes Received By Job
   0  -  Total Bytes Sent By Job
   0  -  Total Bytes Received By Job
...
000 (010.000.000) 07/10 17:50:42 Job submitted from host: <128.105.185.14:35688>
    DAG Node: LastNode
...
017 (010.000.000) 07/10 17:50:55 Job submitted to Globus
    RM-Contact: gk2:/jobmanager-fork
    JM-Contact: https://gk2:2392/1247/1057877446/
    Can-Restart-JM: 1
...
001 (010.000.000) 07/10 17:50:55 Job executing on host: gk2
...
005 (010.000.000) 07/10 17:52:02 Job terminated.
   (1) Normal termination (return value 0)
      Usr 0 00:00:00, Sys 0 00:00:00  -  Run Remote Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Run Local Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Total Remote Usage
      Usr 0 00:00:00, Sys 0 00:00:00  -  Total Local Usage
   0  -  Run Bytes Sent By Job
   0  -  Run Bytes Received By Job
   0  -  Total Bytes Sent By Job
   0  -  Total Bytes Received By Job
...
</pre>
<p />
<p>Examine the DAGMan log
<p />
<pre>

$ <strong>cat mydag.dag.dagman.out</strong>
7/10 17:45:24 ******************************************************
7/10 17:45:24 ** condor_scheduniv_exec.4.0 (CONDOR_DAGMAN) STARTING UP
7/10 17:45:24 ** $CondorVersion: 6.5.1 Apr 22 2003 $
7/10 17:45:24 ** $CondorPlatform: INTEL-LINUX-GLIBC22 $
7/10 17:45:24 ** PID = 18826
7/10 17:45:24 ******************************************************
7/10 17:45:24 DaemonCore: Command Socket at <128.105.185.14:35774>
7/10 17:45:24 argv[0] == "condor_scheduniv_exec.4.0"
7/10 17:45:24 argv[1] == "-Debug"
7/10 17:45:24 argv[2] == "3"
7/10 17:45:24 argv[3] == "-Lockfile"
7/10 17:45:24 argv[4] == "mydag.dag.lock"
7/10 17:45:24 argv[5] == "-Condorlog"
7/10 17:45:24 argv[6] == "results.log"
7/10 17:45:24 argv[7] == "-Dag"
7/10 17:45:24 argv[8] == "mydag.dag"
7/10 17:45:24 argv[9] == "-Rescue"
7/10 17:45:24 argv[10] == "mydag.dag.rescue"
7/10 17:45:24 Condor log will be written to results.log
7/10 17:45:24 DAG Lockfile will be written to mydag.dag.lock
7/10 17:45:24 DAG Input file is mydag.dag
7/10 17:45:24 Rescue DAG will be written to mydag.dag.rescue
7/10 17:45:24 Parsing mydag.dag ...
7/10 17:45:24 Dag contains 6 total jobs
7/10 17:45:24 Bootstrapping...
7/10 17:45:24 Number of pre-completed jobs: 0
7/10 17:45:24 Submitting Job HelloWorld ...
7/10 17:45:24    assigned Condor ID (5.0.0)
7/10 17:45:24 Submitting Job Setup ...
7/10 17:45:24    assigned Condor ID (6.0.0)
7/10 17:45:25 Event: ULOG_SUBMIT for Job HelloWorld (5.0.0)
7/10 17:45:25 Event: ULOG_SUBMIT for Job Setup (6.0.0)
7/10 17:45:25 0/6 done, 0 failed, 2 submitted, 0 ready, 0 pre, 0 post
7/10 17:45:45 Event: ULOG_GLOBUS_SUBMIT for Job Setup (6.0.0)
7/10 17:45:45 Event: ULOG_EXECUTE for Job Setup (6.0.0)
7/10 17:45:45 Event: ULOG_GLOBUS_SUBMIT for Job HelloWorld (5.0.0)
7/10 17:45:45 Event: ULOG_EXECUTE for Job HelloWorld (5.0.0)
7/10 17:46:55 Event: ULOG_JOB_TERMINATED for Job HelloWorld (5.0.0)
7/10 17:46:55 Job HelloWorld completed successfully.
7/10 17:46:55 Event: ULOG_JOB_TERMINATED for Job Setup (6.0.0)
7/10 17:46:55 Job Setup completed successfully.
7/10 17:46:55 Submitting Job WorkerNode_1 ...
7/10 17:46:55    assigned Condor ID (7.0.0)
7/10 17:46:55 Submitting Job WorkerNode_Two ...
7/10 17:46:56    assigned Condor ID (8.0.0)
7/10 17:46:56 Event: ULOG_SUBMIT for Job WorkerNode_1 (7.0.0)
7/10 17:46:56 Event: ULOG_SUBMIT for Job WorkerNode_Two (8.0.0)
7/10 17:46:56 2/6 done, 0 failed, 2 submitted, 0 ready, 0 pre, 0 post
7/10 17:47:11 Event: ULOG_GLOBUS_SUBMIT for Job WorkerNode_Two (8.0.0)
7/10 17:47:11 Event: ULOG_EXECUTE for Job WorkerNode_Two (8.0.0)
7/10 17:47:11 Event: ULOG_GLOBUS_SUBMIT for Job WorkerNode_1 (7.0.0)
7/10 17:47:11 Event: ULOG_EXECUTE for Job WorkerNode_1 (7.0.0)
7/10 17:48:21 Event: ULOG_JOB_TERMINATED for Job WorkerNode_1 (7.0.0)
7/10 17:48:21 Job WorkerNode_1 completed successfully.
7/10 17:48:21 3/6 done, 0 failed, 1 submitted, 0 ready, 0 pre, 0 post
7/10 17:49:21 Event: ULOG_JOB_TERMINATED for Job WorkerNode_Two (8.0.0)
7/10 17:49:21 Job WorkerNode_Two completed successfully.
7/10 17:49:21 Submitting Job CollectResults ...
7/10 17:49:22    assigned Condor ID (9.0.0)
7/10 17:49:22 Event: ULOG_SUBMIT for Job CollectResults (9.0.0)
7/10 17:49:22 4/6 done, 0 failed, 1 submitted, 0 ready, 0 pre, 0 post
7/10 17:49:37 Event: ULOG_GLOBUS_SUBMIT for Job CollectResults (9.0.0)
7/10 17:49:37 Event: ULOG_EXECUTE for Job CollectResults (9.0.0)
7/10 17:50:42 Event: ULOG_JOB_TERMINATED for Job CollectResults (9.0.0)
7/10 17:50:42 Job CollectResults completed successfully.
7/10 17:50:42 Submitting Job LastNode ...
7/10 17:50:42    assigned Condor ID (10.0.0)
7/10 17:50:42 Event: ULOG_SUBMIT for Job LastNode (10.0.0)
7/10 17:50:42 5/6 done, 0 failed, 1 submitted, 0 ready, 0 pre, 0 post
7/10 17:50:57 Event: ULOG_GLOBUS_SUBMIT for Job LastNode (10.0.0)
7/10 17:50:57 Event: ULOG_EXECUTE for Job LastNode (10.0.0)
7/10 17:52:02 Event: ULOG_JOB_TERMINATED for Job LastNode (10.0.0)
7/10 17:52:02 Job LastNode completed successfully.
7/10 17:52:02 6/6 done, 0 failed, 0 submitted, 0 ready, 0 pre, 0 post
7/10 17:52:02 All jobs Completed!
7/10 17:52:02 **** condor_scheduniv_exec.4.0 (condor_DAGMAN) EXITING WITH STATUS 0
</pre>
<p />
<p>Clean up your results.  Be careful about deleting the mydag.dag.* files,
you do not want to delete the mydag.dag file, just mydag.dag.* .
<p />
<pre>
$ <strong>rm mydag.dag.* results.*</strong>
</pre>
<p />
<p />
<a name="optional_multi_resource"></a>
<h3><a name="Optional_Multiple_Globus_Schedul"></a> Optional: Multiple Globus Schedulers </h3>
<p />
<p>If you're ahead of schedule, you can try redoing this section, but with
other Grid sites.  Modify some of the grid_resource entries in your
submit files to point to <tt>evitable.uchicago.edu</tt>,
<tt>terminable.uchicago.edu or gridlab3/jobmanager-condor</tt>.  A single
DAG can send jobs to a variety of sites.  Condor-G is capable of managing
jobs being distributed to many different sites simultaneously.
<p />
<a name="failed_dag"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Part_VI_Handling_Jobs_That_Fail"></a> Part VI: Handling Jobs That Fail with DAGMan </span></h2>
<p />
<p>DAGMan can handle a situation where some of the nodes in a DAG fails.
DAGMan will run as many nodes as possible, then create a rescue DAG making
it easy to continue when the problem is fixed.
<p />
<p>Let's create a script that will fail so we can see this:
<p />
<pre>
$ <strong>cat &gt; myscript2.sh
#! /bin/sh

echo "I'm process id $$ on" `hostname`
echo "This is sent to standard error" 1&gt;&2
date
echo "Running as binary $0" "$@"
echo "My name (argument 1) is $1"
echo "My sleep duration (argument 2) is $2"
sleep $2
echo "Sleep of $2 seconds finished.  Exiting"
echo "RESULT: 1 FAILURE"
exit 1

<em>Ctrl-D</em></strong>
$ <strong>cat myscript2.sh</strong>
#! /bin/sh

echo "I'm process id $$ on" `hostname`
echo "This is sent to standard error" 1&gt;&2
date
echo "Running as binary $0" "$@"
echo "My name (argument 1) is $1"
echo "My sleep duration (argument 2) is $2"
sleep $2
echo "Sleep of $2 seconds finished.  Exiting"
echo "RESULT: 1 FAILURE"
exit 1
$ <strong>chmod a+x myscript2.sh</strong>
</pre>
<p />
<p>Modify job.work2.submit to run myscript2.sh instead of myscript.sh:
<p />
<pre>
$ <strong>rm job.work2.submit</strong>
$ <strong>cat &gt; job.work2.submit
executable=myscript2.sh
output=results.work2.output
error=results.work2.error
log=results.log
notification=never
universe=grid
grid_resource=gt2 gridlab2/jobmanager-fork
arguments=WorkerNode2 60
queue

<em>Ctrl-D</em></strong>
$ <strong>cat job.work2.submit</strong>
executable=myscript2.sh
output=results.work2.output
error=results.work2.error
log=results.log
notification=never
universe=grid
grid_resource=gt2 gridlab2/jobmanager-fork
arguments=WorkerNode2 60
queue
</pre>
<p />
<p>Submit the dag again.
<p />
<pre>
$ <strong>condor_submit_dag mydag.dag</strong>

Checking your DAG input file and all submit files it references.
This might take a while... 
Done.
-----------------------------------------------------------------------
File for submitting this DAG to Condor   : mydag.dag.condor.sub
Log of DAGMan debugging messages         : mydag.dag.dagman.out
Log of Condor library debug messages     : mydag.dag.lib.out
Log of the life of condor_dagman itself  : mydag.dag.dagman.log

Condor Log file for all jobs of this DAG : results.log
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 15.
-----------------------------------------------------------------------
</pre>
<p />
<p>Use watch_condor_q to watch the jobs until they finish.
<p />
<p>In separate windows run "<tt>tail -f --lines=500 results.log</tt>" and "<tt>tail -f --lines=500 mydag.dag.dagman.out</tt>" to monitor the job's progress.
<p />
<pre>
$ <strong>./watch_condor_q</strong>


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
  15.0   adesmet         7/10 11:11   0+00:00:04 R  0   2.6  condor_dagman -f -
  16.0   adesmet         7/10 11:11   0+00:00:00 I  0   0.0  myscript.sh       
  17.0   adesmet         7/10 11:11   0+00:00:00 I  0   0.0  myscript.sh Setup 

3 jobs; 2 idle, 1 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
  16.0   adesmet       UNSUBMITTED fork     gk1   /afs/cs.wisc.edu/u
  17.0   adesmet       UNSUBMITTED fork     gk1   /afs/cs.wisc.edu/u


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
  15.0   adesmet         7/10 11:11   0+00:00:04 R  0   2.6  condor_dagman -f -
  16.0    |-HelloWorld   7/10 11:11   0+00:00:00 I  0   0.0  myscript.sh       
  17.0    |-Setup        7/10 11:11   0+00:00:00 I  0   0.0  myscript.sh Setup 

3 jobs; 2 idle, 1 running, 0 held


<em>Output of watch_condor_q truncated</em>

-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               

0 jobs; 0 idle, 0 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               

0 jobs; 0 idle, 0 running, 0 held
<strong><em>Ctrl-C</em></strong>
</pre>
<p />
<p>Check your results:
<p />
<pre>
$ <strong>ls</strong>
job.finalize.submit   mydag.dag.condor.sub  myscript.sh           results.output      results.work2.output
job.setup.submit      mydag.dag.dagman.log  myscript2.sh        results.setup.error   results.workfinal.error
job.work1.submit      mydag.dag.dagman.out  results.error        results.setup.output  results.workfinal.output
job.work2.submit      mydag.dag.lib.out     results.finalize.error   results.work1.error   watch_condor_q
job.workfinal.submit  mydag.dag.lock       results.finalize.output  results.work1.output
mydag.dag         myjob.submit       results.log           results.work2.error
$ <strong>cat results.work2.output</strong>
I'm process id 29921 on pc-26
Thu Jul 10 11:12:42 CDT 2003
Running as binary /n/uscms_share/home/adesmet2/.globus/.gass_cache/local/md5/87/459c159766cefb36f0d75023de0e35/md5/70/5d82b930ec61460d9c9ca65cbe5a8a/data WorkerNode2 60
My name (argument 1) is WorkerNode2
My sleep duration (argument 2) is 60
Sleep of 60 seconds finished.  Exiting
RESULT: 1 FAILURE
$ <strong>cat mydag.dag.dagman.out</strong>
7/10 11:11:55 ******************************************************
7/10 11:11:55 ** condor_scheduniv_exec.15.0 (CONDOR_DAGMAN) STARTING UP
7/10 11:11:55 ** $CondorVersion: 6.5.1 Apr 22 2003 $
7/10 11:11:55 ** $CondorPlatform: INTEL-LINUX-GLIBC22 $
7/10 11:11:55 ** PID = 27126
7/10 11:11:55 ******************************************************
7/10 11:11:55 DaemonCore: Command Socket at &lt;128.105.185.14:34769&gt;
7/10 11:11:55 argv[0] == "condor_scheduniv_exec.15.0"
7/10 11:11:55 argv[1] == "-Debug"
7/10 11:11:55 argv[2] == "3"
7/10 11:11:55 argv[3] == "-Lockfile"
7/10 11:11:55 argv[4] == "mydag.dag.lock"
7/10 11:11:55 argv[5] == "-Condorlog"
7/10 11:11:55 argv[6] == "results.log"
7/10 11:11:55 argv[7] == "-Dag"
7/10 11:11:55 argv[8] == "mydag.dag"
7/10 11:11:55 argv[9] == "-Rescue"
7/10 11:11:55 argv[10] == "mydag.dag.rescue"
7/10 11:11:55 Condor log will be written to results.log
7/10 11:11:55 DAG Lockfile will be written to mydag.dag.lock
7/10 11:11:55 DAG Input file is mydag.dag
7/10 11:11:55 Rescue DAG will be written to mydag.dag.rescue
7/10 11:11:55 Parsing mydag.dag ...
7/10 11:11:55 Dag contains 6 total jobs
7/10 11:11:55 Bootstrapping...
7/10 11:11:55 Number of pre-completed jobs: 0
7/10 11:11:55 Submitting Job HelloWorld ...
7/10 11:11:55    assigned Condor ID (16.0.0)
7/10 11:11:55 Submitting Job Setup ...
7/10 11:11:55    assigned Condor ID (17.0.0)
7/10 11:11:56 Event: ULOG_SUBMIT for Job HelloWorld (16.0.0)
7/10 11:11:56 Event: ULOG_SUBMIT for Job Setup (17.0.0)
7/10 11:11:56 0/6 done, 0 failed, 2 submitted, 0 ready, 0 pre, 0 post
7/10 11:12:16 Event: ULOG_GLOBUS_SUBMIT for Job HelloWorld (16.0.0)
7/10 11:12:16 Event: ULOG_EXECUTE for Job HelloWorld (16.0.0)
7/10 11:12:16 Event: ULOG_GLOBUS_SUBMIT for Job Setup (17.0.0)
7/10 11:12:16 Event: ULOG_EXECUTE for Job Setup (17.0.0)
7/10 11:12:21 Event: ULOG_JOB_TERMINATED for Job HelloWorld (16.0.0)
7/10 11:12:21 Job HelloWorld completed successfully.
7/10 11:12:21 1/6 done, 0 failed, 1 submitted, 0 ready, 0 pre, 0 post
7/10 11:12:31 Event: ULOG_JOB_TERMINATED for Job Setup (17.0.0)
7/10 11:12:31 Job Setup completed successfully.
7/10 11:12:31 Submitting Job WorkerNode_1 ...
7/10 11:12:32    assigned Condor ID (18.0.0)
7/10 11:12:32 Submitting Job WorkerNode_Two ...
7/10 11:12:32    assigned Condor ID (19.0.0)
7/10 11:12:32 Event: ULOG_SUBMIT for Job WorkerNode_1 (18.0.0)
7/10 11:12:32 Event: ULOG_SUBMIT for Job WorkerNode_Two (19.0.0)
7/10 11:12:32 2/6 done, 0 failed, 2 submitted, 0 ready, 0 pre, 0 post
7/10 11:12:47 Event: ULOG_GLOBUS_SUBMIT for Job WorkerNode_Two (19.0.0)
7/10 11:12:47 Event: ULOG_EXECUTE for Job WorkerNode_Two (19.0.0)
7/10 11:12:47 Event: ULOG_GLOBUS_SUBMIT for Job WorkerNode_1 (18.0.0)
7/10 11:12:47 Event: ULOG_EXECUTE for Job WorkerNode_1 (18.0.0)
7/10 11:13:07 Event: ULOG_JOB_TERMINATED for Job WorkerNode_1 (18.0.0)
7/10 11:13:07 Job WorkerNode_1 completed successfully.
7/10 11:13:07 3/6 done, 0 failed, 1 submitted, 0 ready, 0 pre, 0 post
7/10 11:13:57 Event: ULOG_JOB_TERMINATED for Job WorkerNode_Two (19.0.0)
7/10 11:13:57 Job WorkerNode_Two completed successfully.
7/10 11:13:57 Submitting Job CollectResults ...
7/10 11:13:57    assigned Condor ID (20.0.0)
7/10 11:13:57 Event: ULOG_SUBMIT for Job CollectResults (20.0.0)
7/10 11:13:57 4/6 done, 0 failed, 1 submitted, 0 ready, 0 pre, 0 post
7/10 11:14:12 Event: ULOG_GLOBUS_SUBMIT for Job CollectResults (20.0.0)
7/10 11:14:12 Event: ULOG_EXECUTE for Job CollectResults (20.0.0)
7/10 11:14:32 Event: ULOG_JOB_TERMINATED for Job CollectResults (20.0.0)
7/10 11:14:32 Job CollectResults completed successfully.
7/10 11:14:32 Submitting Job LastNode ...
7/10 11:14:32    assigned Condor ID (21.0.0)
7/10 11:14:32 Event: ULOG_SUBMIT for Job LastNode (21.0.0)
7/10 11:14:32 5/6 done, 0 failed, 1 submitted, 0 ready, 0 pre, 0 post
7/10 11:14:47 Event: ULOG_GLOBUS_SUBMIT for Job LastNode (21.0.0)
7/10 11:14:47 Event: ULOG_EXECUTE for Job LastNode (21.0.0)
7/10 11:15:02 Event: ULOG_JOB_TERMINATED for Job LastNode (21.0.0)
7/10 11:15:02 Job LastNode completed successfully.
7/10 11:15:02 6/6 done, 0 failed, 0 submitted, 0 ready, 0 pre, 0 post
7/10 11:15:02 All jobs Completed!
7/10 11:15:02 **** condor_scheduniv_exec.15.0 (condor_DAGMAN) EXITING WITH STATUS 0
</pre>
<p />
<p> Uh oh, DAGMan ran that remaining nodes based on bad data from node
work2. Normally DAGMan checks the return code and considers non-zero a
failure.  We did modify myscript2.sh to return non-zero.  That would
normally work, but we're using Condor-G, not normal Condor.  Condor-G
relies on Globus and Globus doesn't return error codes.
<p />
<p>If you're interested in having DAGMan notice a failed job and stopping
the DAG at that point, you'll need to use a POST script to detect the
problem.  One solution is to wrap your executable in a script that will
output the executable's return code to stdout and have the POST script scan
the stdout for the status.  Of perhaps your executable's normal output
contains enough information to make the decision.
<p />
<p>In this case, our executable is emitting a well known message.  Let's
add a POST script.
<p />
<p>First, clean up your results.  Be careful about deleting the mydag.dag.* files,
you do not want to delete the mydag.dag file, just mydag.dag.* .
<p />
<pre>
$ <strong>rm mydag.dag.* results.*</strong>
</pre>
<p />
<p>Now create a script to check the output.
<p />
<pre>
$ <strong>cat &gt; postscript_checker
#! /bin/sh
grep 'RESULT: 0 SUCCESS' $1 &gt; /dev/null 2&gt;/dev/null

<em>Ctrl-D</em></strong>
$ <strong>cat postscript_checker</strong>
#! /bin/sh
grep 'RESULT: 0 SUCCESS' $1 &gt; /dev/null 2&gt;/dev/null
$ <strong>chmod a+x postscript_checker </strong>
</pre>
<p />
<p>modify your mydag.dag to use the new script for the nodes. 
<p />
<pre>
$ <strong>cat &gt;&gt;mydag.dag
Script POST Setup postscript_checker results.setup.output
Script POST WorkerNode_1 postscript_checker results.work1.output
Script POST WorkerNode_Two postscript_checker results.work2.output
Script POST CollectResults postscript_checker results.workfinal.output
Script POST LastNode postscript_checker results.finalize.output

<em>Ctrl-D</em></strong>
$ <strong>cat mydag.dag</strong>
Job HelloWorld myjob.submit
Job Setup job.setup.submit
Job WorkerNode_1 job.work1.submit
Job WorkerNode_Two job.work2.submit
Job CollectResults job.workfinal.submit
Job LastNode job.finalize.submit
PARENT Setup CHILD WorkerNode_1 WorkerNode_Two
PARENT WorkerNode_1 WorkerNode_Two CHILD CollectResults
PARENT CollectResults CHILD LastNode
Script POST Setup postscript_checker results.setup.output
Script POST WorkerNode_1 postscript_checker results.work1.output
Script POST WorkerNode_Two postscript_checker results.work2.output
Script POST CollectResults postscript_checker results.workfinal.output
Script POST LastNode postscript_checker results.finalize.output
$ <strong>ls</strong>
job.finalize.submit  job.work1.submit  job.workfinal.submit  myjob.submit  myscript2.sh        watch_condor_q
job.setup.submit     job.work2.submit  mydag.dag        myscript.sh   postscript_checker
</pre>
<p />
<p>Submit the dag again with the new POST scripts in place.
<p />
<pre>
$ <strong>condor_submit_dag mydag.dag</strong>

Checking your DAG input file and all submit files it references.
This might take a while... 
Done.
-----------------------------------------------------------------------
File for submitting this DAG to Condor   : mydag.dag.condor.sub
Log of DAGMan debugging messages         : mydag.dag.dagman.out
Log of Condor library debug messages     : mydag.dag.lib.out
Log of the life of condor_dagman itself  : mydag.dag.dagman.log

Condor Log file for all jobs of this DAG : results.log
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 22.
-----------------------------------------------------------------------
</pre>
<p />
<p>Again, watch the job with watch_condor_q.
In separate windows run "<tt>tail -f --lines=500 results.log</tt>" and "<tt>tail -f --lines=500 mydag.dag.dagman.out</tt>" to monitor the job's progress.
<p />
<pre>
$ <strong>./watch_condor_q </strong>


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
  22.0   adesmet         7/10 11:25   0+00:00:03 R  0   2.6  condor_dagman -f -
  23.0   adesmet         7/10 11:25   0+00:00:00 I  0   0.0  myscript.sh       
  24.0   adesmet         7/10 11:25   0+00:00:00 I  0   0.0  myscript.sh Setup 

3 jobs; 2 idle, 1 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
  23.0   adesmet       UNSUBMITTED fork     gk1   /afs/cs.wisc.edu/u
  24.0   adesmet       UNSUBMITTED fork     gk1   /afs/cs.wisc.edu/u


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
  22.0   adesmet         7/10 11:25   0+00:00:03 R  0   2.6  condor_dagman -f -
  23.0    |-HelloWorld   7/10 11:25   0+00:00:00 I  0   0.0  myscript.sh       
  24.0    |-Setup        7/10 11:25   0+00:00:00 I  0   0.0  myscript.sh Setup 

3 jobs; 2 idle, 1 running, 0 held


<em>Output of watch_condor_q truncated</em>

-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               

0 jobs; 0 idle, 0 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               

0 jobs; 0 idle, 0 running, 0 held
<strong><em>Ctrl-C</em></strong>
</pre>
<p />
<p>Check your results:
<p />
<p />
<pre>
$ <strong>ls</strong>
job.finalize.submit   mydag.dag          mydag.dag.rescue   results.error         results.work1.error
job.setup.submit      mydag.dag.condor.sub  myjob.submit   results.log         results.work1.output
job.work1.submit      mydag.dag.dagman.log  myscript.sh      results.output         results.work2.error
job.work2.submit      mydag.dag.dagman.out  myscript2.sh   results.setup.error   results.work2.output
job.workfinal.submit  mydag.dag.lib.out     postscript_checker   results.setup.output  watch_condor_q
$ <strong>cat mydag.dag.dagman.out</strong>
7/10 11:25:35 ******************************************************
7/10 11:25:35 ** condor_scheduniv_exec.22.0 (CONDOR_DAGMAN) STARTING UP
7/10 11:25:35 ** $CondorVersion: 6.5.1 Apr 22 2003 $
7/10 11:25:35 ** $CondorPlatform: INTEL-LINUX-GLIBC22 $
7/10 11:25:35 ** PID = 27251
7/10 11:25:35 ******************************************************
7/10 11:25:35 DaemonCore: Command Socket at &lt;128.105.185.14:34913&gt;
7/10 11:25:35 argv[0] == "condor_scheduniv_exec.22.0"
7/10 11:25:35 argv[1] == "-Debug"
7/10 11:25:35 argv[2] == "3"
7/10 11:25:35 argv[3] == "-Lockfile"
7/10 11:25:35 argv[4] == "mydag.dag.lock"
7/10 11:25:35 argv[5] == "-Condorlog"
7/10 11:25:35 argv[6] == "results.log"
7/10 11:25:35 argv[7] == "-Dag"
7/10 11:25:35 argv[8] == "mydag.dag"
7/10 11:25:35 argv[9] == "-Rescue"
7/10 11:25:35 argv[10] == "mydag.dag.rescue"
7/10 11:25:35 Condor log will be written to results.log
7/10 11:25:35 DAG Lockfile will be written to mydag.dag.lock
7/10 11:25:35 DAG Input file is mydag.dag
7/10 11:25:35 Rescue DAG will be written to mydag.dag.rescue
7/10 11:25:35 Parsing mydag.dag ...
7/10 11:25:35 jobName: Setup
7/10 11:25:35 jobName: WorkerNode_1
7/10 11:25:35 jobName: WorkerNode_Two
7/10 11:25:35 jobName: CollectResults
7/10 11:25:35 jobName: LastNode
7/10 11:25:35 Dag contains 6 total jobs
7/10 11:25:35 Bootstrapping...
7/10 11:25:35 Number of pre-completed jobs: 0
7/10 11:25:35 Submitting Job HelloWorld ...
7/10 11:25:35    assigned Condor ID (23.0.0)
7/10 11:25:35 Submitting Job Setup ...
7/10 11:25:35    assigned Condor ID (24.0.0)
7/10 11:25:36 Event: ULOG_SUBMIT for Job HelloWorld (23.0.0)
7/10 11:25:36 Event: ULOG_SUBMIT for Job Setup (24.0.0)
7/10 11:25:36 0/6 done, 0 failed, 2 submitted, 0 ready, 0 pre, 0 post
7/10 11:25:56 Event: ULOG_GLOBUS_SUBMIT for Job HelloWorld (23.0.0)
7/10 11:25:56 Event: ULOG_EXECUTE for Job HelloWorld (23.0.0)
7/10 11:25:56 Event: ULOG_GLOBUS_SUBMIT for Job Setup (24.0.0)
7/10 11:25:56 Event: ULOG_EXECUTE for Job Setup (24.0.0)
7/10 11:26:01 Event: ULOG_JOB_TERMINATED for Job HelloWorld (23.0.0)
7/10 11:26:01 Job HelloWorld completed successfully.
7/10 11:26:01 1/6 done, 0 failed, 1 submitted, 0 ready, 0 pre, 0 post
7/10 11:26:11 Event: ULOG_JOB_TERMINATED for Job Setup (24.0.0)
7/10 11:26:11 Job Setup completed successfully.
7/10 11:26:11 Running POST script of Job Setup...
7/10 11:26:11 1/6 done, 0 failed, 0 submitted, 0 ready, 0 pre, 1 post
7/10 11:26:16 Event: ULOG_POST_SCRIPT_TERMINATED for Job Setup (24.0.0)
7/10 11:26:16 POST Script of Job Setup completed successfully.
7/10 11:26:16 Submitting Job WorkerNode_1 ...
7/10 11:26:16    assigned Condor ID (25.0.0)
7/10 11:26:16 Submitting Job WorkerNode_Two ...
7/10 11:26:17    assigned Condor ID (26.0.0)
7/10 11:26:17 Event: ULOG_SUBMIT for Job WorkerNode_1 (25.0.0)
7/10 11:26:17 Event: ULOG_SUBMIT for Job WorkerNode_Two (26.0.0)
7/10 11:26:17 2/6 done, 0 failed, 2 submitted, 0 ready, 0 pre, 0 post
7/10 11:26:32 Event: ULOG_GLOBUS_SUBMIT for Job WorkerNode_1 (25.0.0)
7/10 11:26:32 Event: ULOG_EXECUTE for Job WorkerNode_1 (25.0.0)
7/10 11:26:32 Event: ULOG_GLOBUS_SUBMIT for Job WorkerNode_Two (26.0.0)
7/10 11:26:32 Event: ULOG_EXECUTE for Job WorkerNode_Two (26.0.0)
7/10 11:26:52 Event: ULOG_JOB_TERMINATED for Job WorkerNode_1 (25.0.0)
7/10 11:26:52 Job WorkerNode_1 completed successfully.
7/10 11:26:52 Running POST script of Job WorkerNode_1...
7/10 11:26:52 2/6 done, 0 failed, 1 submitted, 0 ready, 0 pre, 1 post
7/10 11:26:57 Event: ULOG_POST_SCRIPT_TERMINATED for Job WorkerNode_1 (25.0.0)
7/10 11:26:57 POST Script of Job WorkerNode_1 completed successfully.
7/10 11:26:57 3/6 done, 0 failed, 1 submitted, 0 ready, 0 pre, 0 post
7/10 11:27:42 Event: ULOG_JOB_TERMINATED for Job WorkerNode_Two (26.0.0)
7/10 11:27:42 Job WorkerNode_Two completed successfully.
7/10 11:27:42 Running POST script of Job WorkerNode_Two...
7/10 11:27:42 3/6 done, 0 failed, 0 submitted, 0 ready, 0 pre, 1 post
7/10 11:27:47 Event: ULOG_POST_SCRIPT_TERMINATED for Job WorkerNode_Two (26.0.0)
7/10 11:27:47 POST Script of Job WorkerNode_Two failed with status 1
7/10 11:27:47 3/6 done, 1 failed, 0 submitted, 0 ready, 0 pre, 0 post
7/10 11:27:47 ERROR: the following job(s) failed:
7/10 11:27:47 ---------------------- Job ----------------------
7/10 11:27:47       Node Name: WorkerNode_Two
7/10 11:27:47          NodeID: 3
7/10 11:27:47     Node Status: STATUS_ERROR    
7/10 11:27:47           Error: POST Script failed with status 1
7/10 11:27:47 Job Submit File: job.work2.submit
7/10 11:27:47     POST Script: postscript_checker results.work2.output
7/10 11:27:47   Condor Job ID: (26.0.0)
7/10 11:27:47       Q_PARENTS: 1, &lt;END&gt;
7/10 11:27:47       Q_WAITING: &lt;END&gt;

7/10 11:27:47      Q_CHILDREN: 4, &lt;END&gt;
7/10 11:27:47 ---------------------------------------   &lt;END&gt;
7/10 11:27:47 Writing Rescue DAG file...
7/10 11:27:47 **** condor_scheduniv_exec.22.0 (condor_DAGMAN) EXITING WITH STATUS 1
</pre>
<p />
<p>DAGMan notices that one of the jobs failed.  DAGMan ran as much of the
DAG as possible and logged enough information to continue the run when the
situation is resolved.
<p />
<p>Look at the rescue DAG. It's the same structurally as your original DAG,
but notes that finished are marked DONE.  (DAGMan also reorganized the
file.) When you submit the rescue DAG, DONE nodes will be skipped.
<p />
<pre>
$ <strong>cat mydag.dag.rescue </strong>
# Rescue DAG file, created after running
#   the mydag.dag DAG file
#
# Total number of Nodes: 6
# Nodes premarked DONE: 3
# Nodes that failed: 1
#   WorkerNode_Two,&lt;ENDLIST&gt;

JOB HelloWorld myjob.submit DONE

JOB Setup job.setup.submit DONE
SCRIPT POST Setup postscript_checker results.setup.output

JOB WorkerNode_1 job.work1.submit DONE
SCRIPT POST WorkerNode_1 postscript_checker results.work1.output

JOB WorkerNode_Two job.work2.submit 
SCRIPT POST WorkerNode_Two postscript_checker results.work2.output

JOB CollectResults job.workfinal.submit 
SCRIPT POST CollectResults postscript_checker results.workfinal.output

JOB LastNode job.finalize.submit 
SCRIPT POST LastNode postscript_checker results.finalize.output


PARENT Setup CHILD WorkerNode_1 WorkerNode_Two
PARENT WorkerNode_1 CHILD CollectResults
PARENT WorkerNode_Two CHILD CollectResults
PARENT CollectResults CHILD LastNode
</pre>
<p />
<p>So we know there is a problem with the work2 step.  Let's "fix" it.
<p />
<pre>
$ <strong>rm myscript2.sh</strong>
$ <strong>cp myscript.sh myscript2.sh</strong>
</pre>
<p />
<p>Now we can submit our rescue DAG.  (If you didn't fix the problem,
DAGMan would have generated another rescue DAG, this time
"mydag.dag.rescue.rescue".)
In separate windows run "<tt>tail -f --lines=500 results.log</tt>" and "<tt>tail -f --lines=500 mydag.dag.dagman.out</tt>" to monitor the job's progress.
<p />
<p />
<pre>
$ <strong>condor_submit_dag mydag.dag.rescue </strong>

Checking your DAG input file and all submit files it references.
This might take a while... 
Done.
-----------------------------------------------------------------------
File for submitting this DAG to Condor   : mydag.dag.rescue.condor.sub
Log of DAGMan debugging messages         : mydag.dag.rescue.dagman.out
Log of Condor library debug messages     : mydag.dag.rescue.lib.out
Log of the life of condor_dagman itself  : mydag.dag.rescue.dagman.log

Condor Log file for all jobs of this DAG : results.log
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 27.
-----------------------------------------------------------------------
$ <strong>./watch_condor_q </strong>


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
  27.0   adesmet         7/10 11:34   0+00:00:01 R  0   2.6  condor_dagman -f -
  28.0   adesmet         7/10 11:34   0+00:00:00 I  0   0.0  myscript2.sh Worke

2 jobs; 1 idle, 1 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        
  28.0   adesmet       UNSUBMITTED fork     gk1   /afs/cs.wisc.edu/u


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
  27.0   adesmet         7/10 11:34   0+00:00:01 R  0   2.6  condor_dagman -f -
  28.0    |-WorkerNode_  7/10 11:34   0+00:00:00 I  0   0.0  myscript2.sh Worke

2 jobs; 1 idle, 1 running, 0 held


<em>Output of watch_condor_q truncated</em>

-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               

0 jobs; 0 idle, 0 running, 0 held


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER          STATUS  MANAGER  HOST                EXECUTABLE        


-- Submitter: puffin.cs.wisc.edu : &lt;128.105.185.14:33785&gt; : puffin.cs.wisc.edu
 ID      OWNER/NODENAME   SUBMITTED     RUN_TIME ST PRI SIZE CMD               

0 jobs; 0 idle, 0 running, 0 held

<strong><em>Ctrl-C</em></strong>
</pre>
<p />
<p>Check your results.
<p />
<pre>
$ <strong>ls</strong>
job.finalize.submit   mydag.dag.lib.out         myscript2.sh          results.work1.error
job.setup.submit      mydag.dag.rescue         postscript_checker       results.work1.output
job.work1.submit      mydag.dag.rescue.condor.sub  results.error       results.work2.error
job.work2.submit      mydag.dag.rescue.dagman.log  results.finalize.error   results.work2.output
job.workfinal.submit  mydag.dag.rescue.dagman.out  results.finalize.output  results.workfinal.error
mydag.dag         mydag.dag.rescue.lib.out      results.log          results.workfinal.output
mydag.dag.condor.sub  mydag.dag.rescue.lock      results.output       watch_condor_q
mydag.dag.dagman.log  myjob.submit         results.setup.error
mydag.dag.dagman.out  myscript.sh         results.setup.output
$ <strong>cat mydag.dag.rescue.dagman.out</strong>
7/10 11:34:33 ******************************************************
7/10 11:34:33 ** condor_scheduniv_exec.27.0 (CONDOR_DAGMAN) STARTING UP
7/10 11:34:33 ** $CondorVersion: 6.5.1 Apr 22 2003 $
7/10 11:34:33 ** $CondorPlatform: INTEL-LINUX-GLIBC22 $
7/10 11:34:33 ** PID = 27317
7/10 11:34:33 ******************************************************
7/10 11:34:33 DaemonCore: Command Socket at &lt;128.105.185.14:35032&gt;
7/10 11:34:33 argv[0] == "condor_scheduniv_exec.27.0"
7/10 11:34:33 argv[1] == "-Debug"
7/10 11:34:33 argv[2] == "3"
7/10 11:34:33 argv[3] == "-Lockfile"
7/10 11:34:33 argv[4] == "mydag.dag.rescue.lock"
7/10 11:34:33 argv[5] == "-Condorlog"
7/10 11:34:33 argv[6] == "results.log"
7/10 11:34:33 argv[7] == "-Dag"
7/10 11:34:33 argv[8] == "mydag.dag.rescue"
7/10 11:34:33 argv[9] == "-Rescue"
7/10 11:34:33 argv[10] == "mydag.dag.rescue.rescue"
7/10 11:34:33 Condor log will be written to results.log
7/10 11:34:33 DAG Lockfile will be written to mydag.dag.rescue.lock
7/10 11:34:33 DAG Input file is mydag.dag.rescue
7/10 11:34:33 Rescue DAG will be written to mydag.dag.rescue.rescue
7/10 11:34:33 Parsing mydag.dag.rescue ...
7/10 11:34:33 jobName: Setup
7/10 11:34:33 jobName: WorkerNode_1
7/10 11:34:33 jobName: WorkerNode_Two
7/10 11:34:33 jobName: CollectResults
7/10 11:34:33 jobName: LastNode
7/10 11:34:33 Dag contains 6 total jobs
7/10 11:34:33 Deleting older version of results.log
7/10 11:34:33 Bootstrapping...
7/10 11:34:33 Number of pre-completed jobs: 3
7/10 11:34:33 Submitting Job WorkerNode_Two ...
7/10 11:34:33    assigned Condor ID (28.0.0)
7/10 11:34:34 Event: ULOG_SUBMIT for Job WorkerNode_Two (28.0.0)
7/10 11:34:34 3/6 done, 0 failed, 1 submitted, 0 ready, 0 pre, 0 post
7/10 11:34:54 Event: ULOG_GLOBUS_SUBMIT for Job WorkerNode_Two (28.0.0)
7/10 11:34:54 Event: ULOG_EXECUTE for Job WorkerNode_Two (28.0.0)
7/10 11:35:59 Event: ULOG_JOB_TERMINATED for Job WorkerNode_Two (28.0.0)
7/10 11:35:59 Job WorkerNode_Two completed successfully.
7/10 11:35:59 Running POST script of Job WorkerNode_Two...
7/10 11:35:59 3/6 done, 0 failed, 0 submitted, 0 ready, 0 pre, 1 post
7/10 11:36:04 Event: ULOG_POST_SCRIPT_TERMINATED for Job WorkerNode_Two (28.0.0)
7/10 11:36:04 POST Script of Job WorkerNode_Two completed successfully.
7/10 11:36:04 Submitting Job CollectResults ...
7/10 11:36:04    assigned Condor ID (29.0.0)
7/10 11:36:04 Event: ULOG_SUBMIT for Job CollectResults (29.0.0)
7/10 11:36:04 4/6 done, 0 failed, 1 submitted, 0 ready, 0 pre, 0 post
7/10 11:36:19 Event: ULOG_GLOBUS_SUBMIT for Job CollectResults (29.0.0)
7/10 11:36:19 Event: ULOG_EXECUTE for Job CollectResults (29.0.0)
7/10 11:36:34 Event: ULOG_JOB_TERMINATED for Job CollectResults (29.0.0)
7/10 11:36:34 Job CollectResults completed successfully.
7/10 11:36:34 Running POST script of Job CollectResults...
7/10 11:36:34 4/6 done, 0 failed, 0 submitted, 0 ready, 0 pre, 1 post
7/10 11:36:39 Event: ULOG_POST_SCRIPT_TERMINATED for Job CollectResults (29.0.0)
7/10 11:36:39 POST Script of Job CollectResults completed successfully.
7/10 11:36:39 Submitting Job LastNode ...
7/10 11:36:39    assigned Condor ID (30.0.0)
7/10 11:36:39 Event: ULOG_SUBMIT for Job LastNode (30.0.0)
7/10 11:36:39 5/6 done, 0 failed, 1 submitted, 0 ready, 0 pre, 0 post
7/10 11:36:54 Event: ULOG_GLOBUS_SUBMIT for Job LastNode (30.0.0)
7/10 11:36:54 Event: ULOG_EXECUTE for Job LastNode (30.0.0)
7/10 11:37:09 Event: ULOG_JOB_TERMINATED for Job LastNode (30.0.0)
7/10 11:37:09 Job LastNode completed successfully.
7/10 11:37:09 Running POST script of Job LastNode...
7/10 11:37:09 5/6 done, 0 failed, 0 submitted, 0 ready, 0 pre, 1 post
7/10 11:37:14 Event: ULOG_POST_SCRIPT_TERMINATED for Job LastNode (30.0.0)
7/10 11:37:14 POST Script of Job LastNode completed successfully.
7/10 11:37:14 6/6 done, 0 failed, 0 submitted, 0 ready, 0 pre, 0 post
7/10 11:37:14 All jobs Completed!
7/10 11:37:14 **** condor_scheduniv_exec.27.0 (condor_DAGMAN) EXITING WITH STATUS 0
$ <strong>cat results.work2.output</strong>
I'm process id 30478 on pc-26
Thu Jul 10 11:34:46 CDT 2003
Running as binary /n/uscms_share/home/adesmet2/.globus/.gass_cache/local/md5/23/61b50cd9b278330cac68107dd390d6/md5/5e/004f7216b8b846d548357da00985f4/data WorkerNode2 60
My name (argument 1) is WorkerNode2
My sleep duration (argument 2) is 60
Sleep of 60 seconds finished.  Exiting
RESULT: 0 SUCCESS
$ <strong>exit</strong>

</pre>
<p />
<p />
<p> That's it.  There is a lot more you can do with Condor-G
and DAGMan, but this basic introduction is all you need to
know to get started.  Good luck!  
<p />
</body></html>
-- <a href="/bin/view/Main/MichaelWilde" class="twikiLink">MichaelWilde</a> - 15 Jun 2006</div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Education/SummerGridWorkshop<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Education/GridWorkshops" class="twikiLink">GridWorkshops</a> &gt; <a href="/bin/view/Education/SummerGridWorkshop" class="twikiLink">SummerGridWorkshop</a> &gt; <a href="/bin/view/Education/SummerGridWorkshop/SummerGridSyllabus2006" class="twikiLink">SummerGridSyllabus2006</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>GridLab4Jobs</span> <br />    
Topic revision: r7 - 27 Jun 2006 - 22:29:23 - <a href="/bin/view/Main/JaimeFrey" class="twikiLink">JaimeFrey</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />