<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> AfricaGridSchool12Mandlebrot &lt; Education &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Education/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Education/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Education/AfricaGridSchool12Mandlebrot?_T=16 Feb 2017" type="application/x-wiki" title="edit AfricaGridSchool12Mandlebrot" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Education/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Education/AfricaGridSchool12Mandlebrot"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#D0D0D0;
	}
	.patternBookView {
		border-color:#D0D0D0;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">

@import url('/pub/Documentation/Tools/exercises.css ');

</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--TWISTYPLUGIN_TWISTY--><style type="text/css" media="all">
@import url("https://twiki.opensciencegrid.org/twiki/pub/TWiki/TwistyContrib/twist.css");
</style>
<script type='text/javascript' src='https://twiki.opensciencegrid.org/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js'></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikiPref.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TwistyContrib/twist.compressed.js"></script>
<script type="text/javascript">
// <![CDATA[
var styleText = '<style type="text/css" media="all">.twikiMakeVisible{display:inline;}.twikiMakeVisibleInline{display:inline;}.twikiMakeVisibleBlock{display:block;}.twikiMakeHidden{display:none;}</style>';
document.write(styleText);
// ]]>
</script>

<!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Customize_this_Document"></a> Customize this Document </span></h2>
<p />
<!-- OSG Summer School 2011 Defaults <ul>
<li> Local UCL_USER = YOUR-LOGIN-NAME
</li></ul> 
-->
<p />
<img width="16" alt="warning" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/warning.gif" height="16" border="0" /> <font color="#ff0000"> Please change your Login Name and click on the Customize button!</font>
<form action="/bin/view/Education/AfricaGridSchool12Mandlebrot">
<table>
  <tr>
    <td>
      <font color="#ff0000">Login Name</font>
    </td>
    <td>
      <input size=100 type="text" name="INPUT_USER" value="YOUR-LOGIN-NAME"/>
    </td>
  </tr>
  <tr>
    <td>
     &nbsp;
     <input type="submit" class="twikiSubmit" value="Customize" />
    </td>
  </tr>
</table>
</form>
<p />
<h1><a name="A_brief_detour_through_the_Mandl"></a> A brief detour through the Mandlebrot set </h1>
<p />
Before we dive into a more complicated DAG, let's get a more interesting job. I'm tired of this lazy, sleepy job that only does trivial mathematics. Let's make pretty pictures!
<p />
We have a small program that draws pictures of the Mandlebrot set. You can <a href="https://secure.wikimedia.org/wikipedia/en/wiki/Mandelbrot_set" target="_top">read about the Mandlebrot set on Wikipedia</a>, or you can simply appreciate the pretty pictures. It's a fractal. 
<p />
We have a simple program that can draw the Mandlebrot set. It's called <code>goatbrot</code>, and you can find it in <code>/share/users/goatbrot/goatbrot</code>. 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="A_simple_invocation_of_goatbrot"></a> A simple invocation of goatbrot </span></h2>
<p />
You can generate the Mandlebrot set with two simple commands. 
<p /> <ol>
<li> <strong>Generate a PPM image of the Mandlebrot set</strong> <pre class="screen">/share/users/goatbrot/goatbrot -i 1000 -o tile_000000_000000.ppm -c 0,0 -w 3 -s 1000,1000</pre>
</li> <li> <strong>Convert it to a JPEG image</strong> <pre class="screen">convert tile_000000_000000.ppm mandle.jpg</pre>
</li></ol> 
<p />
The <code>goatbroat</code> program takes several parameters. Let's break them down:
<p /> <ul>
<li> <code>-i 1000</code> The number of iterations. Bigger numbers generate more accurate images but are slower to run. 
</li> <li> <code>-o tile_000000_000000.ppm</code> The output file to generate. 
</li> <li> <code>-c 0,0</code> The center point of the image. Here it is the point (0,0).
</li> <li> <code>-w 3</code> The width of the image. Here is 3.
</li> <li> <code>-s 1000,1000</code> The size of the final image. Here we generate a picture that is 1000 pixels wide and 1000 pixels tall. 
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Dividing_goatbrot_up"></a> Dividing goatbrot up </span></h2>
<p />
The Mandlebrot set can take a while to create, particularly if you make the iterations large or the image size large. What if we broke the creation of the image into multiple invocations then stitched them together? Once we do that, we can run the each goatbroat in parallel in our cluster. Here's an example you can run by hand. 
<p /> <ol>
<li> <strong>Run goatbroat 4 times</strong>: <pre class="screen">/share/users/goatbrot/goatbrot -i 1000 -o tile_000000_000000.ppm -c -0.75,0.75 -w 1.5 -s 500,500
/share/users/goatbrot/goatbrot -i 1000 -o tile_000000_000001.ppm -c 0.75,0.75 -w 1.5 -s 500,500
/share/users/goatbrot/goatbrot -i 1000 -o tile_000001_000000.ppm -c -0.75,-0.75 -w 1.5 -s 500,500
/share/users/goatbrot/goatbrot -i 1000 -o tile_000001_000001.ppm -c 0.75,-0.75 -w 1.5 -s 500,500</pre>
</li> <li> <strong>Stitch them together</strong>: <pre class="screen">montage  tile_000000_000000.ppm tile_000000_000001.ppm tile_000001_000000.ppm tile_000001_000001.ppm -mode Concatenate -tile 2x2 mandle.jpg</pre>
</li></ol> 
<p />
This will produce the same image as above. We broke the image space into a 2 by 2 grid and ran <code>goatbrot</code> on each section of the grid. The <code>montage</code> program simply stitches the files together. 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Try_it"></a> Try it! </span></h2>
<p />
Run the commands above, make sure you can create the Mandlebrot image. When you create the image, you might wonder how you can view it. 
<p />
If you are running on <code>osg-ss-submit</code> do the following instructions:
<div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdEducationAfricaGridSchool12Mandlebrot1show" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">More Information</span></a> </span> <span id="twistyIdEducationAfricaGridSchool12Mandlebrot1hide" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyHidden twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide Information</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdEducationAfricaGridSchool12Mandlebrot1toggle" class="twistyRememberSetting twistyStartHide twistyContent twikiMakeHidden twistyInited0">
If you're comfortable with <code>scp</code> you can copy it back to your computer to view it. Otherwise you can view it in your web browser in three easy steps.
<p /> <ol>
<li> <strong>Make your web directory</strong> (You only need to do this once.) <pre class="screen">mkdir ~/public_html</pre>
</li> <li> <strong>Copy the image into your web directory</strong> <pre class="screen">cp mandle.jpg ~/public_html/.</pre>
</li> <li> <strong>Look at it in your web browser</strong> <pre class="screen">http://osg-ss-submit.chtc.wisc.edu/~YOUR-LOGIN-NAME/mandle.jpg</pre>
</li></ol> 
</div></div> <!--/twistyPlugin-->
<p />
If you are running on the local pool, do the following:
<div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdEducationAfricaGridSchool12Mandlebrot2show" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">More Information</span></a> </span> <span id="twistyIdEducationAfricaGridSchool12Mandlebrot2hide" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyHidden twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide Information</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdEducationAfricaGridSchool12Mandlebrot2toggle" class="twistyRememberSetting twistyStartHide twistyContent twikiMakeHidden twistyInited0">
Point your browser at <pre class="screen">file:///share/users/YOUR-LOGIN-NAME/</pre> and then browse to your file.
</div></div> <!--/twistyPlugin--></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Education<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Education/AfricaGridSchool2012" class="twikiLink">AfricaGridSchool2012</a> &gt; <a href="/bin/view/Education/AfricaGridSchool12Materials" class="twikiLink">AfricaGridSchool12Materials</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>AfricaGridSchool12Mandlebrot</span> <br />    
Topic revision: r3 - 04 Aug 2012 - 18:10:07 - <span class="twikiNewLink">ScotKronenfeld<a href="/bin/edit/Education/ScotKronenfeld?topicparent=Education.AfricaGridSchool12Mandlebrot" rel="nofollow" title="ScotKronenfeld (this topic does not yet exist; you can create it)">?</a></span>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />