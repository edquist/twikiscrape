<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> MidwestWSNatGridLab &lt; Education/ASP2016 &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Education/ASP2016/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Education/ASP2016/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Education/ASP2016/MidwestWSNatGridLab?_T=16 Feb 2017" type="application/x-wiki" title="edit MidwestWSNatGridLab" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Education/ASP2016/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Education/ASP2016/MidwestWSNatGridLab"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#D0D0D0;
	}
	.patternBookView {
		border-color:#D0D0D0;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">

@import url('/pub/Documentation/Tools/exercises.css ');

</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <!-- deprecated -->
<p />
<h1><a name="Tutorial_Building_Packaging_and"></a>  Tutorial: Building, Packaging and Running Applications on a Real Grid </h1>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Objectives"></a> Objectives </span></h2>
<p /> <ul>
<li> Write and Gridify an application
</li> <li> Access OSG/TeraGrid and run simple applications
</li> <li> Monitor the status of grid sites
</li> <li> Understand the issues involved in distributing an application
</li> <li> Package the application
</li></ul> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Table_of_Contents"></a> Table of Contents </span></h2>
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Objectives"> Objectives</a>
</li> <li> <a href="?cover=print#Table_of_Contents"> Table of Contents</a>
</li> <li> <a href="?cover=print#Conventions"> Conventions</a>
</li> <li> <a href="?cover=print#Writing_the_application"> Writing the application</a>
</li> <li> <a href="?cover=print#Readying_the_application_for_the"> Readying the application for the Grid</a> <ul>
<li> <a href="?cover=print#Running_a_job_on_TeraGrid_OSG_si"> Running a job on TeraGrid/OSG sites</a>
</li></ul> 
</li> <li> <a href="?cover=print#Finding_Sites"> Finding Sites</a> <ul>
<li> <a href="?cover=print#To_find_a_site_on_OSG"> To find a site on OSG</a>
</li> <li> <a href="?cover=print#Checking_authentication"> Checking authentication</a>
</li></ul> 
</li> <li> <a href="?cover=print#Testing_a_Site"> Testing a Site</a> <ul>
<li> <a href="?cover=print#Finding_TG_CLUSTER_SEARCH_for_Te"> Finding $TG_CLUSTER_SEARCH for TeraGrid</a>
</li> <li> <a href="?cover=print#EXTRA_CREDIT_Make_the_applicatio"> EXTRA CREDIT: Make the application distributed. </a>
</li></ul> 
</li> <li> <a href="?cover=print#Using_Condor_G_to_submit_jobs_to">Using Condor-G to submit jobs to OSG/TeraGrid</a> <ul>
<li> <a href="?cover=print#Submitting_a_single_job_using_Co"> Submitting a single job using Condor-G</a>
</li> <li> <a href="?cover=print#Checking_output"> Checking output</a>
</li> <li> <a href="?cover=print#Submitting_multiple_jobs_to_mult"> Submitting multiple jobs to multiple sites using Condor-G</a>
</li> <li> <a href="?cover=print#Inspecting_the_output"> Inspecting the output</a>
</li> <li> <a href="?cover=print#Clean_up"> Clean-up</a>
</li></ul> 
</li> <li> <a href="?cover=print#Putting_it_all_together_Optional"> Putting it all together (Optional)</a>
</li> <li> <a href="?cover=print#A_Condor_G_submission_file"> A Condor-G submission file</a>
</li> <li> <a href="?cover=print#Packaging_your_application">Packaging your application</a> <ul>
<li> <a href="?cover=print#Download_and_Install_Pacman"> Download and Install Pacman</a>
</li> <li> <a href="?cover=print#Pacman_caches"> Pacman caches</a>
</li> <li> <a href="?cover=print#Example_pacman_file"> Example pacman file</a>
</li> <li> <a href="?cover=print#Exercise"> Exercise</a>
</li></ul> 
</li> <li> <a href="?cover=print#References">References</a>
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Conventions"></a> Conventions </span></h2>
<p />
In this exercise:
<p />
<pre class="screen">
<userinput>The code that you can directly key in will appear in this color</userinput>
<replaceable>The code that you can need to change before typing in will appear in this color</replaceable>
The probable response from the system appears in this color.
</pre>
<p />
<p />
<p />
<a name="write"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Writing_the_application"></a> Writing the application </span></h2>
Write a simple application to find whether a number is a prime or not. <a href="http://www.cise.ufl.edu/~lchitnis/grid/summer-grid/prime.c.html" target="_top">Sample code</a> is available. The program takes three inputs: <ol>
<li> The Number in question
</li> <li> Starting factor (&gt;1)
</li> <li> Ending factor 
</li></ol> 
<p />
<p />
It outputs <code>YES</code> if the number is a prime and <code>NO</code> if it is not.
<p />
<p />
Write (read 'copy-paste') the program and save it as "=prime.c=" . Compile and execute it locally on the laptop / gridlab machine.
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu ~]<userinput>gcc -w -o prime prime.c</userinput>
.
.
[train99@workshop1.lac.uic.edu ~]<userinput>./prime 1000 2 1000</userinput>
NO
</pre>
<p />
<p />
on      You may ignore any compilation warnings for now, as long as there are no errors and you got the correct response.
<p />
<p />
<p />
<a name="gridify"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Readying_the_application_for_the"></a> Readying the application for the Grid </span></h2>
We know that it takes long time to divide the number with all the factors.
So, we will distribute the application to various sites. Each site will 
divide the number with different range of factors. This is equivalent to running
<p />
<pre class="screen">
./prime 1000 2 250
./prime 1000 251 500
./prime 1000 501 750
./prime 1000 751 1000
</pre>
<p />
on a single machine. A negative answer from any of the sites indicates that a factor other than 1 and the number itself exists and hence it is NOT a prime number.
<p />
<p />
<a name="run"></a>
<h3><a name="Running_a_job_on_TeraGrid_OSG_si"></a> Running a job on TeraGrid/OSG sites </h3>
<p />
Check your proxy. Make sure it is valid for more than 3 hours, and make it is from SDSC (<strong>not</strong> the local certificate that you started with yesterday)
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu ~]$ <userinput>grid-proxy-info </userinput>
</pre>
<p />
Initialize your proxy (if it is not initialized or is about to expire)
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu ~]$ <userinput>grid-proxy-init -cert ~/sdsccert/usercert.pem -key ~/sdsccert/userkey.pem </userinput>
Your identity: /DC=org/DC=doegrids/OU=People/CN=John Doe 876747
Enter GRID pass phrase for this identity:
Creating proxy ....................................................... Done
Your proxy is valid until: Mon Jul 11 01:00:53 2005
</pre>
<p />
<!-- <strong>*</strong>  Comments plugin to create comments table for section   <strong>*</strong>    -->
<p />
<span class="educationWebAddComment">ADD A COMMENT</span>
<span id="twid_1show" class="twistyMakeVisible">
       <a href="#" class="twistyTrigger"><em><strong>Show...</strong></em></a>
     </span>
     <span id="twid_1hide" class="twistyHidden">
       <a href="#" class="twistyTrigger"><em><strong>Hide</strong></em></a>
     </span>
     <div id="twid_1toggle" class="twistyMakeHidden">
<p />
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table1" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=0;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">COMMENT</font></a> </th>
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol1 twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=1;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">NAME</font></a> </th>
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=2;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">DATE</font></a> </th>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<form method="post" action="https://twiki.opensciencegrid.org/bin/save/Education/ASP2016/MidwestWSNatGridLab" enctype="multipart/form-data" name="tableappend0" id="tableappend0">
<p />
<div class="commentPlugin commentPluginPromptBox">
<table><tr valign="middle"><td><textarea  rows="3" cols="70" name="comment" wrap="soft" onfocus="if(this.value=='')this.value=''" onblur="if(this.value=='')this.value=''"></textarea></td><td><input  type="submit" value="Add comment" /></td></tr></table>
</div><!--/commentPlugin-->
<p />
<input type="hidden" name="comment_action" value="save"  />
<input type="hidden" name="comment_type" value="tableappend"  />
<input type="hidden" name="comment_index" value="0"  /></form>
<p />
</div>
<!-- <strong>*</strong>  End Comment                                            <strong>*</strong>    -->
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Finding_Sites"></a> Finding Sites </span></h2>
<p />
There is a list of sites that you can probably submit to <a href="https://twiki.grid.iu.edu/twiki/bin/view/Education/MidwestWSGridResources" target="_top">here</a>. There are some local resources (the workshop machines), some <span class="twikiNewLink">TeraGrid<a href="/bin/edit/Education/ASP2016/TeraGrid?topicparent=Education/ASP2016.MidwestWSNatGridLab" rel="nofollow" title="TeraGrid (this topic does not yet exist; you can create it)">?</a></span> machines and some Open Science Grid machines.
<p />
<h3><a name="To_find_a_site_on_OSG"></a> To find a site on OSG </h3>
<p />
<a href="http://www.ivdgl.org/gridcat/home/" target="_top">GridCat</a> (<span class="firstterm">Grid Catalog</span>) is one of the monitoring tools available that can be used to get a good view of your Grid. For instance, it can provide <a href="http://osg-itb.ivdgl.org/gridcat/index.php?site_name=osgitb" target="_top">a summary of the sites that are in the OSG-ITB VO</a>.
<p />
You can use this to check the status of any of the three OSG sites lists in the resource list above.
<p />
<h3><a name="Checking_authentication"></a> Checking authentication </h3>
<p />
Use <code>globusrun</code> to verify that you are authorized to use a site and can authenticate to it:
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu ~]$ <userinput>globusrun -a -r tg-login.sdsc.teragrid.org/jobmanager-fork</userinput>
GRAM Authentication test successful
</pre>
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Testing_a_Site"></a> Testing a Site </span></h2>
<p />
Let's test a site:
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu ~]$ <userinput>globus-job-run tg-login.sdsc.teragrid.org /bin/date</userinput>
Sun Jul 10 23:25:25 CDT 2005
</pre>
<p />
Copy your application to the site. <b><font color="red">Wait !</font></b> You don't know where to copy the files. Is there any temporary directory available? But, how do you find it?
<p />
If you plan to use any of the OSG sites, and you are authorized to do so (GRAM Authentication test successful), go to the <a href="http://osg-itb.ivdgl.org/gridcat/index.php?site_name=osgitb" target="_top">GridCat</a>
page again.
<p />
on      If you're testing on FIU-PG, go <a href="http://osg-cat.grid.iu.edu/" target="_top">here</a> to access the production GridCat instance. 
<p /> <ol>
<li> Choose 'Grid Environment* from the <strong>view</strong> drop down menu.
</li> <li> In the table, find the OSG site you plan to use.
</li> <li> Under that listing, the <strong>Logical Disk Name</strong> <code>$app</code> is the APPDIR you will be using. 
</li></ol> 
<p />
The APPDIR is where you should copy your applications. (After making a separate directory, of course. You don't want your application to be messed up by other students, do you?).
<p />
<p />
<h3><a name="Finding_TG_CLUSTER_SEARCH_for_Te"></a> Finding $TG_CLUSTER_SEARCH for TeraGrid </h3>
If you plan to use the TeraGrid sites, you need to know the value for <code>$TG_CLUSTER_SCRATCH</code>. The string to which this variable is mapped onto on the remote site is the directory where you can temporarily "stage" your application (your APPDIR). You can use the <a href="http://www.teragrid.org/userinfo/jobs/environment.php" target="_top">TerraGrid Programming Environment page</a> to look up the correct <code>$</code> variable that you need. In your case, its going to be the <code>$TG_CLUSTER_SCRATCH</code> variable. 
<p />
To look up the value of this variable, we are going to "peek" into the remote site using <code>gsissh</code>. This will use your grid proxy to authenticate you into a remote grid site.
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu ~]$ <userinput>gsissh tg-login.sdsc.teragrid.org</userinput>
.
.
Directory: /home/ac/train99
Tue Jun 27 17:48:22 CDT 2006
train99@tg-login.sdsc> <userinput>/usr/bin/env | grep "TG_CLUSTER_SCRATCH"</userinput>
TG_CLUSTER_SCRATCH=/gpfs/train99
train99@tg-login.sdsc> <userinput>exit</userinput>
</pre>
<p />
Use this <code>TG_CLUSTER_SCRATCH</code> as the APPDIR for the following part of the exercise for this grid site. You need to do this for each of the TeraGrid site that you plan to use.
<p />
on      If the <code>TG_CLUSTER_SCRATCH</code> var is not defined (blank), <strong>STOP!</strong> Ask your TAs for further instructions!
<p />
<p />
Now you can go ahead and  <ol>
<li> Create your workspace in the APPDIR
</li> <li> "Stage-in" your application with <code>globus-url-copy</code>
</li> <li> Execute your application
</li></ol> 
<p />
Remember to replace <code>SITE</code>, <code>APPDIR</code> and <code>YOURUSERNAME</code> with values that are appropriate for you.
<p />
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu ~]$ <userinput>globus-job-run <replaceable>SITE</replaceable> /bin/mkdir <replaceable>APPDIR/YOURUSERNAME</replaceable></userinput>
[train99@workshop1.lac.uic.edu ~]$ <userinput>globus-url-copy file://`pwd`/prime gsiftp://<replaceable>SITE</replaceable>/<replaceable>APPDIR</replaceable>/<replaceable>YOURUSERNAME</replaceable>/prime</userinput>
[train99@workshop1.lac.uic.edu ~]$ <userinput>globus-job-run <replaceable>SITE</replaceable> /bin/chmod +x <replaceable>APPDIR</replaceable>/<replaceable>YOURUSERNAME</replaceable>/prime</userinput>
[train99@workshop1.lac.uic.edu ~]$ <userinput>globus-job-run <replaceable>SITE</replaceable> <replaceable>APPDIR</replaceable>/<replaceable>YOURUSERNAME</replaceable>/prime 200 2 200</userinput>
NO
</pre>
<p />
<!-- <strong>*</strong>  Comments plugin to create comments table for section   <strong>*</strong>    -->
<p />
<span class="educationWebAddComment">ADD A COMMENT</span>
<span id="twid_2show" class="twistyMakeVisible">
       <a href="#" class="twistyTrigger"><em><strong>Show...</strong></em></a>
     </span>
     <span id="twid_2hide" class="twistyHidden">
       <a href="#" class="twistyTrigger"><em><strong>Hide</strong></em></a>
     </span>
     <div id="twid_2toggle" class="twistyMakeHidden">
<p />
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table2" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=0;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">COMMENT</font></a> </th>
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol1 twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=1;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">NAME</font></a> </th>
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=2;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">DATE</font></a> </th>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<form method="post" action="https://twiki.opensciencegrid.org/bin/save/Education/ASP2016/MidwestWSNatGridLab" enctype="multipart/form-data" name="tableappend1" id="tableappend1">
<p />
<div class="commentPlugin commentPluginPromptBox">
<table><tr valign="middle"><td><textarea  rows="3" cols="70" name="comment" wrap="soft" onfocus="if(this.value=='')this.value=''" onblur="if(this.value=='')this.value=''"></textarea></td><td><input  type="submit" value="Add comment" /></td></tr></table>
</div><!--/commentPlugin-->
<p />
<input type="hidden" name="comment_action" value="save"  />
<input type="hidden" name="comment_type" value="tableappend"  />
<input type="hidden" name="comment_index" value="1"  /></form>
<p />
</div>
<!-- <strong>*</strong>  End Comment                                            <strong>*</strong>    -->
<p />
<p />
<p />
<h3><a name="EXTRA_CREDIT_Make_the_applicatio"></a> EXTRA CREDIT: Make the application distributed. </h3>
<p />
Write a small program that calculates the number of jobs required and divides them equally among the three sites. 
<p />
<pre class="programlisting">
root = <font color="#2e8b57"><b>int</b></font>(sqrt(num));
inc = <font color="#ff00ff">10</font>;
njobs = <font color="#2e8b57"><b>int</b></font>((root - <font color="#ff00ff">2</font>)/inc) + <font color="#ff00ff">1</font>;

start = <font color="#ff00ff">2</font>;


<font color="#853e26"><b>for</b></font>(i = <font color="#ff00ff">0</font>;i &lt; njobs; ++i) {
        end = start + inc;
        <font color="#5151fb">/*</font><font color="#5151fb"> choose a site </font><font color="#5151fb">*/</font>
        <font color="#5151fb">/*</font><font color="#5151fb"> run the job on the site with globus-job-run with appropriate</font>
<font color="#5151fb">           arguments </font>

<font color="#5151fb">           globus-job-run $site $num $start $end</font>
<font color="#5151fb">           </font><font color="#5151fb">*/</font>
        start = end + <font color="#ff00ff">1</font>;
}
</pre>
<p />
You may want to try this out later if it is taking too much time. Go on ahead and complete the easy parts first! 
<p />
<p />
<p />
<p />
<a name="condor-g" />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Using_Condor_G_to_submit_jobs_to"></a> Using Condor-G to submit jobs to OSG/TeraGrid </span></h2>
<p />
<form name="EDITTHIS" action="/bin/edit/Education/ASP2016/UsingCondorGToSubmitJobs" method="get"><input type="submit" value="Edit section" alt="Edit this section" title="Click to edit this section" class="twikiButton" style="font-size:.5em;"><input type="hidden" value="1487215511" name="t"></form>
<p />
<em>Condor-G</em> allows one to use Condor tools to submit jobs to Globus resources. You can think of it as a sophisticated <code>globus-job-run</code>. One
of the useful features is the ability to submit and monitor multiple jobs to grid resources.
<p />
<a name="ajob" />
<h3><a name="Submitting_a_single_job_using_Co"></a> Submitting a single job using Condor-G </h3>
In the Condor world, one has to write a submission file that describes the application your are submitting. A sample submission file is below.
<p />
<pre class="programlisting">
<font color="#008000">########################################
#                       
#  A sample condor submission file
#                                        
########################################</font>
                                         
executable =  prime
universe = <b>vanilla</b>

output  = prime.out                
error   = prime.error             
log     = prime.log  
arguments = 107 2 107

queue
</pre>
<p />
<p />
Note the universe variable. If the universe used is vanilla, the job is infact executed on the submitting site itself. The condor on <code>workshop1.lac.uic.edu</code> is configured to run jobs locally.
<p />
To submit jobs to a remote resource, the universe should be set to <code>grid</code>. Let's see a submission file for the grid universe.
<p />
<pre class="programlisting">
<font color="#008000">########################################
#                       
#  A sample Condor-G submission file
#                                        
########################################</font>

executable = <replaceable>APPDIR</replaceable>/<replaceable>YOURUSERNAME</replaceable>/prime

transfer_executable = false
universe       = <b>grid</b>
grid_resource = <b>gt2 <replaceable>SITE</replaceable>/jobmanager</b>
log            = prime.log
arguments      = 100 2 100
output = prime.out

queue
</pre>
<p />
<p />
Submit your prime application using this submission file to a site. You can monitor your application using <code>condor_q</code>
<p />
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu ~]$ <userinput>condor_submit example.sub</userinput>
Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 33.

[train99@workshop1.lac.uic.edu ~]$ <userinput>condor_q</userinput>

-- Submitter: workshop1.lac.uic.edu : &lt;206.76.233.104:36236&gt; : workshop1.lac.uic.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   9.0   train99      7/10 23:39   0+00:00:00 I  0   0.0  prime             

1 jobs; 1 idle, 0 running, 0 held
</pre>
<p /> <dl>
<dt> <strong><font color="#008000"> TIP </font></strong> </dt><dd> If condor_q lists too many entries, you can use the <code>job-id</code> to refer your job. In the above example, this is <code>33</code> in the line <code>1 job(s) submitted to cluster 33</code> returned by <code>condor_submit</code>. Now you can just do <code>condor_q <replaceable>XXX</replaceable></code>. You can also try using <code>condor_q train99</code> to enlist jobs submitted by user train99.
</dd></dl> 
<p />
<p />
You can try various options like <code>-long</code> and <code>-globus</code> with condor_q to see more details.
<p />
<p />
<!-- <strong>*</strong>  Comments plugin to create comments table for section   <strong>*</strong>    -->
<p />
<span class="educationWebAddComment">ADD A COMMENT</span>
<span id="twid_3show" class="twistyMakeVisible">
       <a href="#" class="twistyTrigger"><em><strong>Show...</strong></em></a>
     </span>
     <span id="twid_3hide" class="twistyHidden">
       <a href="#" class="twistyTrigger"><em><strong>Hide</strong></em></a>
     </span>
     <div id="twid_3toggle" class="twistyMakeHidden">
<p />
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table3" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=0;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">COMMENT</font></a> </th>
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol1 twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=1;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">NAME</font></a> </th>
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=2;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">DATE</font></a> </th>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<form method="post" action="https://twiki.opensciencegrid.org/bin/save/Education/ASP2016/UsingCondorGToSubmitJobs" enctype="multipart/form-data" name="tableappend0" id="tableappend0">
<p />
<div class="commentPlugin commentPluginPromptBox">
<table><tr valign="middle"><td><textarea  rows="3" cols="70" name="comment" wrap="soft" onfocus="if(this.value=='')this.value=''" onblur="if(this.value=='')this.value=''"></textarea></td><td><input  type="submit" value="Add comment" /></td></tr></table>
</div><!--/commentPlugin-->
<p />
<input type="hidden" name="comment_action" value="save"  />
<input type="hidden" name="comment_type" value="tableappend"  />
<input type="hidden" name="comment_index" value="0"  /></form>
<p />
</div>
<!-- <strong>*</strong>  End Comment                                            <strong>*</strong>    -->
<p />
<p />
<p />
<h3><a name="Checking_output"></a> Checking output </h3>
Check the output file <code>prime.out</code>.
<p />
<a name="multiple" />
<h3><a name="Submitting_multiple_jobs_to_mult"></a> Submitting multiple jobs to multiple sites using Condor-G </h3>
<p />
There are various ways to use Condor-G to submit multiple jobs to multiple sites: <ul>
<li> Write multiple submission files and changes attributes manually or using a script. This is clumsy and difficult to manage.
</li> <li> Write a single common submission file and dynamically change only the attributes that need to be changed
</li></ul> 
<p />
First, we must identify the attributes that need to be changed for different instantiations of the application: <ul>
<li> range of divisors
</li> <li> site names
</li> <li> application directories
</li> <li> output file names
</li></ul> 
<p />
How do we do this? By passing parameters to <code>condor_submit</code>:
<p />
<p />
<tt>condor_submit -a "arguments = $num $start $end" -a "grid_resource = gt2 $site/jobmanager" ...</tt>
<p />
The strings that you specify with <code>-a</code> option get added to the submission file you specify.
<p />
<p />
Write a common submission file and submit three instantiations of your prime application to three sites. Note that you have to use different output file names for each instantiation. 
<p />
Create a submission file named <code>example.sub</code> with following contents
<pre class="programlisting">
<font color="#008000">####################
#
# Submission file for prime number finder
#
####################</font>

transfer_executable = false
universe       = grid
log            = prime.log
queue
</pre>
<p />
Note that we do not specify the site and arguments.
<p />
Create a directory for the output files:
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu dprime]$ <userinput>mkdir output</userinput>
</pre>
<p />
Submit a job using the submission file by passing arguments to <code>condor_submit</code>:
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu dprime]$ <replaceable>condor_submit -a "arguments = 1000 2 1000" -a "output = output/1.out" -a "grid_resource = gt2 ufgrid05.phys.ufl.edu/jobmanager" -a "executable = APPDIR/YOURUSERNAME/prime" example.sub</replaceable>
</pre>
<p />
Submit multiple jobs to multiple sites. Note that you have to copy your executables to the site, if it doesn't have it already. Use GridCat to find the APP variables.
<p />
<p />
<h3><a name="Inspecting_the_output"></a> Inspecting the output </h3>
<p />
A simple grep through all your output files should tell whether the number is a prime or not.
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu dprime]$ <userinput>grep NO output/*</userinput>
</pre>
<p />
<p />
<h3><a name="Clean_up"></a> Clean-up </h3>
<p />
If you no longer plan to use the executable you (globus-url-)copied to the remote-site(s), please go ahead and clean up your workspace(s):
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu dprime]$ <userinput>globus-job-run <replaceable>SITE</replaceable> /bin/rm -rf <replaceable>APPDIR</replaceable>/<replaceable>YOURUSERNAME</replaceable></userinput>
</pre>
<p />
<p />
<!-- <strong>*</strong>  Comments plugin to create comments table for section   <strong>*</strong>    -->
<p />
<span class="educationWebAddComment">ADD A COMMENT</span>
<span id="twid_4show" class="twistyMakeVisible">
       <a href="#" class="twistyTrigger"><em><strong>Show...</strong></em></a>
     </span>
     <span id="twid_4hide" class="twistyHidden">
       <a href="#" class="twistyTrigger"><em><strong>Hide</strong></em></a>
     </span>
     <div id="twid_4toggle" class="twistyMakeHidden">
<p />
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table4" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=0;table=4;up=0#sorted_table" title="Sort by this column"><font color="#252b37">COMMENT</font></a> </th>
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol1 twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=1;table=4;up=0#sorted_table" title="Sort by this column"><font color="#252b37">NAME</font></a> </th>
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=2;table=4;up=0#sorted_table" title="Sort by this column"><font color="#252b37">DATE</font></a> </th>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<form method="post" action="https://twiki.opensciencegrid.org/bin/save/Education/ASP2016/UsingCondorGToSubmitJobs" enctype="multipart/form-data" name="tableappend1" id="tableappend1">
<p />
<div class="commentPlugin commentPluginPromptBox">
<table><tr valign="middle"><td><textarea  rows="3" cols="70" name="comment" wrap="soft" onfocus="if(this.value=='')this.value=''" onblur="if(this.value=='')this.value=''"></textarea></td><td><input  type="submit" value="Add comment" /></td></tr></table>
</div><!--/commentPlugin-->
<p />
<input type="hidden" name="comment_action" value="save"  />
<input type="hidden" name="comment_type" value="tableappend"  />
<input type="hidden" name="comment_index" value="1"  /></form>
<p />
</div>
<!-- <strong>*</strong>  End Comment                                            <strong>*</strong>    -->
<p />
<p />
<p />
<p />
<p />
<p />
<p />
<p />
<a name="together" />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Putting_it_all_together_Optional"></a> Putting it all together (Optional) </span></h2>
Write a script to submit jobs to multiple sites automatically. I have created a small application package that has
all the required tools. It contains: <ul>
<li> Makefile to compile your application
</li> <li> script for distributing the jobs
</li></ul> 
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu ~]$ <userinput>./script.pl</userinput>
Usage: ./script.pl &lt;task number&gt;
    1 - Make dir
    2 - Copy exes
    3 - Run prime jobs
    4 - Grep output
    5 - Remove dir
</pre>
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="A_Condor_G_submission_file"></a> A Condor-G submission file </span></h2>
Download the <a href="https://twiki.opensciencegrid.org/twiki/pub/Education/ASP2016/MidwestWSNatGridLab/dprime.tar.gz" target="_top">dprime.tar.gz package</a>. Modify the script to fit your needs.
<p />
You need to tailor some variables in <code>script.pl</code>: <ul>
<li> Change the value of the <code>$me</code> variable to your username &mdash; <strong>must do</strong>
</li> <li> Change the number you want to test for primality (the <code>$num</code> variable) &mdash; <strong>not mandatory</strong>
</li></ul> 
<p />
<!-- <strong>*</strong>  Comments plugin to create comments table for section   <strong>*</strong>    -->
<p />
<span class="educationWebAddComment">ADD A COMMENT</span>
<span id="twid_5show" class="twistyMakeVisible">
       <a href="#" class="twistyTrigger"><em><strong>Show...</strong></em></a>
     </span>
     <span id="twid_5hide" class="twistyHidden">
       <a href="#" class="twistyTrigger"><em><strong>Hide</strong></em></a>
     </span>
     <div id="twid_5toggle" class="twistyMakeHidden">
<p />
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table5" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=0;table=5;up=0#sorted_table" title="Sort by this column"><font color="#252b37">COMMENT</font></a> </th>
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol1 twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=1;table=5;up=0#sorted_table" title="Sort by this column"><font color="#252b37">NAME</font></a> </th>
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=2;table=5;up=0#sorted_table" title="Sort by this column"><font color="#252b37">DATE</font></a> </th>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<form method="post" action="https://twiki.opensciencegrid.org/bin/save/Education/ASP2016/MidwestWSNatGridLab" enctype="multipart/form-data" name="tableappend2" id="tableappend2">
<p />
<div class="commentPlugin commentPluginPromptBox">
<table><tr valign="middle"><td><textarea  rows="3" cols="70" name="comment" wrap="soft" onfocus="if(this.value=='')this.value=''" onblur="if(this.value=='')this.value=''"></textarea></td><td><input  type="submit" value="Add comment" /></td></tr></table>
</div><!--/commentPlugin-->
<p />
<input type="hidden" name="comment_action" value="save"  />
<input type="hidden" name="comment_type" value="tableappend"  />
<input type="hidden" name="comment_index" value="2"  /></form>
<p />
</div>
<!-- <strong>*</strong>  End Comment                                            <strong>*</strong>    -->
<p />
<p />
<a name="packaging" />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Packaging_your_application"></a> Packaging your application </span></h2>
<p />
<form name="EDITTHIS" action="/bin/edit/Education/ASP2016/PackagingYourGridApplication" method="get"><input type="submit" value="Edit section" alt="Edit this section" title="Click to edit this section" class="twikiButton" style="font-size:.5em;"><input type="hidden" value="1487215511" name="t"></form>
<p />
We will use <a href="http://physics.bu.edu/pacman/" target="_top">pacman</a> (Package Manager) for this part of the exercise. It's a handy packaging tool that has many useful features including fetching, installing and updating software packages with simple commands.
<p />
<p />
<a name="download" />
<h3><a name="Download_and_Install_Pacman"></a> Download and Install Pacman </h3>
<pre class="screen">
[train99@workshop1.lac.uic.edu ~]$ <userinput>wget http://physics.bu.edu/pacman/sample_cache/tarballs/pacman-latest.tar.gz</userinput>
--13:51:27--  http://physics.bu.edu/pacman/sample_cache/tarballs/pacman-latest.tar.gz
           =&gt; `pacman-latest.tar.gz'
Resolving physics.bu.edu... done.
Connecting to physics.bu.edu[128.197.41.42]:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 77,154 [application/x-gzip]
                                                                                
100%[====================================&gt;] 77,154       159.97K/s    ETA 00:00
                                                                                
13:51:28 (159.97 KB/s) - `pacman-latest.tar.gz' saved [77154/77154]

[train99@workshop1.lac.uic.edu ~]$ <userinput>tar zxvf pacman-latest.tar.gz</userinput>
pacman-3.18.4/
pacman-3.18.4/caches_starter
pacman-3.18.4/CVS/
pacman-3.18.4/CVS/Entries
pacman-3.18.4/CVS/Repository
pacman-3.18.4/CVS/Root
pacman-3.18.4/doc/
.
.
.

[train99@workshop1.lac.uic.edu pacman-3.18.4]$ <userinput>cd pacman-3.18.4/</userinput>
[train99@workshop1.lac.uic.edu pacman-3.18.4]$ <userinput>source setup.sh</userinput>
[train99@workshop1.lac.uic.edu ~]$ <userinput>pacman -version</userinput>
Pacman version:  3.18.4
Python version:  2.2.2 (#1, Feb 24 2003, 19:13:11) 
[GCC 3.2.2 20030222 (Red Hat Linux 3.2.2-4)]
Your platform [RedHat-9] satisfies { *, linux, Linux, linux-redhat-8, linux-redhat-9, redhat, Redhat, RedHat, RedHat-6, Redhat-6, RedHat-7, Redhat-7, RedHat-8, Redhat-8, RedHat-9, Redhat-9, unix, Unix }
</pre>
<p />
After these steps, pacman is ready to use. You can download the whole VDT package with a single command:
<p />
on     Do not start the installation now. Installing the VDT require a great deal of time. 
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu ~]$ <userinput>pacman -get VDT:VDT</userinput>
</pre>
<p />
<a name="caches" />
<h3><a name="Pacman_caches"></a> Pacman caches </h3>
From pacman documentation:
<p />
<blockquote>
<p />
A Pacman cache is a just a URL or location in a local file system containing  files with the .pacman extension. Each such file defines how a package is  fetched, installed and set up.
<p />
</blockquote>
<p />
<h3><a name="Example_pacman_file"></a> Example pacman file </h3>
<p />
<pre class="programlisting">
description = 'Text Editor'
url = 'http://www.nedit.org/'
download = {'*': 'nedit-5.1.1-linux-glibc.tar.gz' }
paths = [['PATH','']]
</pre> 
<p />
<h3><a name="Exercise"></a> Exercise </h3>
In this part of the exercise, we will create a localcache and package our application with pacman. Then, we will install the application in a seperate directory using this cache.
<p />
Create a directory for the cache and temporary directory for installing your dprime application.
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu ~]$ <userinput>mkdir localcache</userinput>
[train99@workshop1.lac.uic.edu ~]$ <userinput>mkdir installs</userinput>
</pre>
<p />
Create a directory for your application and copy <code>prime.c</code> to the directory:
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu ~] <userinput>mkdir dprime</userinput>
[train99@workshop1.lac.uic.edu ~] <userinput>cp prime.c dprime</userinput>
</pre>
<p />
Create a Makefile in the application directory to compile your application. You can use the following Makefile. Copy it to the <code>dprime</code> directory.
<p />
<pre class="programlisting">
CC=gcc
EXES=prime
all: $(EXES)

prime: prime.c
   gcc -w -o $@ $&lt;

clean:
   rm -f $(EXES)
</pre>
<p />
on      Make sure that the spaces before <code>gcc</code> and <code>rm</code> in the above file are actually tabs!
<p />
Tar and gzip the files.
<p />
Copy the zipped file to <code>localcache</code> directory:
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu ~]$ <userinput>tar zcvf dprime.tar.gz dprime/prime.c dprime/Makefile</userinput>

[train99@workshop1.lac.uic.edu ~]$ <userinput>mv dprime.tar.gz localcache/</userinput>
[train99@workshop1.lac.uic.edu ~]$ <userinput>cd localcache</userinput>
[train99@workshop1.lac.uic.edu localcache]$ 
</pre>
<p />
Create a file named <code>dprime.pacman</code> in the localcache directory. The file should contain:
<p />
<pre class="programlisting">
# Descprtion of the package
description = 'Prime Number Finder'
# What to download?
download    = {'unix' : 'dprime.tar.gz'}
# How to install
install     = {'*':['make']}
</pre>
<p />
Go to <code>installs</code> directory and run pacman:
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu localcache]$ <userinput>cd ../installs</userinput>
[train99@workshop1.lac.uic.edu installs]$ <userinput>pacman -get ../localcache:dprime</userinput>

Do you want to add [../localcache] to [trusted.caches]? (y or n): y
Package [dprime] found in [../localcache]...
Downloading [dprime.tar.gz] from [localcache]...
Untarring [dprime.tar.gz]...
gcc -o prime prime.c 
</pre>
<p />
<!--
You can look the information about the packages using the following command
<pre class="screen">
<b>[train99@workshop1.lac.uic.edu installs]$ pacman -info</b>
</pre>
<img src="pacman-info.png" />
<p>
-->
<p />
You can make changes to the <code>dprime.pacman</code> file, maybe simply changing the description. Update the software with <code>pacman -update-check</code>.
<p />
<pre class="screen">
[train99@workshop1.lac.uic.edu installs]$ <userinput>pacman -update-check</userinput>
Package [dprime] found in [../localcache]...
Update of [../localcache:dprime] found...

[train99@workshop1.lac.uic.edu installs]$ <userinput>pacman -l</userinput>
[*] dprime, in cache [/home/train99/test-lab6/installs] ==> UPDATE AVAILABLE 

[train99@workshop1.lac.uic.edu installs]$ <userinput>pacman -d src ups 0 -l</userinput>
.
.
[train99@workshop1.lac.uic.edu installs]$ <userinput>pacman -update</userinput>
</pre>
<p />
<!-- <strong>*</strong>  Comments plugin to create comments table for section   <strong>*</strong>    -->
<p />
<span class="educationWebAddComment">ADD A COMMENT</span>
<span id="twid_6show" class="twistyMakeVisible">
       <a href="#" class="twistyTrigger"><em><strong>Show...</strong></em></a>
     </span>
     <span id="twid_6hide" class="twistyHidden">
       <a href="#" class="twistyTrigger"><em><strong>Hide</strong></em></a>
     </span>
     <div id="twid_6toggle" class="twistyMakeHidden">
<p />
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table6" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=0;table=6;up=0#sorted_table" title="Sort by this column"><font color="#252b37">COMMENT</font></a> </th>
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol1 twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=1;table=6;up=0#sorted_table" title="Sort by this column"><font color="#252b37">NAME</font></a> </th>
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> <a rel="nofollow" href="/bin/view/Education/ASP2016/MidwestWSNatGridLab?cover=print;sortcol=2;table=6;up=0#sorted_table" title="Sort by this column"><font color="#252b37">DATE</font></a> </th>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<form method="post" action="https://twiki.opensciencegrid.org/bin/save/Education/ASP2016/PackagingYourGridApplication" enctype="multipart/form-data" name="tableappend0" id="tableappend0">
<p />
<div class="commentPlugin commentPluginPromptBox">
<table><tr valign="middle"><td><textarea  rows="3" cols="70" name="comment" wrap="soft" onfocus="if(this.value=='')this.value=''" onblur="if(this.value=='')this.value=''"></textarea></td><td><input  type="submit" value="Add comment" /></td></tr></table>
</div><!--/commentPlugin-->
<p />
<input type="hidden" name="comment_action" value="save"  />
<input type="hidden" name="comment_type" value="tableappend"  />
<input type="hidden" name="comment_index" value="0"  /></form>
<p />
</div>
<!-- <strong>*</strong>  End Comment                                    <strong>*********</strong>    -->
<p />
<p />
<p />
<p />
<p />
<p />
<p />
<a name="ref" />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="References"></a> References </span></h2> <ul>
<li> <a href="http://www.utm.edu/research/primes/" target="_top">Prime number information</a>
</li> <li> <a href="http://www.ivdgl.org/gridcat/home/" target="_top">GridCat</a>    <!--   * <a href="http://monalisa.cacr.caltech.edu" target="_top">Trash.ReleaseDocumentationMonALISA</a> -->
</li> <li> <a href="http://www.cs.wisc.edu/condor/manual/v6.6.5/index.html" target="_top">Condor Manual</a>
</li> <li> <a href="http://physics.bu.edu/pacman/htmls" target="_top">Pacman Documentation</a>
</li> <li> <a href="https://twiki.opensciencegrid.org/twiki/pub/Education/ASP2016/MidwestWSNatGridLab/dprime.tar.gz" target="_top">dprime.tar.gz package</a>
</li></ul> 
<p />
<p />
<!--                                                                             <ul>
 <li>
 <ul>
<li> Set LOGINHOST = workshop1.lac.uic.edu
</li> <li> Set LOGINIP = 131.193.181.56
</li> <li> Set GRIDHOST = tg-login.sdsc.teragrid.org
</li> <li> Set OTHERHOST = workshop2.lac.uic.edu
</li> <li> Set CERTSUBJECT = /O=Grid/OU=OSG/CN=Training User 99
</li> <li> Set LOGINNAME = train99
</li> <li> Set HOMEDIR = /home/train99
</li></ul> 
</li></ul> 
<p />
<p />
<a href="/bin/view/Main/BenClifford" class="twikiLink">BenClifford</a> - 2007 Mar
<a href="/bin/view/Main/ForrestChristian" class="twikiLink">ForrestChristian</a> - 24 Mar 2007 - Added VARIABLES
<p />
-->   </div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Education/ASP2016<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Education/ASP2016/GridWorkshops" class="twikiLink">GridWorkshops</a> &gt; <a href="/bin/view/Education/ASP2016/MidwestGridWorkshop" class="twikiLink">MidwestGridWorkshop</a> &gt; <a href="/bin/view/Education/ASP2016/MidwestSyllabus" class="twikiLink">MidwestSyllabus</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>MidwestWSNatGridLab</span> <br />    
Topic revision: r3 - 07 Feb 2017 - 19:16:29 - <a href="/bin/view/Main/BrianBockelman" class="twikiLink">BrianBockelman</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />