---+ Site Benefits and Requirements for !perfSONAR Monitoring


---++ Introduction

*OSG sites rely upon the network to provide access to their computing and storage.*  The network provides the basis for OSG users to access those resources and for virtual organizations to organize the sharing and use of their member&#39;s resources.   When there are problems in the network, it can significantly degrade or even disable users and VOs ability to do their science.   

Networking problems can be difficult to identify and isolate for numerous reasons:
   * Network paths typically span multiple administrative domains with no single entity having complete access to the end-to-end infrastructure components
   * Applications that work well on a Local Area Network (LAN) may behave significantly differently when run on a Wide Area Network (WAN) due to the impact of latency on the network communication involved
   * End-host or LAN issues may be the actual source of problems and differentiating HOST vs LAN vs WAN problems can be difficult without sufficient expertise
   * Problems that actually exist on a host or in the LAN may not be &quot;visible&quot; in local use and only show up when the application is used in the WAN.  The tendency is to believe the WAN is the problem even though it many cases it isn&#39;t
   * Real WAN problems are hard to localize and it is not practical or effective to contact every entity managing a portion of the network path on which you see a problem.   

OSG&#39;s goal is to help users, VOs and site administrators better understand their network infrastructure and enable them to more effectively find problems and isolate their root cause.  To do this we are recommending that all OSG sites deploy [[http://psps.perfsonar.net/toolkit/][perfSONAR-PS Toolkit]] instances in their infrastructure.

---++ Benefits 

*By deploying perfSONAR-PS Toolkit instances sites and users will benefit in a number of ways:*

   * Once installed the PS toolkit instances can serve as an on-demand test point, allowing both local and remote users to test the network connection between them and the site
   * The site can participate in automated, regularly scheduled tests of their network which provide
      * A baseline for their network behavior to/from other OSG sites
      * Data of the historical and current network performance to other sites of interest
      * The ability to determine when problems began or when some change impacted the network
      * A set of metrics which are used by network engineers to find and isolate network problems.
      * The ability to identify network bottlenecks where upgrades may be helpful
   * Sites will be instrumented in a standard way so that if network problems are suspected, remote operators can easily make a first-pass diagnosis without the site needing to do anything
   * Users will have the ability to check the network metrics when they suspect a network issue, without needing to involve site managers or network engineers.

OSG&#39;s focus has been on providing a toolkit that is robust and will hopefully operate with minimal effort from the site.   Our goal is to achieve &quot;set-it-and-forget&quot; capability that provides a network test-point for each OSG site.

---++ Requirements

To participate, each OSG site should plan on providing two inexpensive computers that should be co-located with the sites primary storage (or computing if there is no grid storage at the site).  One instance will be used to measure throughput and one instance will measure latency, packet-loss and network route paths.

Some details:

   * *Hardware:*  For recommendations, see the perfSONAR-PS [[http://psps.perfsonar.net/toolkit/hardware.html][hardware recommendations]] site.  Some additional recommendations are available at http://fasterdata.es.net/performance-testing/perfsonar/ps-howto/hardware/
   * *Network Connection:*  We recommend using a network connection that is representative of your local site connectivity.   If you have 1G for your systems, you should install a throughput node with 1G network interfaces; if you  have 10G for your storage or primary systems you should install a node with 10G interfaces.
   * *Registration:*  We have documented how you should register your instance in OIM at [[http://www.opensciencegrid.org/bin/view/Documentation/RegisterPSinOIM][http://www.opensciencegrid.org/bin/view/Documentation/RegisterPSinOIM]]

For further information about installing and configuration perfSONAR-PS for OSG please refer to https://twiki.grid.iu.edu/bin/view/Documentation/PerfSONARToolKit

---++ !MyOSG Visualization Tools

   * [[https://myosg.grid.iu.edu/miscpfmesh?count_sg_1&amp;count_active=on&amp;count_enabled=on][OSG VO Matrices]]
      * [[https://myosg.grid.iu.edu/vopfmatrix/index?start_type=7daysago&amp;start_date=09%2F26%2F2013&amp;end_type=now&amp;end_date=09%2F26%2F2013&amp;vo=on&amp;vo_35=on&amp;vo_3=on&amp;active_value=1&amp;oasis_value=1&amp;sort_key=name][ATLAS and CMS Matrices]] 




-- Main.RobQ - 16 Oct 2013
-- Main.ShawnMcKee - 05 Nov 2013
