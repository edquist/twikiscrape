


-- Main.DerekWeitzel - 31 May 2010


---+!! Running CS-Rosetta at Nebraska


---++ Starting the job

   1. Log into glidein with the username provided.
   &lt;pre class=&quot;screen&quot;&gt;
   ssh username@glidein.unl.edu&lt;/pre&gt;
   1. Download the newest version of the Rosetta Workflow
   &lt;pre class=&quot;screen&quot;&gt;
   svn co svn://t2.unl.edu/brian/GridSubmission/Rosetta/glidein Rosetta&lt;/pre&gt;
   1. Run the Rosetta workflow:
   &lt;pre class=&quot;screen&quot;&gt;
   cd Rosetta
   ./createJob.sh TAB_FILE&lt;/pre&gt;

   * =TAB_FILE= is *.tab file.

   %TWISTY{
mode=&quot;div&quot;
showlink=&quot;Example output&quot;
hidelink=&quot;Hide&quot;
showimgleft=&quot;%ICONURLPATH{toggleopen-small}%&quot;
hideimgleft=&quot;%ICONURLPATH{toggleclose-small}%&quot;
}%
&lt;pre class=&quot;screen&quot;&gt;
[dweitzel@glidein Rosetta]$ ./createJob.sh PrimaseCTDnohis.tab 
Using PrimaseCTDnohis.tab for job...

-----------------------------------------------------------------------
File for submitting this DAG to Condor           : rosetta.dag.condor.sub
Log of DAGMan debugging messages                 : rosetta.dag.dagman.out
Log of Condor library output                     : rosetta.dag.lib.out
Log of Condor library error messages             : rosetta.dag.lib.err
Log of the life of condor_dagman itself          : rosetta.dag.dagman.log

Submitting job(s).
Logging submit event(s).
1 job(s) submitted to cluster 25633.
-----------------------------------------------------------------------
&lt;/pre&gt;

%ENDTWISTY%

---++ Monitoring the jobs
On glidein.unl.edu, type the command:
&lt;pre class=&quot;screen&quot;&gt;
condor_q username
&lt;/pre&gt;
Where =username= is your provided username.  You will receive an email the the job has completed.

The job will create a unique directory where the final output will be placed.  The name of the directory is similar to:
&lt;pre class=&quot;screen&quot;&gt;
working_dir.05.31.10-15.17.48&lt;/pre&gt;
The name is a function of the time of submission.


---++ Changing Parameters
In the file =scripts/init-runRosetta.sh=, you can change the values passed into Rosetta.  Using =sed=, you can change any value inside runRosetta.com.  Notice that the nstruct is reduced because the workflow submits 1200 jobs, then concatenates the output together.

&lt;pre class=&quot;file&quot;&gt;
...
echo &quot;paths.txt:&quot;
cat paths.txt

echo Changing the number of structs that are going to be made to 20
sed -i &#39;s/-nstruct\ 20000/-nstruct\ 20/g&#39; runRosetta.com

echo ******** Beginning Run ********
#Run the program
./runRosetta.com
...
&lt;/pre&gt;
