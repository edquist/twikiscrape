---+!!&lt;nop&gt;Notes on new resource registration review

&lt;!--

   * Set VIEWTHISTOPIC = &lt;div class=&quot;twikiSmall&quot;&gt;&lt;a href=&quot;%TOPIC%&quot;&gt;View this section&lt;/a&gt;&lt;/div&gt; 
 --&gt;

%TOC%

%STARTINCLUDE%

---+ Introduction
This is intended as a working document to define some of the items that should be evaluated
before a new resource is activated in OIM/MyOsg.  And maybe these are the steps that all sites should 
follow before activating certain services.

__Note: This just addresses CE and Submit services.  I know nothing about the Storage services for a resource__

---+ Checklist
This section is a preliminary list of items that should be checked before a resource is activated.  It is not all-inclusive at this point.

It might also not be a bad idea for this to be a _set of steps_  an admin should follow when bring up a new resource.  The installation doc
does not prescribe anything more than starting up everything all at once but the Gratia reporting issue is probably one that causes the most 
problems since most admins do not realize that RSV reports to Gratia as grid jobs.

---++ Gratia reporting
Verify the resource/site is reporting to Gratia correctly.  This should be done before activating any of the gratia probe crons __and__ rsv__.
   1 The site admin should verify that the resource group and resource name in the __/etc/osg/config.d/40-siteinfo.ini__ is set correctly to the !MyOsg hierarchy.
   1 Test jobs, a single sleeper job is adequate, should be run.
   1 Then a manual execution of the __/etc/cron.d/gratia-probe-[JOBMANAGER].cron__ should be performed.
   1 To verify, access the [[http://gratiaweb.grid.iu.edu/gratia/bysite][OSG Job Accounting Information By Site]] display and filter by your resource name.%BR%
 __However, at this time, the page does not work unless you are authenticated.__ %BR%An interim alternative is to access the old [[http://gratia-osg-prod-reports.opensciencegrid.org/gratia-reporting/][Gratia reporting page]] and select the _Usage by Site_ menu option.

If it is not reporting as the correct resource in Gratia, you will have to create a goc ticket requesting a change to the probe-site 
mapping in Gratia.

---++ RSV status
Once you&#39;ve verified Gratia reporting, you can activate __RSV__ .  

The main reason you need to verify Gratia reporting before activating RSV is that all RSV scripts run through a job manager and are thus reported
to the Gratia collector.  If activated before verifying your Gratia reporting, you may be reporting the incorrect resource.

Access your local RSV reporting page,  http=//LOCAL_HOST/rsv, and verify all tests.  Take corrective action as needed.

---++ Interoperability with other systems
If the resource is involved in interoperability to other grids, such as WLCG, PRAGMA, !TeraGrid, XSEDE and Clouds, refer to the 
[[https://twiki.grid.iu.edu/bin/view/Interoperability/WebHome][OSG Interoperability Activity]] document for further requirements.

-- Main.JohnWeigand - 05 Jun 2013

