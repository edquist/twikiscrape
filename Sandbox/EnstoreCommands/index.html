<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> EnstoreCommands &lt; Sandbox &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Sandbox/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Sandbox/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Sandbox/EnstoreCommands?_T=16 Feb 2017" type="application/x-wiki" title="edit EnstoreCommands" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><meta name="robots" content="noindex,nofollow"> 
<base href="https://twiki.opensciencegrid.org/bin/view/Sandbox/EnstoreCommands"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#DDDDDD;
	}
	.patternBookView {
		border-color:#DDDDDD;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> Enstore provides commands that allow you to communicate with various components of the system. The basic syntax of all Enstore commands is 
<p />
<pre>
 &#37; enstore &#60;command&#62; &#91;--option &#91;argument] ...]
</pre>
<p />
All options start with a double dash (--). The return codes are 0 (zero) for success, non-zero for failure (currently all failures return number 1). 
<p />
<p />
<h1><a name="enstore_info"></a> enstore info </h1>
As of encp v3_2, the command enstore info supersedes enstore file and enstore volume. The developers may decide to remove these latter two commands in future versions of encp. 
<p />
This command communicates with the File Clerk (see section 8.1 File Clerk) and the Volume Clerk (see section 8.2 Volume Clerk). It returns information about specified file(s) or volume(s). 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Syntax"></a> Syntax: </span></h2>
<p />
<pre>
 &#37; enstore info &#91;--option &#91;argument] ... ]
</pre>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Options"></a> Options: </span></h2>
<p />
<h3><a name="h_help"></a> -h, --help </h3>
<p />
Prints the options (i.e., prints this message). Example: 
<p />
<pre>
 $ enstore info --help
</pre>
<p />
<p />
<h3><a name="bfid_BFID"></a> --bfid &lt;BFID&gt; </h3>
<p />
Returns information (metadata) about the file corresponding to the specified bfid.
<p />
You can get the bfid of a file from the enstore pnfs --bfid &lt;FILE_NAME&gt; command (section 9.4 enstore pnfs); get the filename from searching PNFS namespace.
<p />
<em>Example:</em>
<p />
<p />
<pre>
 $ enstore info --bfid CDMS105770745000000

   {&#39;bfid&#39;: &#39;CDMS105770745000000&#39;, 
   &#39;complete&#95;crc&#39;: 1191066979L, 
   &#39;deleted&#39;: &#39;no&#39;, 
   &#39;drive&#39;: &#39;stkenmvr7a:/dev/rmt/tps0d1n:4560000022&#39;, 
   &#39;external&#95;label&#39;: &#39;VO3222&#39;, 
   &#39;location&#95;cookie&#39;: &#39;0000&#95;000000000&#95;0005661&#39;, 
   &#39;pnfs&#95;mapname&#39;: &#39;&#39;, 
   &#39;pnfs&#95;name0&#39;: &#39;/pnfs/fs/usr/test/xyz/srmtest/ar017983.0001phys&#95;10&#39;, 
   &#39;pnfsid&#39;: &#39;000500000000000000190EA8&#39;, 
   &#39;pnfsvid&#39;: &#39;&#39;, 
   &#39;sanity&#95;cookie&#39;: (65536L, 3203712884L), 
   &#39;size&#39;: 197354833L}
</pre>
<p />
This option may be used in any of four ways to return the same information, depending on what information you initially know about the file. 
<p />
<h3><a name="file_PATH"></a> --file &lt;PATH&gt; </h3>
<p />
<h3><a name="file_BFID"></a> --file &lt;BFID&gt; </h3>
Equivalent to enstore info --bfid &lt;BFID&gt; 
<p />
<h3><a name="file_PNFSID"></a> --file &lt;PNFSID&gt; </h3>
<p />
<h3><a name="file_VOLUME_LOCATION"></a> --file &lt;VOLUME:LOCATION&gt; </h3>
<p />
Returns information on the specified file. This example uses the path: 
<p />
<pre>
 $ enstore info --file /pnfs/test/NULL/1KB&#95;251

   {&#39;bfid&#39;: &#39;WAMS111453908000000&#39;, 
   &#39;complete&#95;crc&#39;: 0L, 
   &#39;deleted&#39;: &#39;no&#39;, 
   &#39;drive&#39;: &#39;rain:/dev/null:0&#39;, 
   &#39;external&#95;label&#39;: &#39;NULL01&#39;, 
   &#39;gid&#39;: 6209, 
   &#39;location&#95;cookie&#39;: &#39;0000&#95;000000000&#95;0000609&#39;, 
   &#39;pnfs&#95;name0&#39;: &#39;/pnfs/test/NULL/1KB&#95;251&#39;, 
   &#39;pnfsid&#39;: &#39;000100000000000000056258&#39;, 
   &#39;sanity&#95;cookie&#39;: (1024L, 0L), 
   &#39;size&#39;: 1024L, 
   &#39;uid&#39;: 5744}
</pre>
<p />
The file could also be specified as one of the following (BFID, PNFSID or VOLUME:LOCATION (external_label:location_cookie): 
<p />
<pre>
 $ enstore info --file WAMS111453908000000

 $ enstore info --file 000100000000000000056258

 $ enstore info --file NULL01:0000&#95;000000000&#95;0000609
</pre>
<p />
<h3><a name="gvol_VOLUME_NAME"></a> --gvol &lt;VOLUME_NAME&gt; </h3>
This is just like enstore info --vol &lt;VOLUME_NAME&gt;, except that this one prints human-readable time fields (e.g., &#8220;declared&#8221;, &#8220;first_access&#8221; and &#8220;last_access&#8221; fields). 
<p />
<em>Example:</em> 
<p />
<pre>
 $ enstore info --gvol VO3332 
   {&#39;blocksize&#39;: 131072, 
   &#39;capacity&#95;bytes&#39;: 64424509440L, 
   &#39;declared&#39;: &#39;Wed Jan 16 16:13:57 2002&#39;, 
   &#39;eod&#95;cookie&#39;: &#39;0000&#95;000000000&#95;0000044&#39;, 
   &#39;external&#95;label&#39;: &#39;VO3332&#39;, 
   &#39;first&#95;access&#39;: &#39;Fri May 10 12:59:35 2002&#39;, 
   &#39;last&#95;access&#39;: &#39;Mon Oct 27 22:35:45 2003&#39;, 
   &#39;library&#39;: &#39;9940&#39;, 
   &#39;media&#95;type&#39;: &#39;9940&#39;, 
   &#39;non&#95;del&#95;files&#39;: 43, 
   &#39;remaining&#95;bytes&#39;: 1785262080L, 
   &#39;sum&#95;mounts&#39;: 234, 
   &#39;sum&#95;rd&#95;access&#39;: 213, 
   &#39;sum&#95;rd&#95;err&#39;: 0, 
   &#39;sum&#95;wr&#95;access&#39;: 43, 
   &#39;sum&#95;wr&#95;err&#39;: 0, 
   &#39;system&#95;inhibit&#39;: &#91;&#39;none&#39;, &#39;full&#39;], 
   &#39;user&#95;inhibit&#39;: &#91;&#39;none&#39;, &#39;none&#39;], 
   &#39;volume&#95;family&#39;: &#39;cms.objy&#95;data&#95;files.cpio&#95;odc&#39;, 
   &#39;wrapper&#39;: &#39;cpio&#95;odc&#39;} 
</pre>
<p />
<h3><a name="just"></a> --just </h3>
Used with --pvols to list problem. See enstore info --pvols.
<p />
<h3><a name="list_VOLUME_NAME_Lists_the_files"></a> --list &lt;VOLUME_NAME&gt;: Lists the files in the specified volume with their volume name, bfid, size, location (file number) on volume, delete flag, and the original filename in pnfs. </h3>
<p />
You can get the volume name from the enstore pnfs command, using either --xref or --layer (section 9.4 enstore pnfs), or from the &#8220;external_label&#8221; field of the enstore info --bfid &lt;BFID&gt; command (shown above). 
<p />
This replaces both enstore file --list &lt;VOLUME_NAME&gt; and enstore volume --list &lt;VOLUME_NAME&gt;. 
<p />
<em>Example:</em>
<p />
<pre>
 $ enstore info --list VO3222 
   label bfid size location&#95;cookie delflag 
   original&#95;name 
   VO3222 CDMS106503213600000 983803 0000&#95;000000000&#95;0011536 deleted 
   /pnfs/fs/usr/eagle/dcache-tests/274.dcache&#95;page&#95;p&#95;27750 
</pre>
<p />
(This shows one of many lines appearing in the real output, and is 
reformatted to two lines for readability.) 
<p />
<p />
<h3><a name="ls_active_VOLUME_NAME"></a> --ls-active &lt;VOLUME_NAME&gt; </h3>
<p />
Lists active files in a volume. 
<p />
You can get the volume name from the enstore pnfs command, using either --xref or --layer (section 9.4 enstore pnfs), or from the &#8220;external_label&#8221; field of the enstore info --bfid &lt;BFID&gt; command (shown above). 
<p />
<em>Example:</em> 
<p />
<pre>
 $ enstore info --ls-active VO3222
   
   /pnfs/fs/usr/eagle/dcache-tests/101.dcache&#95;page&#95;a&#95;24401
   /pnfs/fs/usr/eagle/dcache-tests/101.dcache&#95;page&#95;24401
   /pnfs/fs/usr/test/stress-test/myfile1
   /pnfs/fs/usr/test/stress-test/myfile3
   /pnfs/fs/usr/test/stress-test/file128m-11
   ...
</pre>
<p />
<h3><a name="ls_sg_count_VOLUME_NAME"></a> --ls-sg-count &lt;VOLUME_NAME&gt; </h3>
<p />
Lists allocated tape counts by library and by storage group. If &#8220;storage group&#8221; has value &#8220;none&#8221;, the negative number under &#8220;allocated&#8221; gives the number of tapes that are available in the robot, but not yet assigned to a storage group. 
<p />
<em>Example:</em> 
<p />
<pre>
 $ enstore info --ls-sg-count VO3332

    library storage group allocated
   &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
   
   
   ... 
   9940 ktev 189 
   9940 lqcd 150 
   9940 miniboone 132 
   9940 minos 109 
   9940 none -13 
   9940 patriot 20 
   9940 sdss 608 
   9940 test 28 
   9940 theory 70 
   CD-9940B cms 129 
   ... 
</pre>
<p />
<p />
<h3><a name="pvols_just_VOLUME_1_VOLUME_2"></a> --pvols [--just &lt;VOLUME_1&gt; VOLUME_2&gt; ...] </h3>
Without --just, this lists all problem volumes. 
<p />
With --just followed by a space-separated list of volume names, it lists only the problem volumes among the given list. The columns returned are: volume name, primary status, primary status time, secondary status, secondary status time. (The time fields are relatively new; not all volumes will display them.) 
<p />
<em>Example:</em>
<p />
<pre>
 $ enstore info --pvols 
      &#61;&#61;&#61;&#61; readonly 
      LEGL10 none &#42; readonly 0913-1540 
      LEGL98 none &#42; readonly 0819-2329 
      ... 
      &#61;&#61;&#61;&#61; full 
      ... 
      VO4845 none &#42; full &#42; 
      VO4846 none 1023-1032 full &#42; 
      VO4847 none &#42; full &#42; 
      VO4848 none &#42; full &#42; 
      VO4849 none &#42; full &#42; 
      VO4850 none &#42; full 1016-2315 
      VO4851 none &#42; full 1017-0409 
   ... 
   $ enstore volume --pvols --just VO3332 
</pre>
<p />
(no sample output available) 
<p />
<h3><a name="show_bad"></a> --show-bad </h3>
Lists all files that are currently unavailable due to media problems. When a tape problem is discovered, the tape is sent to the vendor for file recovery. In the interim, a cloned tape is made available to users, with the bad files marked. This command option lets you list the bad files. The output lists the tape number, BFID, file size in bites, and pnfs path of file. 
<p />
<em>Example:</em>
<p />
<pre>
 $ enstore info --show-bad 
   ... 
   VO0053 CDMS105770745000000 95530315 
   /pnfs/fs/usr/xyz/my&#95;data/2004-4/.bad.F000xyz43&#95;0000.mdaq.root 
   ... 
</pre>
We show only one output line, and it is displayed on two lines for readability. Notice the &#8220;.bad.&#8221; at the front of the filename; this is how the bad files are marked. 
<p />
<h3><a name="usage"></a> --usage </h3>
Prints short help message. 
<p />
<em>Example:</em> 
<p />
<pre>
 $ enstore info --usage 
   Usage: 
      info &#91; -h --bfid&#61; --help --list&#61; --ls-active&#61; --usage ] 
</pre>
<p />
<h3><a name="vol_VOLUME_NAME"></a> --vol &lt;VOLUME_NAME&gt; </h3>
<p />
Returns detailed information about specified volume 
<p />
<em>Example:</em> 
<p />
<pre>
 $ enstore info --vol VO3332
   
   {&#39;blocksize&#39;: 131072, 
   &#39;capacity&#95;bytes&#39;: 64424509440L, 
   &#39;declared&#39;: 1011219237.849051, 
   &#39;eod&#95;cookie&#39;: &#39;0000&#95;000000000&#95;0000044&#39;, 
   &#39;external&#95;label&#39;: &#39;VO3332&#39;, 
   &#39;first&#95;access&#39;: 1021053575.259737, 
   &#39;last&#95;access&#39;: 1067315745.238969, 
   &#39;library&#39;: &#39;9940&#39;, 
   &#39;media&#95;type&#39;: &#39;9940&#39;, 
   &#39;non&#95;del&#95;files&#39;: 43, 
   &#39;remaining&#95;bytes&#39;: 1785262080L, 
   &#39;sum&#95;mounts&#39;: 234, 
   &#39;sum&#95;rd&#95;access&#39;: 213, 
   &#39;sum&#95;rd&#95;err&#39;: 0, 
   &#39;sum&#95;wr&#95;access&#39;: 43, 
   &#39;sum&#95;wr&#95;err&#39;: 0,
   &#39;system&#95;inhibit&#39;: &#91;&#39;none&#39;, &#39;full&#39;],
   &#39;user&#95;inhibit&#39;: &#91;&#39;none&#39;, &#39;none&#39;], 
   &#39;volume&#95;family&#39;: &#39;cms.objy&#95;data&#95;files.cpio&#95;odc&#39;, 
   &#39;wrapper&#39;: &#39;cpio&#95;odc&#39;}
</pre>
<p />
<h3><a name="vols_or_vols_VOLUME_STATUS_or_vo"></a> --vols or --vols &lt;VOLUME_STATUS&gt; or --vols &lt;KEY&gt; &lt;VALUE&gt; </h3>
<p />
Lists all volumes with their available space, the system inhibits, the library, the volume family (period-separated concatenation of storage group, file family and file family wrapper) and any comments. 
<p />
The VOLUME_STATUS argument is optional. If left off, all volumes are listed. Possible values for this argument include: NOACCESS, NOTALLOWED, full, read_only, migrated. 
<p />
The KEY option accepts: storage_group, library and media_type 
<p />
_Example: _
<p />
<pre>
 $ enstore info --vols

   label avail. system&#95;inhibit library vol&#95;family comment 
   ... 
   VO0053 1.19GB (none full ) eagle cms.objy&#95;data&#95;files.cpio&#95;odc 
   VO0054 0.51GB (none full ) eagle cms.objy&#95;data&#95;files.cpio&#95;odc 
   VO0055 0.17GB (none full ) eagle theory.theory-canopy-C.cpio&#95;odc 
   VO0056 0.65GB (none full ) eagle theory.theory-canopy-D.cpio&#95;odc 
   ... 
</pre>
<p />
<h1><a name="enstore_library"></a> enstore library </h1>
This command communicates with the Library Manager (see section 8.3 Library Manager). You can use it to get information pertaining to a particular Library Manager. Use the online monitoring pages (see Chapter 10: Monitoring Enstore on the Web) to find the library manager of interest. 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Syntax_AN1"></a> Syntax: </span></h2>
<p />
<pre>
 &#37; enstore library &#91;--option &#91;argument] ... ] &#60;library&#62;
</pre>
<p />
The <library> argument is required except when using the --help option; the &#8220;.library_manager&#8221; portion of the library name is optional. 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Options_AN1"></a> Options: </span></h2>
<p />
<h3><a name="h_help_AN1"></a> -h, --help </h3>
Prints this message (i.e., prints the options). Example:
<p />
<p />
$ enstore library --help
<p />
<p />
Usage: 
library [OPTIONS]... library
<p />
<p />
<h3><a name="get_asserts"></a> --get-asserts <library> </h3>
print sorted lists of pending volume asserts 
<p />
<h3><a name="get_queue_HOST_NAME"></a> --get-queue &lt;HOST_NAME&gt; </h3>
print queue submitted from the specified host. 
<p />
If empty string specified, print the whole queue
<p />
<h3><a name="get_suspect_vols"></a> --get-suspect-vols </h3>
print suspect volume list
<p />
<h3><a name="get_work_sorted"></a> --get-work-sorted </h3>
print sorted lists of pending and active requests
<p />
<p />
<h3><a name="h_help_AN2"></a> -h, --help </h3>
Prints brief help messge
<p />
<h3><a name="usage_AN1"></a> --usage </h3>
Prints short help message
<p />
<h3><a name="get_asserts_LIBRARY"></a> --get-asserts &lt;LIBRARY&gt; </h3>
Prints sorted lists of pending volume asserts for specified library. 
<p />
<em>Example:</em>
<p />
<pre>
 $ enstore library --get-asserts 9940.library&#95;manager

   Pending assert requests: 0
   Active assert requests: 0
   {&#39;status&#39;: (&#39;ok&#39;, None)}
</pre>
<p />
<h3><a name="get_queue_HOST_NAME_LIBRARY"></a> --get-queue &lt;HOST_NAME&gt; &lt;LIBRARY&gt; </h3>
<p />
Prints queue submitted from the specified encp client host. Both arguments are required. If quoted empty string is specified for host name, it prints the whole queue (for all hosts). 
<p />
Examples: 
<p />
<pre>
 $ enstore library --get-queue stkensrv3 9940.library&#95;manager
   
   Pending write requests
   Active requests
   Pending read requests: 0
   Pending write requests: 2
   Active read requests: 0
   Active write requests: 0
   {&#39;status&#39;: (&#39;ok&#39;, None)}
</pre>
<p />
The top two lines tell us that there are no pending or active transfers involving stkensrv3 for the 9940 library manager. The 4th line tells us there are 2 pending write requests for this library manager from hosts other than stkensrv3. 
<p />
If all hosts are specified (the next example), the command returns the fields: host name, library manager, username (of encp request), input filename, and output filename for each pending and/or active request (3 shown here), and ends with a summary: 
<p />
<pre>
$ enstore library --get-queue &#34;&#34; 9940.library&#95;manager
   
   Active requests
   
   fnsimu2 9940.library&#95;manager lixn 
   /pnfs/btev/geant2003/xiaonan/dstar&#95;xiaonan&#95;1.evt.gz 
   /scr/bphys6/lixn/dstar&#95;xiaonan&#95;1.evt.gz M 9944
   
   
   fsgi01 9940.library&#95;manager rschultz 
   /usr/bdms/rschultz/fl&#95;066&#95;uplsr7/fl&#95;ed&#95;066&#95;uplsr7.ldhi 
   /pnfs/BDMS/lens/fl&#95;066&#95;uplsr7/fl&#95;ed&#95;0663
   
   
   fnsfh 9940.library&#95;manager minfarm 
   /export/stage02&#95;minos/C00040259&#95;0000.tdaq.root 
   /pnfs/minos/caldet&#95;reco/tdaq&#95;data/2002-09/C0004027
   
   
   Pending read requests: 0
   Pending write requests: 0
   Active read requests: 1
   Active write requests: 2
   {&#39;status&#39;: (&#39;ok&#39;, None)}
</pre>
<p />
<h3><a name="get_suspect_vols_LIBRARY"></a> <code>--get-suspect-vols &lt;LIBRARY&gt;</code> </h3>
<p />
Prints suspect volume list for specified library manager. See 10.6.1 Suspect Volumes. 
<p />
<em>Example:</em> 
<pre>
$ enstore library --get-suspect-vols 9940.library&#95;manager
   
   &#91;{&#39;movers&#39;: &#91;&#39;994071.mover&#39;], &#39;external&#95;label&#39;: &#39;VO4523&#39;,
   &#39;time&#39;: 1067290586.907726}, {&#39;movers&#39;: &#91;&#39;994051.mover&#39;, &#39;994061.mover&#39;, &#39;]
</pre>
<p />
<h3><a name="get_work_sorted_LIBRARY"></a> --get-work-sorted &lt;LIBRARY&gt; </h3>
Prints sorted lists of pending and active requests. It sorts by queue. 
<p />
<em>Example:</em>
<pre>
$ enstore library --get-work-sorted 9940.library&#95;manager
   
   {&#39;write&#95;queue&#39;: &#91;], &#39;read&#95;queue&#39;: &#91;], &#39;admin&#95;queue&#39;: &#91;]}
   &#91;{&#39;status&#39;: (&#39;ok&#39;, None), &#39;vc&#39;: {&#39;status&#39;: (&#39;ok&#39;, None), 
   &#39;declared&#39;: 1011741604.130481, &#39;si&#95;time&#39;: &#91;1041612783.99499, 0], &#39;blocksiz]
</pre>
<p />
<p />
<h1><a name="enstore_monitor"></a> enstore monitor </h1>
This command communicates with the Monitor Server (see Chapter 10: Monitoring Enstore on the Web) to get network speed information. 
<p />
On machines with an enstore.conf file (see Appendix A: Network Control), the enstore monitor command uses the routing already established there. If enstore monitor set up its own, it would interfere with the routes currently in use. 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Syntax_AN2"></a> Syntax: </span></h2>
<p />
<pre>
 &#37; enstore monitor &#91;--option &#91;argument] ...]
</pre>
<p />
<h3><a name="h_help_AN3"></a> -h, --help </h3>
Prints the options. 
<p />
<h3><a name="host_HOSTIP"></a> --host &lt;HOSTIP&gt; </h3>
Selects a single host 
<p />
<h3><a name="port_PORT"></a> --port &lt;PORT&gt; </h3>
Selects a port 
<p />
<h3><a name="usage_AN2"></a> --usage </h3>
Prints short help message 
<p />
<h3><a name="verbose_VERBOSE"></a> --verbose &lt;VERBOSE&gt; </h3>
Print out information. 
<p />
<h3><a name="host_HOST_NAME_or_IP_ADDRESS"></a> --host [HOST_NAME or IP_ADDRESS] </h3>
Returns network rate for the specified host (Enstore node). If you don&#8217;t specify host, it runs the command for all hosts. Example below shows results for a single host. 
<p />
<em>Example:</em> 
<pre>
$ enstore monitor --host stkensrv3 
   Trying stkensrv3.fnal.gov 
   Network rate measured at 11.33 MB/S recieving and 11.1 MB/S sending. 
</pre>
<p />
<h3><a name="port_PORT_AN1"></a> --port &lt;PORT&gt; </h3>
Selects the specified port. If you don&#8217;t specify port, it runs the command for the default port. 
<p />
<h3><a name="verbose_INTEGER_VALUE"></a> --verbose &lt;INTEGER_VALUE&gt; </h3>
<p />
This command is used to help find and fix network problems. It prints detailed information about actions taken. The higher the number you give as an argument, the more info displayed. Example: 
<p />
<pre>
$ enstore monitor --host stkensrv3 --verbose 20
   
   6 Tue Oct 28 10:48:13 2003 msc called with args: &#91;&#39;monitor&#39;, &#39;--host&#39;,
   &#39;stkensrv3&#39;, &#39;--verbose&#61;20&#39;]
   13 Tue Oct 28 10:48:13 2003 Get monitor&#95;server config info from server
   Trying stkensrv0.fnal.gov
   13 Tue Oct 28 10:48:13 2003 Get None config info from server
   13 Tue Oct 28 10:48:13 2003 Get None config info from server
   13 Tue Oct 28 10:48:13 2003 Get log&#95;server config info from server
   13 Tue Oct 28 10:48:13 2003 Get log&#95;server config info from server
   13 Tue Oct 28 10:48:13 2003 Get None config info from server
   13 Tue Oct 28 10:48:13 2003 Get alarm&#95;server config info from server
   ...
   10 Tue Oct 28 10:48:14 2003 Connecting to monitor server.
   10 Tue Oct 28 10:48:14 2003 Obtaining error status for data socket.
   10 Tue Oct 28 10:48:15 2003 Get the final dialog rate information.
   Network rate measured at 11.34 MB/S recieving and 11.23 MB/S sending.
</pre>
<p />
<p />
<h1><a name="enstore_pnfs"></a> enstore pnfs </h1>
Enstore has a pnfs command that allows you to retrieve a variety of information, as listed in the option table below. Off-site users cannot mount /pnfs, and therefore cannot run this command. 
<p />
Using this command to perform PNFS manipulations and/or change PNFS tags is restricted to Enstore administrators and/or their designated gurus, and is covered in Appendix B: Changing PNFS Tags. 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Syntax_AN3"></a> Syntax: </span></h2>
<p />
<pre>
 &#37; enstore pnfs &#91;--option &#91;argument] ... ]
</pre>
<p />
<h3><a name="help"></a> --help </h3>
List the options for the enstore pnfs command.
<p />
<h3><a name="bfid_FILENAME"></a> --bfid &lt;FILENAME&gt; </h3>
lists the bit file id for file 
<p />
<h3><a name="cat_FILENAME_LAYER"></a> --cat &lt;FILENAME&gt; [LAYER] </h3>
see --layer 
<p />
<h3><a name="file_family_FILE_FAMILY"></a> --file-family [FILE_FAMILY] </h3>
Gets file family tag, default; sets file family tag, optional 
<p />
<h3><a name="file_family_width_FILE_FAMILY_WI"></a> --file-family-width [FILE_FAMILY_WIDTH] </h3>
Gets file family width tag, default; sets file family tag, optional 
<p />
<h3><a name="file_family_wrapper_FILE_FAMILY"></a> --file-family-wrapper [FILE_FAMILY_WRAPPER] </h3>
Gets file family width tag, default; sets file family tag, optional 
<p />
<h3><a name="filesize_FILE"></a> --filesize &lt;FILE&gt; </h3>
Print out real filesize 
<p />
<h3><a name="h_help_AN4"></a> -h, --help </h3>
Prints this messge 
<p />
<h3><a name="info_FILENAME"></a> --info &lt;FILENAME&gt; </h3>
See --xref 
<p />
<h3><a name="layer_FILENAME_LAYER"></a> --layer &lt;FILENAME&gt; [LAYER] </h3>
Lists the layer of the file 
<p />
<h3><a name="library_LIBRARY"></a> --library [LIBRARY] </h3>
Gets library tag, default; sets library tag, optional 
<p />
<h3><a name="tag_TAG_DIRECTORY"></a> --tag &lt;TAG&gt; [DIRECTORY] </h3>
Lists the tag of the directory 
<p />
<h3><a name="tagchmod_PERMISSIONS_TAG"></a> --tagchmod &lt;PERMISSIONS&gt; &lt;TAG&gt; </h3>
Changes the permissions for the tag; use UNIX chmod style permissions 
<p />
<h3><a name="tagchown_OWNER_TAG"></a> --tagchown &lt;OWNER&gt; &lt;TAG&gt; </h3>
Changes the ownership for the tag; OWNER can be 'owner' or 'owner.group' 
<p />
<h3><a name="tags_DIRECTORY"></a> --tags [DIRECTORY] </h3>
lists tag values and permissions 
<p />
<h3><a name="usage_AN3"></a> --usage </h3>
prints short help message 
<p />
<h3><a name="xref_FILENAME"></a> --xref &lt;FILENAME&gt; </h3>
lists the cross reference data for file 
<p />
<h3><a name="bfid_FILE_NAME"></a> --bfid &lt;FILE_NAME&gt; </h3>
Returns the BFID of the file; select file name to specify from within pnfs space and use relative/absolute path as needed. 
<p />
<em>Example:</em> 
<pre>
 $ enstore pnfs --bfid /pnfs/mist/zuu/100MB&#95;002 
   WAMS104102942800000
</pre>
<p />
<h3><a name="cat_PATH_TO_FILE_LAYER"></a> --cat &lt;PATH_TO_FILE&gt; [LAYER] </h3>
--cat is an alias for --layer; see --layer. 
<p />
<h3><a name="file_family"></a> --file-family </h3>
Prints the file family name associated with the current pnfs directory. 
<p />
<em>Example:</em> 
<pre>
 $ enstore pnfs --file-family 
   dcache 
</pre>
<p />
<h3><a name="file_family_width"></a> --file-family-width </h3>
Prints the file family width associated with the current pnfs directory. 
<p />
<em>Example:</em> 
<pre>
 $ enstore pnfs --file-family-width 
    1
</pre>
<p />
<h3><a name="file_family_wrapper"></a> --file-family-wrapper </h3>
Prints the file family wrapper associated with the current pnfs directory. 
<p />
<em>Example:</em> 
<pre>
 $ enstore pnfs --file-family-wrapper 
   cpio&#95;odc 
</pre>
<p />
<h3><a name="filesize_PATH_TO_FILE"></a> --filesize &lt;PATH_TO_FILE&gt; </h3>
Prints the real filesize in bytes; useful for files of size greater than (2G-1) bytes, since PNFS stores file size as 1 in this case. 
<p />
<em>Example:</em> 
<pre>
 $ enstore pnfs --filesize a01 
   24198 
</pre>
<p />
<h3><a name="info_PATH_TO_FILE"></a> --info &lt;PATH_TO_FILE&gt; </h3>
Prints information about the file, this is an alias for the --xref option. See 
<p />
<h3><a name="xref"></a> --xref. </h3>
<p />
<h3><a name="layer_PATH_TO_FILE_LAYER"></a> --layer &lt;PATH-TO-FILE&gt; &lt;LAYER&gt; </h3>
<p />
Prints information about the file. Layer 0 is used internally by pnfs and it can&#8217;t be viewed. Layer 1, the default, gives the file&#8217;s BFID. Layer 2 is used by dCache. Layers 3, 5, 6, 7 are not currently used. Layer 4 produces output equivalent to --xref, but returns info without field labels. 
<p />
The option --cat is an alias for this option. 
<p />
<em>Examples:</em> 
<p />
Layer 1 gives BFID (default): 
<pre>
$ enstore pnfs --layer a01

   CDMS105889726300000


$ enstore pnfs --layer a01 1

   CDMS105889726300000
</pre>
<p />
Layer 2 is used for dCache: 
<pre>
$ enstore pnfs --layer a01 2

   2,0,0,0.0,0.0
   :c&#61;1:d15ef6a3;l&#61;554423;
   w-fcdfdata018-1
</pre>
<p />
The file has a version1 crc of c=1:d15ef6a3, it has a length l=554423, and it is in pool w-fcdfdata018-1. 
<p />
<pre>
$ enstore pnfs --layer a01 2

   2,0,0,0.0,0.0
   :
</pre>
<p />
Layer 4 gives --xref output (see --xref): 
<pre>
$ enstore pnfs --layer a01 4

   VO3222
   0000&#95;000000000&#95;0006264
   24198
   dcache
   /pnfs/fs/usr/test/xyz/srmtest/test&#95;1&#95;1/a01
   
   
   000500000000000000191030
   
   
   CDMS105889726300000
   stkenmvr5a:/dev/rmt/tps3d1n:4560000022
</pre>
<p />
<h3><a name="tags_DIRECTORY_AN1"></a> --tags [DIRECTORY] </h3>
<p />
List the tag values of specified PNFS directory (if no directory argument, it lists tags for current working directory (cwd or pwd)). Example: 
<pre>
 $ pwd

   /pnfs/test/xyz/srmtest/test&#95;1&#95;1

 $ enstore pnfs --tags

   .(tag)(file&#95;family) &#61; dcache
   .(tag)(file&#95;family&#95;width) &#61; 1
   .(tag)(file&#95;family&#95;wrapper) &#61; cpio&#95;odc
   .(tag)(library) &#61; 9940
   .(tag)(storage&#95;group) &#61; test
   
   
   -rw-rw-r-- 11 root sys 6 Jul 26 2001 
   /pnfs/test/xyz/srmtest/test&#95;1&#95;1/.(tag)(file&#95;family) 
   -rw-rw-r-- 11 root sys 1 May 5 2000 
   /pnfs/test/xyz/srmtest/test&#95;1&#95;1/.(tag)(file&#95;family&#95;width) 
   -rw-rw-r-- 11 root sys 8 May 5 2000 
   /pnfs/test/xyz/srmtest/test&#95;1&#95;1/.(tag)(file&#95;family&#95;wrapper) 
   -rw-rw-r-- 11 root sys 4 Jul 3 10:59 
   /pnfs/test/xyz/srmtest/test&#95;1&#95;1/.(tag)(library) 
   -rw-r--r-- 11 root sys 4 Jul 26 2001 
   /pnfs/test/xyz/srmtest/test&#95;1&#95;1/.(tag)(storage&#95;group) 
</pre>
<p />
(minor reformatting done to enhance readability) 
<p />
<h3><a name="xref_FILE_NAME"></a> --xref &lt;FILE_NAME&gt; </h3>
<p />
List cross-reference information (metadata) for specified file. (--info is an alias for --xref.) The information includes: 
<p /> <ul>
<li> volume: storage media volume label 
</li> <li> location cookie: file position on tape (the number of the file on tape) 
</li> <li> size: file size in bytes 
</li> <li> file family: file family 
</li> <li> original name: original name in /pnfs before any move/copy command issued; i.e., the destination filename given in the encp command used to copy the file to Enstore 
</li> <li> map file: obsolete, but some older files may have a value here 
</li> <li> pnfsid file: unique id for the file as assigned by PNFS 
</li> <li> pnfsid map: obsolete, but some older files may have a value here 
</li> <li> bfid: unique id for the file as assigned by Enstore (matches layer 1) 
</li> <li> origdrive: id of drive used when file was written to media (files generated prior to 10/2000, encp v2_5 or earlier, will not have a value here) 
</li> <li> crc: CRC of the file (appears for files after 10/2003, using encp v3_1 or greater) 
</li></ul> 
<p />
<em>Example:</em>
<pre>
 $ enstore pnfs --xref a01

   volume: VO3222
   location&#95;cookie: 0000&#95;000000000&#95;0006264
   size: 24198
   file&#95;family: dcache
   original&#95;name: /pnfs/fs/usr/test/xyz/srmtest/test&#95;1&#95;1/a01
   map&#95;file: 
   pnfsid&#95;file: 000500000000000000191030
   pnfsid&#95;map:
   bfid: CDMS105889726300000
   origdrive: stkenmvr5a:/dev/rmt/tps3d1n:4560000022
   crc: unknown
</pre>
<p />
<h3><a name="library"></a> --library </h3>
Returns the value of the library tag (the virtual library associated with files in the directory) for the current pnfs directory. Example: 
<pre>
$ enstore pnfs --library 

   9940
</pre>
<p />
<p />
<h1><a name="enstore_file_deprecated"></a> enstore file (deprecated) </h1>
This command has been deprecated for users as of encp v3_2, and (along with enstore volume) replaced with enstore info (see section 9.1 enstore info). 
<p />
This command communicates with the File Clerk (see section 8.1 File Clerk). It returns information about a specified file or files on a specified volume. 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Syntax_AN4"></a> Syntax: </span></h2>
<p />
<pre>
 &#37; enstore file &#91;--option &#91;argument] ... ]
</pre>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Options_AN2"></a> Options: </span></h2>
<p />
<h3><a name="h_help_AN5"></a> -h, --help </h3>
Prints the options (i.e., prints this message). 
--bfid &lt;BFID&gt; get info of a file
<p />
<p />
<h3><a name="h_help_print_this_message"></a> -h, --help print this message </h3>
<p />
<p />
<h3><a name="list_VOLUME_NAME_list_the_files"></a> --list &lt;VOLUME_NAME&gt; list the files in a volume </h3>
<p />
<p />
<h3><a name="ls_active_VOLUME_NAME_list_activ"></a> --ls-active &lt;VOLUME_NAME&gt; list active files in a volume </h3>
<p />
<p />
<h3><a name="show_bad_lists_all_bad_files"></a> --show-bad lists all bad files </h3>
<p />
<p />
<h3><a name="usage_print_short_help_message"></a> --usage print short help message </h3>
<p />
<p />
<h3><a name="bfid_BFID_AN1"></a> --bfid &lt;BFID&gt; </h3>
<p />
Returns information (metadata) about the file corresponding to the specified bfid. 
<p />
You can get the bfid of a file from the enstore pnfs --bfid &lt;FILE_NAME&gt; command (section 9.4 enstore pnfs); get the filename from searching PNFS namespace. 
<p />
<em>Example:</em> 
<p />
<pre>
 $ enstore file --bfid CDMS105770745000000
   
   {&#39;bfid&#39;: &#39;CDMS105770745000000&#39;,
   
    &#39;complete&#95;crc&#39;: 1191066979L,
   
    &#39;deleted&#39;: &#39;no&#39;,
   
    &#39;drive&#39;: &#39;stkenmvr7a:/dev/rmt/tps0d1n:4560000022&#39;,
   
    &#39;external&#95;label&#39;: &#39;VO3222&#39;,
   
    &#39;location&#95;cookie&#39;: &#39;0000&#95;000000000&#95;0005661&#39;,
   
    &#39;pnfs&#95;mapname&#39;: &#39;&#39;,
   
    &#39;pnfs&#95;name0&#39;: &#39;/pnfs/fs/usr/test/xyz/srmtest/ar017983.0001phys&#95;10&#39;,
   
    &#39;pnfsid&#39;: &#39;000500000000000000190EA8&#39;,
   
    &#39;pnfsvid&#39;: &#39;&#39;,
   
    &#39;sanity&#95;cookie&#39;: (65536L, 3203712884L),
   
    &#39;size&#39;: 197354833L}
</pre>
<p />
<h3><a name="list_VOLUME_NAME"></a> --list &lt;VOLUME_NAME&gt; </h3>
<p />
Lists the files in the specified volume with their volume name, bfid, size, location (file number) on volume, delete flag, and the original filename in pnfs. 
<p />
You can get the volume name from the enstore pnfs command, using either --xref or --layer (section 9.4 enstore pnfs), or from the &#8220;external_label&#8221; field of the enstore file --bfid &lt;BFID&gt; command (shown above). 
<p />
The enstore info --list &lt;VOLUME_NAME&gt; is an alias for this command. 
<p />
<em>Example:</em> 
<p />
<pre>
 $ enstore file --list VO3222

   label bfid size location&#95;cookie delflag
   original&#95;name
   
   VO3222 CDMS106503213600000 983803 0000&#95;000000000&#95;0011536 deleted
   /pnfs/fs/usr/eagle/dcache-tests/274.dcache&#95;page&#95;p&#95;27750
</pre>
<p />
(This shows one of many lines appearing in the real output, and isreformatted to two lines for readability.)
<p />
<h3><a name="ls_active_VOLUME_NAME_AN1"></a> --ls-active &lt;VOLUME_NAME&gt; </h3>
<p />
Lists active files in a volume.
<p />
You can get the volume name from the enstore pnfs command, using either --xref or --layer (section 9.4 enstore pnfs), or from the &#8220;external_label&#8221; field of the enstore file --bfid &lt;BFID&gt; command (shown above).
<p />
<em>Example:</em>
<p />
<pre>
 $ enstore file --ls-active VO3222

   /pnfs/fs/usr/eagle/dcache-tests/101.dcache&#95;page&#95;a&#95;24401
   /pnfs/fs/usr/eagle/dcache-tests/101.dcache&#95;page&#95;24401
   /pnfs/fs/usr/test/stress-test/myfile1
   /pnfs/fs/usr/test/stress-test/myfile3
   /pnfs/fs/usr/test/stress-test/file128m-11
   ...
</pre>
<p />
<h3><a name="show_bad_AN1"></a> --show-bad </h3>
<p />
Lists all files that are currently unavailable due to media problems. When a tape problem is discovered, the tape is sent to the vendor for file recovery. In the interim, a cloned tape is made available to users, with the bad files marked. This command option lets you list the bad files. The output lists the tape number, BFID, file size in bites, and pnfs path of file. 
<p />
Example: 
<p />
<pre>
 $ enstore info --show-bad
   
   ...
   VO0053 CDMS105770745000000 95530315 
   /pnfs/fs/usr/xyz/my&#95;data/2004-4/.bad.F000xyz43&#95;0000.mdaq.root
   ...
</pre>
<p />
We show only one output line, and it is displayed on two lines for readability. Notice the &#8220;.bad.&#8221; at the front of the filename; this is how the bad files are marked. 
<p />
<em>Replaced by:</em> enstore info --show-bad. 
<p />
<h3><a name="usage_AN4"></a> --usage </h3>
Prints short help message. 
<p />
<h1><a name="enstore_volume_deprecated"></a> enstore volume (deprecated) </h1>
This command has been deprecated for users as of encp v3_2, and replaced (along with enstore file) with enstore info (see section 9.1 enstore info).
<p />
This command communicates with the Volume Clerk (see section 8.2 Volume Clerk) to return information on data volumes.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Syntax_AN5"></a> Syntax: </span></h2>
<p />
<pre>
 &#37; enstore volume &#91;--option &#91;argument] ... ]
</pre>
<p />
<h3><a name="h_help_AN6"></a> -h, --help </h3>
Prints this message (i.e., prints the options). Example: 
<p />
<h3><a name="gvol_VOLUME_NAME_AN1"></a> --gvol &lt;VOLUME_NAME&gt; </h3>
Get info of a volume in human readable time format 
<p />
<h3><a name="just_VOLUME_NAME"></a> --just &lt;VOLUME_NAME&gt; </h3>
Used with --pvols to list problem 
<p />
<h3><a name="list_VOLUME_NAME_AN1"></a> --list &lt;VOLUME_NAME&gt; </h3>
List the files in a volume 
<p />
<h3><a name="ls_active_VOLUME_NAME_AN2"></a> --ls-active &lt;VOLUME_NAME&gt; </h3>
List active files in a volume 
<p />
<h3><a name="ls_sg_count"></a> --ls-sg-count </h3>
List all sg counts 
<p />
<h3><a name="pvols"></a> --pvols </h3>
List all problem volumes 
<p />
<h3><a name="usage_AN5"></a> --usage </h3>
Prints short help message 
<p />
<h3><a name="vol_VOLUME_NAME_AN1"></a> --vol &lt;VOLUME_NAME&gt; </h3>
Get info of a volume 
<p />
<h3><a name="vols"></a> --vols </h3>
List all volumes 
<p />
<h3><a name="gvol_VOLUME_NAME_AN2"></a> --gvol &lt;VOLUME_NAME&gt; </h3>
This is just like enstore volume --vol &lt;VOLUME_NAME&gt;, except that this one prints human-readable time fields (e.g., &#8220;declared&#8221;, &#8220;first_access&#8221; and &#8220;last_access&#8221; fields). 
<p />
<em>Example:</em> 
<p />
<pre>
 $ enstore volume --gvol VO3332 
   {&#39;blocksize&#39;: 131072, 
   &#39;capacity&#95;bytes&#39;: 64424509440L, 
   &#39;declared&#39;: &#39;Wed Jan 16 16:13:57 2002&#39;, 
   &#39;eod&#95;cookie&#39;: &#39;0000&#95;000000000&#95;0000044&#39;, 
   &#39;external&#95;label&#39;: &#39;VO3332&#39;, 
   &#39;first&#95;access&#39;: &#39;Fri May 10 12:59:35 2002&#39;, 
   &#39;last&#95;access&#39;: &#39;Mon Oct 27 22:35:45 2003&#39;, 
   &#39;library&#39;: &#39;9940&#39;, 
   &#39;media&#95;type&#39;: &#39;9940&#39;, 
   &#39;non&#95;del&#95;files&#39;: 43, 
   &#39;remaining&#95;bytes&#39;: 1785262080L, 
   &#39;sum&#95;mounts&#39;: 234, 
   &#39;sum&#95;rd&#95;access&#39;: 213, 
   &#39;sum&#95;rd&#95;err&#39;: 0, 
   &#39;sum&#95;wr&#95;access&#39;: 43, 
   &#39;sum&#95;wr&#95;err&#39;: 0, 
   &#39;system&#95;inhibit&#39;: &#91;&#39;none&#39;, &#39;full&#39;], 
   &#39;user&#95;inhibit&#39;: &#91;&#39;none&#39;, &#39;none&#39;], 
   &#39;volume&#95;family&#39;: &#39;cms.objy&#95;data&#95;files.cpio&#95;odc&#39;, 
   &#39;wrapper&#39;: &#39;cpio&#95;odc&#39;} 
</pre>
<p />
<h3><a name="just_AN1"></a> --just </h3>
Used with --pvols to list problem. See enstore volume 
<p />
<h3><a name="pvols_AN1"></a> --pvols. </h3>
<p />
<h3><a name="list_VOLUME_NAME_AN2"></a> --list &lt;VOLUME_NAME&gt; </h3>
This is an alias for the enstore info --list &lt;VOLUME_NAME&gt; command. See section 9.1 enstore info. 
<p />
<h3><a name="ls_active_VOLUME_NAME_AN3"></a> --ls-active &lt;VOLUME_NAME&gt; </h3>
Lists original file names of active files in a volume. Example: 
<p />
<pre>
 $ enstore volume --ls-active VO3332

   /pnfs/cms/UserFederation/data/jetmet&#95;production/data/Collections/jm&#95;Hit601&#95;g12
   
   5&#95;UCSD/jm02&#95;qqh120&#95;ll/EVD0.jet0102.DB
   /pnfs/cms/UserFederation/data/jetmet&#95;production/data/TAssoc/jm&#95;2x1033PUjm602&#95;T
   kMu&#95;g125&#95;UCSD/jm02&#95;hlt15-20/EVD11.jet0102.DB
   
   /pnfs/cms/UserFederation/data/jetmet&#95;production/data/Digis/jm&#95;2x1033PUjm602&#95;Tk
   
   Mu&#95;g125&#95;UCSD/jm02-hlt0-15/EVD12.jet0102.DB
   /pnfs/cms/UserFederation/data/jetmet&#95;production/data/Hits/jm&#95;Hit601&#95;g125&#95;UCSD/
   jm02&#95;hlt230-300/EVD12.jet0102.DB
   
   ...
</pre>
<p />
<h3><a name="ls_sg_count_VOLUME_NAME_AN1"></a> --ls-sg-count &lt;VOLUME_NAME&gt; </h3>
<p />
Lists allocated tape counts by library and by storage group. If &#8220;storage group&#8221; has value &#8220;none&#8221;, the negative number under &#8220;allocated&#8221; gives the number of tapes that are available in the robot, but not yet assigned to a storage group. 
<p />
<em>Example:</em> 
<p />
<pre>
 $ enstore volume --ls-sg-count VO3332

    library storage group allocated
   &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
   
   ... 
   9940 ktev 189 
   9940 lqcd 150 
   9940 miniboone 132 
   9940 minos 109 
   9940 none -13 
   9940 patriot 20 
   9940 sdss 608 
   9940 test 28 
   9940 theory 70 
   CD-9940B cms 129 
   ... 
</pre>
<p />
<h3><a name="pvols_just_VOLUME_1_VOLUME_2_AN1"></a> --pvols [--just &lt;VOLUME_1&gt; &lt;VOLUME_2&gt; ...] </h3>
<p />
Without --just, this lists all problem volumes. With --just followed by a space-separated list of volume names, it lists only the problem volumes among the given list. 
<p />
The columns returned are: volume name, primary status, primary status time, secondary status, secondary status time. (The time fields are relatively new; not all volumes will display them.) 
<p />
<em>Example:</em> 
<p />
<pre>
 $ enstore volume --pvols 

   &#61;&#61;&#61;&#61; readonly
   LEGL10 none &#42; readonly 0913-1540
   LEGL98 none &#42; readonly 0819-2329
   ...
   &#61;&#61;&#61;&#61; full
   ...
   VO4845 none &#42; full &#42;
   VO4846 none 1023-1032 full &#42;
   VO4847 none &#42; full &#42;
   VO4848 none &#42; full &#42;
   VO4849 none &#42; full &#42;
   VO4850 none &#42; full 1016-2315
   VO4851 none &#42; full 1017-0409
   ...
$ enstore volume --pvols --just VO3332
   (no sample output available)
</pre>
<p />
<h3><a name="vol_VOLUME_NAME_AN2"></a> --vol &lt;VOLUME_NAME&gt; </h3>
<p />
Returns detailed information about specified volume 
<p />
<em>Example:</em>
<p />
<pre>
 $ enstore volume --vol VO3332
   
   {&#39;blocksize&#39;: 131072, 
   &#39;capacity&#95;bytes&#39;: 64424509440L, 
   &#39;declared&#39;: 1011219237.849051, 
   &#39;eod&#95;cookie&#39;: &#39;0000&#95;000000000&#95;0000044&#39;, 
   &#39;external&#95;label&#39;: &#39;VO3332&#39;, 
   &#39;first&#95;access&#39;: 1021053575.259737, 
   &#39;last&#95;access&#39;: 1067315745.238969, 
   &#39;library&#39;: &#39;9940&#39;, 
   &#39;media&#95;type&#39;: &#39;9940&#39;, 
   &#39;non&#95;del&#95;files&#39;: 43, 
   &#39;remaining&#95;bytes&#39;: 1785262080L, 
   &#39;sum&#95;mounts&#39;: 234, 
   &#39;sum&#95;rd&#95;access&#39;: 213, 
   &#39;sum&#95;rd&#95;err&#39;: 0, 
   &#39;sum&#95;wr&#95;access&#39;: 43, 
   &#39;sum&#95;wr&#95;err&#39;: 0,
   &#39;system&#95;inhibit&#39;: &#91;&#39;none&#39;, &#39;full&#39;],
   &#39;user&#95;inhibit&#39;: &#91;&#39;none&#39;, &#39;none&#39;], 
   &#39;volume&#95;family&#39;: &#39;cms.objy&#95;data&#95;files.cpio&#95;odc&#39;, 
   &#39;wrapper&#39;: &#39;cpio&#95;odc&#39;}
</pre>
<p />
<h3><a name="vols_AN1"></a> --vols </h3>
Lists all volumes with their available space, the system inhibits, the library, the volume family (period-separated concatenation of storage group, file family and file family wrapper) and any comments. 
<p />
<em>Example:</em> 
<p />
<pre>
 $ enstore volume --vols
   
   label avail. system&#95;inhibit library vol&#95;family comment 
   ... 
   VO0053 1.19GB (none full ) eagle cms.objy&#95;data&#95;files.cpio&#95;odc 
   VO0054 0.51GB (none full ) eagle cms.objy&#95;data&#95;files.cpio&#95;odc 
   VO0055 0.17GB (none full ) eagle theory.theory-canopy-C.cpio&#95;odc 
   VO0056 0.65GB (none full ) eagle theory.theory-canopy-D.cpio&#95;odc 
   ... 
</pre></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Sandbox<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Main/TWikiUsers" class="twikiLink">TWikiUsers</a> &gt; <a href="/bin/view/Main/ForrestChristian" class="twikiLink">ForrestChristian</a> &gt; <a href="/bin/view/Sandbox/ForrestChristianSandbox" class="twikiLink">ForrestChristianSandbox</a> &gt; <a href="/bin/view/Sandbox/EnstoreIntro" class="twikiLink">EnstoreIntro</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>EnstoreCommands</span> <br />    
Topic revision: r4 - 16 Dec 2008 - 16:37:44 - <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />