<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> DCacheChimera &lt; Storage &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Storage/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Storage/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Storage/DCacheChimera?_T=16 Feb 2017" type="application/x-wiki" title="edit DCacheChimera" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Storage/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Storage/DCacheChimera"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#0000FF;
	}
	.patternBookView {
		border-color:#0000FF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> 
<h1><a name="DCache_Chimera"></a>  <strong><noop>DCache Chimera</strong> </h1>
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#About_this_document">About this document</a>
</li> <li> <a href="?cover=print#Introduction">Introduction</a>
</li> <li> <a href="?cover=print#Engineering_Considerations">Engineering Considerations</a>
</li> <li> <a href="?cover=print#Software_Requirements"> Software Requirements</a>
</li> <li> <a href="?cover=print#Installation">Installation</a>
</li> <li> <a href="?cover=print#PNFS_Chimera_Migration">PNFS-&gt;Chimera Migration</a>
</li> <li> <a href="?cover=print#Support">Support</a>
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="About_this_document"></a> About this document </span></h2>
This document is intended for  <ul>
<li> users who would like to learn more about Chimera namespace used by dCache
</li> <li> storage administrators who would like to configure their SE to use Chimera
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Introduction"></a> Introduction </span></h2>
Chimera is a library providing a hierarchical name space with associated meta data. Where pools in dCache store the content of files, Chimera stores the names and meta data of those files. Chimera itself stores the data in a relational database. 
<p />
Chimera is the replacement and successor of PNFS, the original dCache name service. In any distributed storage system the nameserver can be a bottleneck. The primary way of achieving more performance was allowing access to nameserver (Chimera) from dCache components through an API, as opposed to requiring all communication through the filesystem interface as is the case with PNFS. Chimera also provides a mountable filesystem which satisfies the NFS 4.1 specification.The NFS 4.1 specification provides for mounting distributed storage in such a way that ordinary unix commands (cp, ls, etc) may work without modification.
<p />
The <a href="http://www.dcache.org/manuals/workshop2007/tigran-chimera-status.pdf" target="_top">Chimera Status</a> and <a href="http://www.dcache.org/manuals/d-grid/Chimera_goettingen.pdf" target="_top">Chimera Overview</a> talks are good sources for learning more about Chimera and its advantages over PNFS.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Engineering_Considerations"></a> Engineering Considerations </span></h2>
For the chimera node: <ul>
<li> 8 GB RAM
</li> <li> Postgres databases on raided disk (RAID 5) with back-up performed regularly 
</li> <li> Disk should be used exclusively for the Chimera database
</li></ul> 
<p />
<img width="16" alt="warning" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/warning.gif" height="16" border="0" /> All user interactions with dCache will use the PnfsManager. This means that the throughput of user interactions will depend on
     the speed of PnfsManager, and so on the speed of the namespace. If these components are slow then dCache will be slow. 
     Therefore, when buying machines, the "chimera node" should be one of the fastest machines.
     If possible, buy enough memory so the machine's free memory (after starting the services) is big enough to store the entire namespace 
     in RAM. 8GB of RAM should be enough to handle information for 1,000,000 files. PostGreSQL will use the kernel filesystem block-cache to cache database information. If there's sufficient free memory to store 
     the entire namespace then database reads never need to fetch information from disk, which will improve dCache performance.</p>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Software_Requirements"></a> Software Requirements </span></h2> <ul>
<li> dCache version &gt;= 1.9.0-4
</li> <li> JDK &gt;= 1.5.0
</li> <li> JDBC interface to RDBMS (tested with PostgreSQL 8.3, Oracle 10g and DB2 v9.1). The JDBC-driver for PostgreSQL is already included in the dCache package.<br></br>     Note: Although Chimera will work with PostgreSQL v8.2, it is recommended to use v8.3 or later. In particular, it seems that PostGreSQL v8.2 is very slow at importing migrated SQL emitted by the pnfsDump utility
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Installation"></a> Installation </span></h2>
The <a href="http://vdt.cs.wisc.edu/extras//3.0.3/InstallingDcacheForOSG.README.html" target="_top">VDT-dCache installation</a> instructions include steps on configuring your SE to use Chimera. Chimera gets installed automatically during the dCache installation process.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="PNFS_Chimera_Migration"></a> PNFS-&gt;Chimera Migration </span></h2>
Please read the <a href="http://vdt.cs.wisc.edu/extras//3.0.3/PNFSChimeraMigration.html" target="_top">VDT-dCache migration to chimera</a> instructions on how to migrate from PNFS to Chimera.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Support"></a> Support </span></h2>
If you need help or have any questions, please send email to <a href="mailto&#58;osg&#45;storage&#64;opensciencegrid&#46;org">osg-storage&#64;opensciencegrid.org</a>
<p />
<!-- CONTENT MANAGEMENT PROJECT
############################################################################################################
 DEAR DOCUMENT OWNER
 <code><b>===============</b></code>
<p />
 Thank you for claiming ownership for this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/Storage/FirstLast?topicparent=Storage.DCacheChimera" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local OWNER = <span class="twikiNewLink">NehaSharma<a href="/bin/edit/Storage/NehaSharma?topicparent=Storage.DCacheChimera" rel="nofollow" title="NehaSharma (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
 Please define the document area, choose one of the defined areas from the next line
 DOC_AREA = (<span class="twikiNewLink">ComputeElement<a href="/bin/edit/Storage/ComputeElement?topicparent=Storage.DCacheChimera" rel="nofollow" title="ComputeElement (this topic does not yet exist; you can create it)">?</a></span>|Storage|VO|Security|User|Monitoring|General|Trash/Trash/Integration|Operations|Tier3) <ul>
<li> Local DOC_AREA       = Storage
</li></ul> 
<p />
 define the primary role the document serves, choose one of the defined roles from the next line
 DOC_ROLE = (<span class="twikiNewLink">EndUser<a href="/bin/edit/Storage/EndUser?topicparent=Storage.DCacheChimera" rel="nofollow" title="EndUser (this topic does not yet exist; you can create it)">?</a></span>|Student|Developer|SysAdmin|VOManager) <ul>
<li> Local DOC_ROLE       = <span class="twikiNewLink">SysAdmin<a href="/bin/edit/Storage/SysAdmin?topicparent=Storage.DCacheChimera" rel="nofollow" title="SysAdmin (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
 Please define the document type, choose one of the defined types from the next line
 DOC_TYPE = (Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge) <ul>
<li> Local DOC_TYPE       = <span class="twikiNewLink">HowTo<a href="/bin/edit/Storage/HowTo?topicparent=Storage.DCacheChimera" rel="nofollow" title="HowTo (this topic does not yet exist; you can create it)">?</a></span>  Please define if this document in general needs to be reviewed before release ( 1 | 0 )
</li> <li> Local INCLUDE_REVIEW = 1
</li></ul> 
<p />
 Please define if this document in general needs to be tested before release ( 1 | 0 ) <ul>
<li> Local INCLUDE_TEST   = 0
</li></ul> 
<p />
 change to 1 once the document is ready to be reviewed and back to 0 if that is not the case <ul>
<li> Local REVIEW_READY   = 1
</li></ul> 
<p />
 change to 1 once the document is ready to be tested and back to 0 if that is not the case <ul>
<li> Local TEST_READY     = 0
</li></ul> 
<p />
 change to 1 only if the document has passed the review and the test (if applicable) and is ready for release <ul>
<li> Local RELEASE_READY  = 1
</li></ul> 
<p />
<p />
 DEAR DOCUMENT REVIEWER
 <code><b>==================</b></code>
<p />
 Thank for reviewing this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/Storage/FirstLast?topicparent=Storage.DCacheChimera" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local REVIEWER       = <span class="twikiNewLink">TanyaLevshina<a href="/bin/edit/Storage/TanyaLevshina?topicparent=Storage.DCacheChimera" rel="nofollow" title="TanyaLevshina (this topic does not yet exist; you can create it)">?</a></span> Please define the review status for this document to be in progress ( 2 ), failed ( 0 ) or passed ( 1 )
</li> <li> Local REVIEW_PASSED  = 1
</li></ul> 
<p />
<p />
 DEAR DOCUMENT TESTER
 <code><b>================</b></code>
<p />
 Thank for testing this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/Storage/FirstLast?topicparent=Storage.DCacheChimera" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local TESTER         =  Please define the test status for this document to be in progress ( 2 ), failed ( 0 ) or passed ( 1 )
</li> <li> Local TEST_PASSED    = 2
</li></ul> 
############################################################################################################
--></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Storage<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Storage/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>DCacheChimera</span> <br />    
Topic revision: r22 - 06 Dec 2016 - 18:13:14 - <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />