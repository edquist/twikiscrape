<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> TWikiTimeDotPm &lt; TWiki &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/TWiki/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/TWiki/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/TWiki/TWikiTimeDotPm?_T=16 Feb 2017" type="application/x-wiki" title="edit TWikiTimeDotPm" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/TWiki/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/TWiki/TWikiTimeDotPm"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFD8AA ;
	}
	.patternBookView {
		border-color:#FFD8AA ;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Package_TWiki_Time"></a> Package <code>TWiki::Time</code> </h1>
<p />
Time handling functions.
<p />
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Package_TWiki_Time"> Package TWiki::Time</a> <ul>
<li> <a href="?cover=print#StaticMethod_parseTime_szDate_iS"> StaticMethod parseTime <tt>($szDate) -&gt; $iSecs</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_formatTime_epochSec"> StaticMethod formatTime <tt>($epochSeconds,$formatString,$outputTimeZone) -&gt; $value</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_formatDelta_s_strin"> StaticMethod formatDelta <tt>($s) -&gt; $string</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_parseInterval_szInt"> StaticMethod parseInterval <tt>($szInterval) -&gt; [$iSecs,$iSecs]</tt></a>
</li></ul> 
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_parseTime_szDate_iS"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>parseTime</strong> <tt>($szDate) -&gt; $iSecs</tt> </span></h2>
<p />
Convert string date/time to seconds since epoch. <ul>
<li> <code>$sDate</code> - date/time string
</li></ul> 
<p />
Handles the following formats: <ul>
<li> 31 Dec 2001 - 23:59
</li> <li> 2001/12/31 23:59:59
</li> <li> 2001.12.31.23.59.59
</li> <li> 2001/12/31 23:59
</li> <li> 2001.12.31.23.59
</li> <li> 2001-12-31T23:59:59Z
</li> <li> 2001-12-31T23:59:59+01:00
</li> <li> 2001-12-31T23:59Z
</li> <li> 2001-12-31T23:59+01:00
</li></ul> 
<p />
If the date format was not recognised, will return 0.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_formatTime_epochSec"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>formatTime</strong> <tt>($epochSeconds,$formatString,$outputTimeZone) -&gt; $value</tt> </span></h2> <ul>
<li> <code>$epochSeconds</code> epochSecs GMT
</li> <li> <code>$formatString</code> twiki time date format, default <code>$day $month $year - $hour:$min</code>
</li> <li> <code>$outputTimeZone</code> timezone to display, <code>gmtime</code> or <code>servertime</code>, default is whatever is set in $TWiki::cfg{DisplayTimeValues}
</li></ul> 
<code>$formatString</code> supports:
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
                  <table cellspacing="0" id="table1" cellpadding="0" class="twikiTable" rules="cols" border="1">   
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> $seconds </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> secs </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> $minutes </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> mins </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> $hours </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> hours </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> $day </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> date </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> $wday </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> weekday name </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> $dow </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> day number (0 = Sunday) </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> $week </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> week number </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> $month </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> month name </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> $mo </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> month number </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> $year </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> 4-digit year </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> $ye </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> 2-digit year </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> $http </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> ful HTTP header format date/time </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> $email </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> full email format date/time </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> $rcs </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> full RCS format date/time </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> $epoch </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> seconds since 1st January 1970 </td>
		</tr>   </table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_formatDelta_s_strin"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>formatDelta</strong> <tt>($s) -&gt; $string</tt> </span></h2>
<p />
Format a time in seconds as a string. For example,
"1 day, 3 hours, 2 minutes, 6 seconds"
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_parseInterval_szInt"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>parseInterval</strong> <tt>($szInterval) -&gt; [$iSecs,$iSecs]</tt> </span></h2>
<p />
Convert string representing a time interval to a pair of integers
representing the amount of seconds since epoch for the start and end
extremes of the time interval.
<p /> <ul>
<li> <code>$szInterval</code> - time interval string
</li></ul> 
<p />
in yacc syntax, grammar and actions:
<pre>
interval ::&#61; date                 { $$.start &#61; fillStart($1); $$.end &#61; fillEnd($1); }
         &#124; date &#39;/&#39; date          { $$.start &#61; fillStart($1); $$.end &#61; fillEnd($3); }
         &#124; &#39;P&#39; duration &#39;/&#39; date  { $$.start &#61; fillEnd($4)-$2; $$.end &#61; fillEnd($4); }
         &#124; date &#39;/&#39; &#39;P&#39; duration  { $$.start &#61; fillStart($1); $$.end &#61; fillStart($1)+$4; }
         ;
</pre>
an <code>interval</code> may be followed by a timezone specification string (this is not supported yet).
<p />
<code>duration</code> has the form (regular expression):
<pre>
   P(&#60;number&#62;&#60;nameOfDuration&#62;)+
</pre>
<p />
nameOfDuration may be one of: <ul>
<li> y(year), m(month), w(week), d(day), h(hour), M(minute), S(second)
</li></ul> 
<p />
<code>date</code> follows ISO8601 and must include hypens.  (any amount of trailing
       elements may be omitted and will be filled in differently on the
       differents ends of the interval as to include the longest possible
       interval):
<p /> <ul>
<li> 2001-01-01T00:00:00
</li> <li> 2001-12-31T23:59:59
</li></ul> 
<p />
timezone is optional and not supported yet.
<p />
If the format is not recognised, will return empty interval [0,0].
<p />
TODO: timezone
      testing, especially on non valid strings
<p /></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: TWiki<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>TWikiTimeDotPm</span> <br />    
Topic revision: r1 - 01 Feb 2006 - 12:01:25 - <a href="/bin/view/Main/TWikiContributor" class="twikiLink">TWikiContributor</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />