<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> FormattedSearch &lt; TWiki &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/TWiki/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/TWiki/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/TWiki/FormattedSearch?_T=16 Feb 2017" type="application/x-wiki" title="edit FormattedSearch" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/TWiki/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/TWiki/FormattedSearch"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFD8AA ;
	}
	.patternBookView {
		border-color:#FFD8AA ;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> 
<h1><a name="TWiki_Formatted_Search"></a> TWiki Formatted Search </h1>
<p />
<em>Inline search feature allows flexible formatting of search result</em>
<p />
The default output format of a <code><a href="/bin/view/TWiki/VarSEARCH" class="twikiLink">%SEARCH{...}%</a></code> is a table consisting of topic names and topic summaries. Use the <code>format="..."</code> parameter to customize the search result. The format parameter typically defines a bullet or a table row containing variables, such as <code>%SEARCH{ "food" format="| $topic | $summary |" }%</code>. See <code><a href="/bin/view/TWiki/VarSEARCH" class="twikiLink">%SEARCH{...}%</a></code> for other search parameters, such as <code>separator=""</code>.
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#TWiki_Formatted_Search"> TWiki Formatted Search</a> <ul>
<li> <a href="?cover=print#Syntax"> Syntax</a> <ul>
<li> <a href="?cover=print#1_header_parameter"> 1. header="..." parameter</a>
</li> <li> <a href="?cover=print#2_format_parameter"> 2. format="..." parameter</a>
</li></ul> 
</li> <li> <a href="?cover=print#Examples"> Examples</a> <ul>
<li> <a href="?cover=print#Bullet_list_showing_topic_name_a"> Bullet list showing topic name and summary</a>
</li> <li> <a href="?cover=print#Table_showing_form_field_values"> Table showing form field values of topics with a form</a>
</li> <li> <a href="?cover=print#Extract_some_text_from_a_topic_u"> Extract some text from a topic using regular expression</a>
</li> <li> <a href="?cover=print#Nested_Search"> Nested Search</a>
</li> <li> <a href="?cover=print#Most_recently_changed_pages"> Most recently changed pages</a>
</li> <li> <a href="?cover=print#Search_with_conditional_output"> Search with conditional output</a>
</li> <li> <a href="?cover=print#Embedding_search_forms_to_return"> Embedding search forms to return a formatted result</a>
</li></ul> 
</li></ul> 
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Syntax"></a> Syntax </span></h2>
<p />
Two parameters can be used to specify a customized search result:
<p />
<h3><a name="1_header_parameter"></a> 1. <code>header="..."</code> parameter </h3>
<p />
Use the header parameter to specify the header of a search result. It should correspond to the format of the format parameter. This parameter is optional. <br /> Example: <code>header="| *Topic:* | *Summary:* |"</code>
<p />
Variables that can be used in the header string:
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table1" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/TWiki/FormattedSearch?cover=print;sortcol=0;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Name:</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/TWiki/FormattedSearch?cover=print;sortcol=1;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Expands To:</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$web</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Name of the web </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$n</code> or <code>$n()</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> New line. Use <code>$n()</code> if followed by alphanumeric character, e.g. write <code>Foo$n()Bar</code> instead of <code>Foo$nBar</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$nop</code> or <code>$nop()</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Is a "no operation". This variable gets removed; useful for nested search </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$quot</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Double quote (<code>"</code>) (\" also works) </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$percnt</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Percent sign (<code>%</code>) </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>$dollar</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> Dollar sign (<code>$</code>) </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
<h3><a name="2_format_parameter"></a> 2. <code>format="..."</code> parameter </h3>
<p />
Use the format parameter to specify the format of one search hit.
<br /> Example: <code>format="| $topic | $summary |"</code>
<p />
Variables that can be used in the format string:
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table2" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/TWiki/FormattedSearch?cover=print;sortcol=0;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Name:</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/TWiki/FormattedSearch?cover=print;sortcol=1;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Expands To:</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$web</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Name of the web </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$topic</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Topic name </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$topic(20)</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Topic name, "<tt>- </tt>" hyphenated each 20 characters </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$topic(30, -&lt;br /&gt;)</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Topic name, hyphenated each 30 characters with separator "<tt>-&lt;br /&gt;</tt>" </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$topic(40, ...)</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Topic name, shortended to 40 characters with "<tt>...</tt>" indication </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$parent</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Name of parent topic; empty if not set </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$parent(20)</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Name of parent topic, same hyphenation/shortening like <code>$topic()</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$text</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Formatted topic text. In case of a <code>multiple="on"</code> search, it is the line found for each search hit. </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$locked</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> LOCKED flag (if any) </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$date</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Time stamp of last topic update, e.g. <code>16 Feb 2017 - 02:37</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$isodate</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Time stamp of last topic update, e.g. <code>2017-02-16T02:37Z</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$rev</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Number of last topic revision, e.g. <code>4</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$username</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Login name of last topic update, e.g. <code>jsmith</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$wikiname</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Wiki user name of last topic update, e.g. <code>JohnSmith</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$wikiusername</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Wiki user name of last topic update, like <code>Main.JohnSmith</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$createdate</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Time stamp of topic revision 1 </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$createusername</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Login name of topic revision 1, e.g. <code>jsmith</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$createwikiname</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Wiki user name of topic revision 1, e.g. <code>JohnSmith</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$createwikiusername</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Wiki user name of topic revision 1, e.g. <code>Main.JohnSmith</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$summary</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Topic summary, just the plain text, all formatting and line breaks removed; up to 162 characters </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$summary(50)</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Topic summary, up to 50 characters shown </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$summary(showvarnames)</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Topic summary, with <code>%ALLTWIKI{...}%</code> variables shown as <code>ALLTWIKI{...}</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$summary(noheader)</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Topic summary, with leading <code>---+ headers</code> removed<br />     <strong><em>Note:</em></strong> The tokens can be combined, for example <code>$summary(100, showvarnames, noheader)</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$changes</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Summary of changes between latest rev and previous rev </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$changes(n)</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Summary of changes between latest rev and rev n </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$formname</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> The name of the form attached to the topic; empty if none </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$formfield(name)</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> The field value of a form field; for example, <code>$formfield(TopicClassification)</code> would get expanded to <code>PublicFAQ</code>. This applies only to topics that have a <a href="/bin/view/TWiki/TWikiForms" class="twikiLink">TWikiForm</a> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$formfield(name, 10)</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Form field value, "<tt>- </tt>" hyphenated each 10 characters </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$formfield(name, 20, -&lt;br /&gt;)</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Form field value, hyphenated each 20 characters with separator "<tt>-&lt;br /&gt;</tt>" </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$formfield(name, 30, ...)</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Form field value, shortended to 30 characters with "<tt>...</tt>" indication </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$pattern(reg-exp)</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> A regular expression pattern to extract some text from a topic (does not search meta data; use <code>$formfield</code> instead). In case of a <code>multiple="on"</code> search, the pattern is applied to the line found in each search hit.<br />â%u20AC¢     Specify a <a href="/bin/view/TWiki/RegularExpression" class="twikiLink">RegularExpression</a> that covers the whole text (topic or line), which typically starts with <code>.*</code>, and must end in <code>.*</code> <br />â%u20AC¢     Put text you want to keep in parenthesis, like <code>$pattern(.*?(from here.*?to here).*)</code> <br />â%u20AC¢     Example: <code>$pattern(.*?\*.*?Email\:\s*([^\n\r]+).*)</code> extracts the e-mail address from a bullet of format <code>* Email: ...</code> <br />â%u20AC¢     This example has non-greedy <code>.*?</code> patterns to scan for the first occurance of the Email bullet; use greedy <code>.*</code> patterns to scan for the last occurance <br />â%u20AC¢     Limitation: Do not use <code>.*)</code> inside the pattern, e.g. <code>$pattern(.*foo(.*)bar.*)</code> does not work, but <code>$pattern(.*foo(.*?)bar.*)</code> does <br />â%u20AC¢     Note: Make sure that the integrity of a web page is not compromised; for example, if you include an HTML table make sure to include everything including the table end tag </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$count(reg-exp)</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Count of number of times a regular expression pattern appears in the text of a topic (does not search meta data). Follows guidelines for use and limitations outlined above under <code>$pattern(reg-exp)</code>. Example: <code>$count(.*?(---[+][+][+][+]) .*)</code> counts the number of &lt;H4&gt; headers in a page. </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$n</code> or <code>$n()</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> New line. Use <code>$n()</code> if followed by alphanumeric character, e.g. write <code>Foo$n()Bar</code> instead of <code>Foo$nBar</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$nop</code> or <code>$nop()</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Is a "no operation". This variable gets removed; useful for nested search </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$quot</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Double quote (<code>"</code>) (\" also works) </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>$percnt</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Percent sign (<code>%</code>) </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>$dollar</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> Dollar sign (<code>$</code>) </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Examples"></a> Examples </span></h2>
<p />
Here are some samples of formatted searches. The <a href="/bin/view/TWiki/SearchPatternCookbook" class="twikiLink">SearchPatternCookbook</a> has other examples, such as <a href="/bin/view/TWiki/SearchPatternCookbook#SearchUsernames" class="twikiAnchorLink">creating a picklist of usernames</a>, <a href="/bin/view/TWiki/SearchPatternCookbook#SearchTopicChildren" class="twikiAnchorLink">searching for topic children</a> and more.
<p />
<a name="SearchBulletList"></a>
<h3><a name="Bullet_list_showing_topic_name_a"></a> Bullet list showing topic name and summary </h3>
<p />
<strong>Write this:</strong>
<p />
<code>%SEARCH{ "FAQ" scope="topic" nosearch="on" nototal="on" header=" &nbsp; * *Topic: Summary:*" format=" &nbsp; * [[$topic]]: $summary" }%</code>
<p />
<strong>To get this:</strong>
<p /> <ul>
<li> <strong>Topic: Summary:</strong>
</li> <li> <a href="/bin/view/TWiki/NatSkinFAQ" class="twikiLink">NatSkinFAQ</a>: NatSkinFAQ The documentation of nop NatSkin is crap. I'm lost! If you need help there are a couple of options: Create a support request on TWiki:Support/WebHome ...
</li> <li> <a href="/bin/view/TWiki/TWikiFAQ" class="twikiLink">TWikiFAQ</a>: Frequently Asked Questions About TWiki This is a real FAQ, and also a demo of an easily implemented knowledge base solution. To see how it's done, view the source ...
</li> <li> <a href="/bin/view/TWiki/TWikiFaqTemplate" class="twikiLink">TWikiFaqTemplate</a>: FAQ: Answer: Back to: TWikiFAQ
</li> <li> <a href="/bin/view/TWiki/TextFormattingFAQ" class="twikiLink">TextFormattingFAQ</a>: Text Formatting FAQ The most frequently asked questions about text formatting are answered. Also, TextFormattingRules contains the complete TWiki shorthand system ...
</li></ul> 
<p />
<p />
<h3><a name="Table_showing_form_field_values"></a> Table showing form field values of topics with a form </h3>
<p />
In a web where there is a form that contains a <code>TopicClassification</code> field, an <code>OperatingSystem</code> field and an <code>OsVersion</code> field we could write:
<p />
<code>| *Topic:* | *OperatingSystem:* | *OsVersion:* |</code> <br />
<code>%SEARCH{ "[T]opicClassification.*?value=\"[P]ublicFAQ\"" scope="text" type="regex" nosearch="on" nototal="on" format="| [[$topic]] | $formfield(OperatingSystem) | $formfield(OsVersion) |" }%</code>
<p />
To get this:
<p />
<table border="1" cellspacing="0" cellpadding="1">
<tr>
 <th bgcolor="#99CCCC"> <strong>Topic:</strong> </th>
 <th bgcolor="#99CCCC"> <strong>OperatingSystem:</strong> </th>
 <th bgcolor="#99CCCC"> <strong>OsVersion:</strong> </th></tr>
<tr>
 <td>  <a href="/bin/view/Sandbox/IncorrectDllVersionW32PTH10DLL">IncorrectDllVersionW32PTH10DLL</a>  </td><td>  <a href="/bin/view/Sandbox/OsWin">OsWin</a>  </td><td>  95/98  </td></tr>
<tr>
 <td>  <a href="/bin/view/Sandbox/WinDoze95Crash">WinDoze95Crash</a>  </td>
 <td>  <a href="/bin/view/Sandbox/OsWin">OsWin</a>  </td>
 <td>  95  </td></tr>
</table>
<p />
<p />
<h3><a name="Extract_some_text_from_a_topic_u"></a> Extract some text from a topic using regular expression </h3>
<p />
<strong>Write this:</strong>
<p />
<code>%SEARCH{ "__Back to\:__ TWikiFAQ" scope="text" type="regex" nosearch="on" nototal="on" header="TWiki FAQs:" format=" &nbsp; * $pattern(.*?FAQ\:[\n\r]*([^\n\r]+).*) [[$topic][Answer...]]" }%</code>
<p />
<strong>To get this:</strong>
<p />
TWiki FAQs: <ul>
<li> How can I create a simple <a href="/bin/view/TWiki/TWikiForms" class="twikiLink">TWiki Form</a> based application? <a href="/bin/view/TWiki/AnApplicationWithWikiForm" class="twikiLink">Answer...</a>
</li> <li> How do I delete or rename a topic? <a href="/bin/view/TWiki/DeleteOrRenameATopic" class="twikiLink">Answer...</a>
</li> <li> How do I delete or rename a file attachment? <a href="/bin/view/TWiki/DeleteOrRenameAnAttachment" class="twikiLink">Answer...</a>
</li> <li> Why does the topic revision not increase when I edit a topic? <a href="/bin/view/TWiki/EditDoesNotIncreaseTheRevision" class="twikiLink">Answer...</a>
</li> <li> TWiki has a GPL (GNU General Public License). What is GPL? <a href="/bin/view/TWiki/GnuGeneralPublicLicense" class="twikiLink">Answer...</a>
</li> <li> I've problems with the WebSearch. There is no Search Result on any inquiry. By clicking the Index topic it's the same problem. <a href="/bin/view/TWiki/SearchDoesNotWork" class="twikiLink">Answer...</a>
</li> <li> What happens if two of us try to edit the same topic simultaneously? <a href="/bin/view/TWiki/SimultaneousEdits" class="twikiLink">Answer...</a>
</li> <li> I would like to install TWiki on my server. Can I get the source? <a href="/bin/view/TWiki/TWikiDownload" class="twikiLink">Answer...</a>
</li> <li> What does the "T" in TWiki stand for? <a href="/bin/view/TWiki/WhatDoesTWikiStandFor" class="twikiLink">Answer...</a>
</li> <li> So what is this WikiWiki thing exactly?  <a href="/bin/view/TWiki/WhatIsWikiWiki" class="twikiLink">Answer...</a>
</li> <li> Everybody can edit any page, this is scary. Doesn't that lead to chaos? <a href="/bin/view/TWiki/WikiCulture" class="twikiLink">Answer...</a>
</li></ul> 
<p />
<p />
<h3><a name="Nested_Search"></a> Nested Search </h3>
<p />
Search can be nested. For example, search for some topics, then form a new search for each topic found in the first search. The idea is to build the nested search string using a formatted search in the first search.
<p />
Here is an example. Let's search for all topics that contain the word "culture" (first search), and let's find out where each topic found is linked from (second search).
<p /> <ul>
<li> First search: <ul>
<li> <code>%SEARCH{ "culture" format=" &nbsp; * $topic is referenced by: (list all references)" nosearch="on" nototal="on" }%</code>
</li></ul> 
</li> <li> Second search. For each hit we want this search: <ul>
<li> <code>%SEARCH{ "(topic found in first search)" format="$topic" nosearch="on" nototal="on" separator=", " }%</code>
</li></ul> 
</li> <li> Now let's nest the two. We need to escape the second search, e.g. the first search will build a valid second search string. Note that we escape the second search so that it does not get evaluated prematurely by the first search: <ul>
<li> Use <code>$percnt</code> to escape the leading percent of the second search
</li> <li> Use <code>\"</code> to escape the double quotes
</li> <li> Use <code>$dollar</code> to escape the <code>$</code> of <code>$topic</code>
</li> <li> Use <code>$nop</code> to escape the <code>}%</code> sequence
</li></ul> 
</li></ul> 
<p />
<strong>Write this:</strong>
<p />
<code>%SEARCH{ "culture" format=" &nbsp; * $topic is referenced by:$n&nbsp; &nbsp; &nbsp; * $percntSEARCH{ \"$topic\" format=\"$dollartopic\" nosearch=\"on\" nototal=\"on\" separator=\", \" }$nop%" nosearch="on" nototal="on" }%</code>
<p />
<strong>To get this:</strong>
<p /> <ul>
<li> <a href="/bin/view/TWiki/ATasteOfTWiki" class="twikiLink">ATasteOfTWiki</a> is referenced by: <ul>
<li> <a href="/bin/view/TWiki/ATasteOfTWiki" class="twikiLink">ATasteOfTWiki</a>, <a href="/bin/view/TWiki/ATasteOfTWikiTemplate" class="twikiLink">ATasteOfTWikiTemplate</a>, <a href="/bin/view/TWiki/NewUserTemplate" class="twikiLink">NewUserTemplate</a>, <a href="/bin/view/TWiki/TWikiUsersGuide" class="twikiLink">TWikiUsersGuide</a>, <a href="/bin/view/TWiki/WebLeftBar" class="twikiLink">WebLeftBar</a>, <a href="/bin/view/TWiki/WelcomeGuest" class="twikiLink">WelcomeGuest</a>
</li></ul> 
</li> <li> <a href="/bin/view/TWiki/FormattedSearch" class="twikiCurrentTopicLink twikiLink">FormattedSearch</a> is referenced by: <ul>
<li> <a href="/bin/view/TWiki/EditTablePlugin" class="twikiLink">EditTablePlugin</a>, <a href="/bin/view/TWiki/EmptyPlugin" class="twikiLink">EmptyPlugin</a>, <a href="/bin/view/TWiki/FlexWebListPlugin" class="twikiLink">FlexWebListPlugin</a>, <a href="/bin/view/TWiki/FormatTokens" class="twikiLink">FormatTokens</a>, <a href="/bin/view/TWiki/GlobalReplacePlugin" class="twikiLink">GlobalReplacePlugin</a>, <a href="/bin/view/TWiki/GoogleAnalyticsPlugin" class="twikiLink">GoogleAnalyticsPlugin</a>, <a href="/bin/view/TWiki/HeadlinesPlugin" class="twikiLink">HeadlinesPlugin</a>, <a href="/bin/view/TWiki/LinkOptionsPlugin" class="twikiLink">LinkOptionsPlugin</a>, <a href="/bin/view/TWiki/ManagingWebs" class="twikiLink">ManagingWebs</a>, <a href="/bin/view/TWiki/MySideBarTemplate" class="twikiLink">MySideBarTemplate</a>, <a href="/bin/view/TWiki/PreferencesPlugin" class="twikiLink">PreferencesPlugin</a>, <a href="/bin/view/TWiki/RenderListPlugin" class="twikiLink">RenderListPlugin</a>, <a href="/bin/view/TWiki/SearchHelp" class="twikiLink">SearchHelp</a>, <a href="/bin/view/TWiki/SearchPatternCookbook" class="twikiLink">SearchPatternCookbook</a>, <a href="/bin/view/TWiki/SlideShowPlugin" class="twikiLink">SlideShowPlugin</a>, <a href="/bin/view/TWiki/SmiliesPlugin" class="twikiLink">SmiliesPlugin</a>, <a href="/bin/view/TWiki/SpellerPagesPlugin" class="twikiLink">SpellerPagesPlugin</a>, <a href="/bin/view/TWiki/SpreadSheetPlugin" class="twikiLink">SpreadSheetPlugin</a>, <a href="/bin/view/TWiki/TWikiDocumentation" class="twikiLink">TWikiDocumentation</a>, <a href="/bin/view/TWiki/TWikiForms" class="twikiLink">TWikiForms</a>, <a href="/bin/view/TWiki/TWikiHistory" class="twikiLink">TWikiHistory</a>, <a href="/bin/view/TWiki/TWikiNetSkinPlugin" class="twikiLink">TWikiNetSkinPlugin</a>, <a href="/bin/view/TWiki/TWikiReferenceManual" class="twikiLink">TWikiReferenceManual</a>, <a href="/bin/view/TWiki/TWikiReleaseNotes04x00" class="twikiLink">TWikiReleaseNotes04x00</a>, <a href="/bin/view/TWiki/TWikiReleaseNotes04x01" class="twikiLink">TWikiReleaseNotes04x01</a>, <a href="/bin/view/TWiki/TWikiScripts" class="twikiLink">TWikiScripts</a>, <a href="/bin/view/TWiki/TWikiSearchDotPm" class="twikiLink">TWikiSearchDotPm</a>, <a href="/bin/view/TWiki/TWikiSiteTools" class="twikiLink">TWikiSiteTools</a>, <a href="/bin/view/TWiki/TWikiUISearchDotPm" class="twikiLink">TWikiUISearchDotPm</a>, <a href="/bin/view/TWiki/TWikiVariablesQuickStart" class="twikiLink">TWikiVariablesQuickStart</a>, <a href="/bin/view/TWiki/TagMePlugin" class="twikiLink">TagMePlugin</a>, <a href="/bin/view/TWiki/TwistyPlugin" class="twikiLink">TwistyPlugin</a>, <a href="/bin/view/TWiki/VarMETA" class="twikiLink">VarMETA</a>, <a href="/bin/view/TWiki/VarSEARCH" class="twikiLink">VarSEARCH</a>, <a href="/bin/view/TWiki/VarURLPARAM" class="twikiLink">VarURLPARAM</a>, <a href="/bin/view/TWiki/WebLeftBar" class="twikiLink">WebLeftBar</a>, <a href="/bin/view/TWiki/WelcomeGuest" class="twikiLink">WelcomeGuest</a>, <a href="/bin/view/TWiki/X509UserPlugin" class="twikiLink">X509UserPlugin</a>
</li></ul> 
</li> <li> <a href="/bin/view/TWiki/TWikiAccessControl" class="twikiLink">TWikiAccessControl</a> is referenced by: <ul>
<li> <a href="/bin/view/TWiki/EditTablePlugin" class="twikiLink">EditTablePlugin</a>, <a href="/bin/view/TWiki/FileAttachment" class="twikiLink">FileAttachment</a>, <a href="/bin/view/TWiki/MainFeatures" class="twikiLink">MainFeatures</a>, <a href="/bin/view/TWiki/ManagingTopics" class="twikiLink">ManagingTopics</a>, <a href="/bin/view/TWiki/ManagingUsers" class="twikiLink">ManagingUsers</a>, <a href="/bin/view/TWiki/SitePermissions" class="twikiLink">SitePermissions</a>, <a href="/bin/view/TWiki/SourceCode" class="twikiLink">SourceCode</a>, <a href="/bin/view/TWiki/TWikiAccessControl" class="twikiLink">TWikiAccessControl</a>, <a href="/bin/view/TWiki/TWikiDocumentation" class="twikiLink">TWikiDocumentation</a>, <a href="/bin/view/TWiki/TWikiForms" class="twikiLink">TWikiForms</a>, <a href="/bin/view/TWiki/TWikiFuncDotPm" class="twikiLink">TWikiFuncDotPm</a>, <a href="/bin/view/TWiki/TWikiHistory" class="twikiLink">TWikiHistory</a>, <a href="/bin/view/TWiki/TWikiPreferences" class="twikiLink">TWikiPreferences</a>, <a href="/bin/view/TWiki/TWikiPreferencesKyle" class="twikiLink">TWikiPreferencesKyle</a>, <a href="/bin/view/TWiki/TWikiPreferencess" class="twikiLink">TWikiPreferencess</a>, <a href="/bin/view/TWiki/TWikiReferenceManual" class="twikiLink">TWikiReferenceManual</a>, <a href="/bin/view/TWiki/TWikiReleaseNotes04x01" class="twikiLink">TWikiReleaseNotes04x01</a>, <a href="/bin/view/TWiki/TWikiReleaseNotes04x02" class="twikiLink">TWikiReleaseNotes04x02</a>, <a href="/bin/view/TWiki/TWikiScripts" class="twikiLink">TWikiScripts</a>, <a href="/bin/view/TWiki/TWikiSiteTools" class="twikiLink">TWikiSiteTools</a>, <a href="/bin/view/TWiki/TWikiTopics" class="twikiLink">TWikiTopics</a>, <a href="/bin/view/TWiki/TWikiTutorial" class="twikiLink">TWikiTutorial</a>, <a href="/bin/view/TWiki/TWikiUserAuthentication" class="twikiLink">TWikiUserAuthentication</a>, <a href="/bin/view/TWiki/TWikiVariables" class="twikiLink">TWikiVariables</a>, <a href="/bin/view/TWiki/VarSEARCH" class="twikiLink">VarSEARCH</a>, <a href="/bin/view/TWiki/WebPreferences" class="twikiLink">WebPreferences</a>, <a href="/bin/view/TWiki/WebPreferencesHelp" class="twikiLink">WebPreferencesHelp</a>, <a href="/bin/view/TWiki/WikiCulture" class="twikiLink">WikiCulture</a>, <a href="/bin/view/TWiki/WikiWord" class="twikiLink">WikiWord</a>
</li></ul> 
</li> <li> <a href="/bin/view/TWiki/TWikiSite" class="twikiLink">TWikiSite</a> is referenced by: <ul>
<li> <a href="/bin/view/TWiki/AdminToolsCategory" class="twikiLink">AdminToolsCategory</a>, <a href="/bin/view/TWiki/InstantEnhancements" class="twikiLink">InstantEnhancements</a>, <a href="/bin/view/TWiki/InterwikiPlugin" class="twikiLink">InterwikiPlugin</a>, <a href="/bin/view/TWiki/ManagingWebs" class="twikiLink">ManagingWebs</a>, <a href="/bin/view/TWiki/StartingPoints" class="twikiLink">StartingPoints</a>, <a href="/bin/view/TWiki/TWikiDocumentation" class="twikiLink">TWikiDocumentation</a>, <a href="/bin/view/TWiki/TWikiGlossary" class="twikiLink">TWikiGlossary</a>, <a href="/bin/view/TWiki/TWikiI18NDotPm" class="twikiLink">TWikiI18NDotPm</a>, <a href="/bin/view/TWiki/TWikiInstallationGuide" class="twikiLink">TWikiInstallationGuide</a>, <a href="/bin/view/TWiki/TWikiPreferences" class="twikiLink">TWikiPreferences</a>, <a href="/bin/view/TWiki/TWikiPreferencesKyle" class="twikiLink">TWikiPreferencesKyle</a>, <a href="/bin/view/TWiki/TWikiPreferencess" class="twikiLink">TWikiPreferencess</a>, <a href="/bin/view/TWiki/TWikiReferenceManual" class="twikiLink">TWikiReferenceManual</a>, <a href="/bin/view/TWiki/TWikiRegistration" class="twikiLink">TWikiRegistration</a>, <a href="/bin/view/TWiki/TWikiReleaseNotes04x02" class="twikiLink">TWikiReleaseNotes04x02</a>, <a href="/bin/view/TWiki/TWikiSite" class="twikiLink">TWikiSite</a>, <a href="/bin/view/TWiki/TWikiTopics" class="twikiLink">TWikiTopics</a>, <a href="/bin/view/TWiki/TWikiTutorial" class="twikiLink">TWikiTutorial</a>, <a href="/bin/view/TWiki/TWikiUserAuthentication" class="twikiLink">TWikiUserAuthentication</a>, <a href="/bin/view/TWiki/TWikiUsersGuide" class="twikiLink">TWikiUsersGuide</a>, <a href="/bin/view/TWiki/WabiSabi" class="twikiLink">WabiSabi</a>, <a href="/bin/view/TWiki/WebLeftBar" class="twikiLink">WebLeftBar</a>, <a href="/bin/view/TWiki/WebSiteTools" class="twikiLink">WebSiteTools</a>, <a href="/bin/view/TWiki/WelcomeGuest" class="twikiLink">WelcomeGuest</a>, <a href="/bin/view/TWiki/WhatDoesTWikiStandFor" class="twikiLink">WhatDoesTWikiStandFor</a>, <a href="/bin/view/TWiki/WhatIsWikiWiki" class="twikiLink">WhatIsWikiWiki</a>, <a href="/bin/view/TWiki/WikiCulture" class="twikiLink">WikiCulture</a>, <a href="/bin/view/TWiki/WikiReferences" class="twikiLink">WikiReferences</a>
</li></ul> 
</li> <li> <a href="/bin/view/TWiki/WabiSabi" class="twikiLink">WabiSabi</a> is referenced by: <ul>
<li> <a href="/bin/view/TWiki/TWikiSite" class="twikiLink">TWikiSite</a>, <a href="/bin/view/TWiki/WabiSabi" class="twikiLink">WabiSabi</a>, <a href="/bin/view/TWiki/WhatIsWikiWiki" class="twikiLink">WhatIsWikiWiki</a>, <a href="/bin/view/TWiki/WikiCulture" class="twikiLink">WikiCulture</a>
</li></ul> 
</li> <li> <a href="/bin/view/TWiki/WhatIsWikiWiki" class="twikiLink">WhatIsWikiWiki</a> is referenced by: <ul>
<li> <a href="/bin/view/TWiki/TWikiReleaseNotes04x00" class="twikiLink">TWikiReleaseNotes04x00</a>, <a href="/bin/view/TWiki/WikiCulture" class="twikiLink">WikiCulture</a>
</li></ul> 
</li> <li> <a href="/bin/view/TWiki/WikiCulture" class="twikiLink">WikiCulture</a> is referenced by: <ul>
<li> <a href="/bin/view/TWiki/TWikiAccessControl" class="twikiLink">TWikiAccessControl</a>, <a href="/bin/view/TWiki/TWikiSite" class="twikiLink">TWikiSite</a>, <a href="/bin/view/TWiki/WabiSabi" class="twikiLink">WabiSabi</a>, <a href="/bin/view/TWiki/WhatIsWikiWiki" class="twikiLink">WhatIsWikiWiki</a>
</li></ul> 
</li></ul> 
<p />
<strong><em>Note:</em></strong> Nested search can be slow, especially if you nest more then 3 times. Nesting is limited to 16 levels. For each new nesting level you need to "escape the escapes", e.g. write <code>$dollarpercntSEARCH{</code> for level three, <code>$dollardollarpercntSEARCH{</code> for level four, etc.
<p />
<h3><a name="Most_recently_changed_pages"></a> Most recently changed pages </h3>
<p />
<strong>Write this:</strong>
<p />
<code>%SEARCH{ "\.*" scope="topic" type="regex" nosearch="on" nototal="on" order="modified" reverse="on"&nbsp; format="| [[$topic]] | $wikiusername&nbsp; | $date |" limit="7" }%</code>
<p />
<strong>To get this:</strong>
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table3" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <a href="/bin/view/TWiki/VarENV" class="twikiLink">VarENV</a> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> 06 Dec 2016 - 18:13 </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <a href="/bin/view/TWiki/TWikiUserAuthentication" class="twikiLink">TWikiUserAuthentication</a> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> 06 Dec 2016 - 18:13 </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <a href="/bin/view/TWiki/TWikiReleaseNotes04x03" class="twikiLink">TWikiReleaseNotes04x03</a> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> 06 Dec 2016 - 18:13 </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <a href="/bin/view/TWiki/TWikiReleaseNotes04x01" class="twikiLink">TWikiReleaseNotes04x01</a> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> 06 Dec 2016 - 18:13 </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <a href="/bin/view/TWiki/TWikiReleaseNotes04x00" class="twikiLink">TWikiReleaseNotes04x00</a> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> 06 Dec 2016 - 18:13 </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <a href="/bin/view/TWiki/TWikiPreferences" class="twikiLink">TWikiPreferences</a> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> 06 Dec 2016 - 18:13 </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <a href="/bin/view/TWiki/TWikiHistory" class="twikiLink">TWikiHistory</a> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> 06 Dec 2016 - 18:13 </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<h3><a name="Search_with_conditional_output"></a> Search with conditional output </h3>
<p />
A regular expression search is flexible, but there are limitations. For example, you cannot show all topics that are up to exactly one week old, or create a report that shows all records with invalid form fields or fields within a certain range, etc. You need some additional logic to format output based on a condition: <ol>
<li> Specify a search which returns more hits then you need
</li> <li> For each search hit apply a spreadsheet formula to determine if the hit is needed
</li> <li> If needed, format and output the result
</li> <li> Else supress the search hit
</li></ol> 
<p />
This requires the <a href="http://twiki.org/cgi-bin/view/Plugins.SpreadSheetPlugin" title="'Plugins.SpreadSheetPlugin' on TWiki.org">TWiki:Plugins.SpreadSheetPlugin</a>. The following example shows all topics that are up to exactly one week old.
<p />
<strong>Write this:</strong>
<p />
<code>%CALC{$SET(weekold, $TIMEADD($TIME(), -7, day))}%</code> <br />    
<code>%SEARCH{ "." scope="topic" type="regex" nosearch="on" nototal="on" order="modified" reverse="on" format="$percntCALC{$IF($TIME($date) &lt; $GET(weekold), &lt;nop&gt;, | [[$topic]] | $wikiusername | $date | $rev |)}$percnt" limit="100" }%</code>
<p /> <ul>
<li> The first line sets the <code>weekold</code> variable to the serialized date of exactly one week ago
</li> <li> The SEARCH has a deferred CALC. The <code>$percnt</code> makes sure that the CALC gets executed once for each search hit
</li> <li> The CALC compares the date of the topic with the <code>weekold</code> date
</li> <li> If topic is older, a <code>&lt;nop&gt;</code> is returned, which gets removed at the end of the TWiki rendering process
</li> <li> Otherwise, the search hit is formatted and returned
</li></ul> 
<p />
<strong>To get this:</strong>
<p />
<p />
<p />
<h3><a name="Embedding_search_forms_to_return"></a> Embedding search forms to return a formatted result </h3>
<p />
Use an HTML form and an embedded formatted search on the same topic. You can link them together with an <code>%URLPARAM{"..."}%</code> variable. Example:
<p />
<strong>Write this:</strong>
<p />
<pre>
&#60;form action&#61;&#34;&#37;SCRIPTURLPATH{&#34;view&#34;}&#37;/&#37;WEB&#37;/&#37;TOPIC&#37;&#34;&#62;
Find Topics: 
&#60;input type&#61;&#34;text&#34; name&#61;&#34;q&#34; size&#61;&#34;32&#34; value&#61;&#34;&#37;URLPARAM{&#34;q&#34; encode&#61;&#34;entity&#34;}&#37;&#34; /&#62;&#38;nbsp;&#60;input type&#61;&#34;submit&#34; class&#61;&#34;twikiSubmit&#34; value&#61;&#34;Search&#34; /&#62;
&#60;/form&#62;
Result:
&#37;SEARCH{ search&#61;&#34;&#37;URLPARAM{&#34;q&#34; encode&#61;&#34;quote&#34;}&#37;&#34; type&#61;&#34;keyword&#34; format&#61;&#34;   &#42; $web.$topic: &#37;BR&#37; $summary&#34; nosearch&#61;&#34;on&#34; }&#37;
</pre>
<p />
<strong>To get this:</strong>
<p />
<form action="/bin/view/TWiki/FormattedSearch">
Find Topics: 
<input type="text" name="q" size="32" value="" />&nbsp;<input type="submit" class="twikiSubmit" value="Search" />
</form>
Result:
<p />
<p />
<strong><em>Related Topics:</em></strong> <a href="/bin/view/TWiki/UserDocumentationCategory" class="twikiLink">UserDocumentationCategory</a>, <a href="/bin/view/TWiki/SearchHelp" class="twikiLink">SearchHelp</a>, <a href="/bin/view/TWiki/TWikiVariables#VarSEARCH" class="twikiAnchorLink">TWikiVariables#VarSEARCH</a>, <a href="/bin/view/TWiki/SearchPatternCookbook" class="twikiLink">SearchPatternCookbook</a>, <a href="/bin/view/TWiki/RegularExpression" class="twikiLink">RegularExpression</a>
<p />
-- <strong><em>Contributors:</em></strong> <a href="http://twiki.org/cgi-bin/view/Main.PeterThoeny" title="'Main.PeterThoeny' on TWiki.org">TWiki:Main.PeterThoeny</a>, <a href="http://twiki.org/cgi-bin/view/Main.CrawfordCurrie" title="'Main.CrawfordCurrie' on TWiki.org">TWiki:Main.CrawfordCurrie</a></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: TWiki<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/TWiki/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a> &gt; <a href="/bin/view/TWiki/TWikiVariables" class="twikiLink">TWikiVariables</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>FormattedSearch</span> <br />    
Topic revision: r20 - 02 Dec 2008 - 02:01:22 - <a href="/bin/view/Main/TWikiContributor" class="twikiLink">TWikiContributor</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />