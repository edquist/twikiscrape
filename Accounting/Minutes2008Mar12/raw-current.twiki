---+!!&lt;nop&gt;%TOPIC%
%TOC%

---++Introduction

Minutes of Gratia meeting
   * Last meeting: [[Minutes2008Mar05][March 05]]
   * Previous meetings: MeetingMinutes
   * Coordinates: Wednesday at 1:30pm CST/CDT, 1-510-665-5437 and use the meeting ID: 2966. 

---++Attending

TBA.
&lt;!--

   * [[Main.PenelopeConstanta][Penelope Constanta]].
   * [[Main.ChrisGreen][Chris Green]].
   * [[Main.JeffreyMack][Jeff Mack]].
   * [[Main.StevenTimm][Steve Timm]].
   * [[Main.JohnWeigand][John Weigand]].

---++Apologies
   * [[Main.PhilippeCanal][Philippe Canal]].
   * [[mailto:karunach@nhn.ou.edu][Karthik Arunachalam]].

   * Diana Bonham.
   * [[Main.PhilippeCanal][Philippe Canal]].
   * [[Main.PenelopeConstanta][Penelope Constanta]].
   * [[Main.ChrisGreen][Chris Green]].
   * [[Main.JeffreyMack][Jeff Mack]].
   * [[Main.StevenTimm][Steve Timm]].
   * John Urish.
   * Margherita Vittone.
   * [[Main.JohnWeigand][John Weigand]].
   * [[mailto:karunach@nhn.ou.edu][Karthik Arunachalam]].

--&gt;

---++Action items from previous meeting:

---++DB and Schema issues

John W:
1. InnoDB conversion / procedures
    Continuing.... documented in seperate twiki now.
         
https://twiki.grid.iu.edu/twiki/bin/view/Accounting/GratiaUpgradeProcedure
     Lots of little &#39;gotcha&#39;s.     This is procedure gets a bit complex.

---++OSG Issues

BNL is still pushing for how to report on the various ownership of the nodes.  
It seems the better method would be to use the fermigrid method.

Transfer/Storage probes: Greg Sharp is leaving soon.  Do we have a scheme
in place for long term support.

Chris:  I can help but most of it should be done by the DCache team.  Brian
can also help.

gridftp probe currently implementation is rely on udp hence it is not appropriate for Gratia.
A different solution would need to be determine.

---++Collector

John W: 5. Admin login process
    Provided assistance to Penelope with problems in accessing the VOMS 
database
    on gratiax34 and the changes needed for the new test data described 
previously.


---++Report development

Jeff M:
Working on converting &amp;#8211;osgdaily reports to our Birt 2.2 runtime ui. First pass conversion on top level reports has been completed, but additional work and testing needed.

Evaluating Actuate iServer Express and BusinessReports Studio products for potential use on Fermi site. These products provide report scheduling and adhoc query/report design tools.

Provided Diana B. and Anil K. Gratia stored procedures for them to review report query designs.
 

---++Probes

Chris:
Find and fix problem decoding overlong records using &quot;POST-correction&quot; method; put in limited buffer expansion. This should go away permanently when probes hit the field with correct POST semantics. 

Fix glexec problem -- new probe talking to old collector. Records will require collection to load CommonName and KeyInfo information. 

Discussions with Alain about release schedule. 

Discussions with Rob Q. about next round of Gratia reporting tickets to sites. 

Ping to Ruth and Brian on OSG requirements (no reply). 

Reorganize library to have &quot;util&quot; jar; Logging.java still copied by hand as that has static traits that need to be localized to the particular service. 

Break collector configurations out from configure-collector into a separate file. 

Put new UPS MySQL on gratia07. 

Help John W. with hotbackup activation issues and collector connection issues on gratia07 / gratiax23. 

Discussion with Rob Q and Philippe about RSV development and integration -- collector still needs to be installed and activated, was waiting on configure-collector updates. 

Activate binary log cleanup on gratia06. 

Update glexec probe to read different date formats from glexec log (updates from Igor). 

Update RPM spec to fix crontab clobbering when RPM and VDT probes are mixed on the same machine.

Help Arvind with RSV duplicate problems at a site -- RSV problem, not Gratia per se. 

Partial fix to administration/index.html to allow testing. 

Discussions with Tanya, Greg and Brian B. on dCache probes.

Update JobUsageRecord checksum code to ignore attributes that don&#39;t affect whether a given record is identical. Working on code to update existing data to re-do checksum and weed out fresh-discovered duplicates

---++Test Bed

John W:
3. Steve provided certificates for gratiax21 for testing the admin login
    On all Gratia xen nodes, my procedure for saving the certificates is 
to put them in
    /root/certificates and make the directory and files immutable (see 
chattr man page)
    to avoid accidental delete.  They will normally be used in the 
/etc/grid-security
    directory and can be copied from the certificates directory as 
needed.  As an
    additional FYI, the automated installation scripts always look in 
that directory to install
    host/http/ldap certs as needed.  Steve Timm also saves them off on 
another machine.

4. Testbed
    Created a &quot;happy day&quot; script to populate  the VOMS database on 
gratiax34 for use
    in testing the admin login process.   It is documented here:
     
https://twiki.grid.iu.edu/twiki/bin/view/Accounting/GratiaDevAndTestEnviron#VOMS_Test_Data

    John Urish is in the process of incorporating that into the 
automated installation
    scripts.  This will allow for populating the OSG installation 
validation scripts with
    test data independent of Gratia needs as these scripts  are used for 
both purposes.
    The OSG installation validation project is documented here in the 
event you are
    unfamiliar with it:
      http://www.uscms.org/SoftwareComputing/Grid/Validation/

John U:
I am close to completing the test data loader script for VOMS.

However, I have been reassigned to help with DCACHE problems starting on 
Monday. This assignment is likely to last well into summer.
---++APEL WLCG

2. BNL_ATLAS_1 / APEL-EGEE issues again
    For February 2008, Gratia shows ~750K jobs, EGEE shows ~500K jobs.
    The 25oK difference appears to be &#39;unknown&#39; VO data.  None of these
    have a LocalUserId (UNIX account) with a string like &#39;%atlas%&#39; in it so
     hey are not picked up in the interface.

    Sent several iterations of queries to Xin.
   
    In reviewing the data on the gratia report screens and you....
    Go to Reports - Site Views --&gt; Usage by Site
    ... set your start/end dates to 2/1 and 3/1 respectively,
    ... set the metric to Job Count
    ... then drill down on BNL_ATLAS_1
    ... then drill down on unknown.
    This shows the Common Name from the subject of the user proxy used 
(presumably).
    It appears the Common Name cannot be derived from the proxy&#39;s 
subject for the bulk
    of the unknowns.  It might be something, it might not.


---++Any Other Business

Steve Timm:

Under Any other business:

I may not make the meeting today due to debugging an important SAZ
issue but I would like to understand

(1) the evolving plan for the ZRM backups, which seem to be working OK

(2) If any change in partition sizing or TiBS configuration is warranted
     on gratia06,07,09

Yes, the mysqldb/gratia should be increase in size.
On gratia09 we need to space (actually not necessarily on that machine)
so that we can permanently backup the xml files.

(3) what is the relationship of the ZRM backups to the plans for innodb
     conversion--note that as part of this downtime I would like, if 
possible, to redo the raid configuration on gratia06 back to raid 5 to
get us more space there.

The ZRM backups are in place.  Innodb is proceeding.  The raid
re-configuration should happen thereafter.

(4) Given the backup scheme that seems to be converging, what is
     the logical place to spend any hardware money?  Obviously
      on disk, but on which system?

Most urgent is probably to add to gratia06 to store the storage
transfer information (however, it might be even better on a different
node)

(4a) is there any plan to split the fermi-only mysql databases 
(fermi_osg, fermi_itb, gratia_psacct to
      a different machine, and/or to split the load of the osg-specific
      mysql databases between two or more machines?

Yes, it would be nice

(4b) is it anticipated that the deployment of storage probes will
      increase the rate such that more collectors and/or database
       machines are needed?

Yes, the expected size is in the same order of magnitude as 
the main Gratia DB.


---++To be discussed later:
