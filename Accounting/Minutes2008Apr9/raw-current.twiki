---+!!&lt;nop&gt;%TOPIC%
%TOC%

---++Introduction

Minutes of Gratia meeting
   * Last meeting: [[Minutes2008Mar26][March 26]]
   * Previous meetings: MeetingMinutes
   * Coordinates: Wednesday at 1:30pm CST/CDT, 1-510-665-5437 and use the meeting ID: 2966. 

---++Attending

   * [[Main.PenelopeConstanta][Penelope Constanta]].
   * [[Main.ChrisGreen][Chris Green]].
   * [[Main.JeffreyMack][Jeff Mack]].
   * [[Main.JohnWeigand][John Weigand]].
   * Diana Bonham.
   * [[Main.RuthPordes][Ruth Pordes]].

---++Apologies
   * [[Main.PhilippeCanal][Philippe Canal]].

&lt;!--

   * [[Main.PenelopeConstanta][Penelope Constanta]].
   * [[Main.ChrisGreen][Chris Green]].
   * [[Main.JeffreyMack][Jeff Mack]].
   * [[Main.StevenTimm][Steve Timm]].
   * [[Main.JohnWeigand][John Weigand]].

---++Apologies
   * [[Main.PhilippeCanal][Philippe Canal]].
   * [[mailto:karunach@nhn.ou.edu][Karthik Arunachalam]].

   * Diana Bonham.
   * [[Main.PhilippeCanal][Philippe Canal]].
   * [[Main.PenelopeConstanta][Penelope Constanta]].
   * [[Main.ChrisGreen][Chris Green]].
   * [[Main.JeffreyMack][Jeff Mack]].
   * [[Main.StevenTimm][Steve Timm]].
   * John Urish.
   * Margherita Vittone.
   * [[Main.JohnWeigand][John Weigand]].
   * [[mailto:karunach@nhn.ou.edu][Karthik Arunachalam]].

--&gt;

[ Computer crash lost minutes in-progress: please fill in any missing details ]

---++Action items from previous meeting:

---++DB and Schema issues

Diana had a concern about a diagnostic message (&quot;fermi_itb:backup:WARNING: The database(s) fermi_itb  will be backed up in logical mode since they contain tables that use a transactional engine&quot;) present in the logs for most !InnoDB schemata missing from the gratia backup. Chris will take up with Philippe when he comes off furlough.

!InnoDB conversion completed. See John W&#39;s status report:&lt;blockquote&gt;From 3/2608 - 4/9/08
------------------------
   1. !InnoDB conversion - gratia database
      a. Initial intent was to start on 3/27, however, database backups appeared hung and were running late.  Additionally, we were experiencing a 4K throughput rate on gratia07 which would       not meet our needs for the conversion procedure we were using.       Chris found that the v5_0_51 ups version of mysql may have       been the culprit.  We switched the mysql on gratia07 to       using v5_0_22 and we got a 50K throughput rate.
      a. 4/1 - switched the gratia database over to using gratia07.      Took 2 hours to catch it up to current from the nightly backup.
      a. 4/1 10:15 - all collectors were taken down for the repartitioning       and RAID level upgrade Steve did on gratia06.  This       complete by 14:00.  The tomcat-gratia collector was  not       affected as it was using the gratia07 database.
      a. 4/2 - !InnoDB conversion stopped with a serve shutdown       at 12:03.  No reason.  Re-started conversion.
      a. 4/4  01:17 conversion completed.  Started &quot;catch-up&quot; phase       on all new data by replicating from gratia07 to gratia06.       405L records to replicate
      a. 4/4 23:15 - caught up all records, but had 2 records fail with      a MySQL error for no reason.
      a. 4/5 17:00 - switched tomcat-gratia back to using gratia06 after      determining the 2 records were not a significant problem.
   2. Version 0.32.1c conversion
      a. 3/31 - built new version, tested on gratiax33.
       Started twiki doc for conversion                https://twiki.grid.iu.edu/twiki/bin/view/Accounting/GratiaReleaseV0dot32dot1c
       Updated fermi_itb and fermi_osg
      a. 4/1 - updated tomcat-qcd, tomcat-itb and tomcat-osg_integration
       osg_integration appeared to be having problems with
       replicated data (0 good, all bad) so turned off replication
       on gratia_itb
   3. Trouble shooting
      a. 3/27 - assisted Tanya in looking for dcache data on fermi_itb
      a. 3/31 - gratia_osg_integration was experiencing a very high
       number of duplicates (100K good, 400K duplicates)
       - deleted duplicates
      a. 4/1 - on either fermi_itb or fermi_osg, I forget which,  it did
       not appear to be recording all probe records.   Pinned it
       down to gloexec records of length 320 which contained only
       header data. Those that were 1320 in size appeared to be
      the ones updating successfully.  This was for Tanya as I
      remember.
   4. Miscellaneous
      a. 3/28 - per request from Chris, tunred on replication from gratia_itb
       to gratia_osg_integration for all probes currently on
       gratia_osg_integration.
      a. 3/28 - added log4j.properties file to the gratia-services to have all
       hibernate messages separated from the catalina.out file.
         * done on Chris&#39; v0-32-patches branch and on the head.
         * tested on gratiax33
      a. 3/28 - Ruth asked that a tarball be sent to Greg Sharp for possible use
      in RSV at Indiana. Created it and made accessible at
          http://home.fnal.gov/~weigand/tmp/gratia-summary.tgz
   5. GRAM auditing
      a. email from Stu Martin related to all the feature requests he has
       received on GRAM auditing are being put into Globus 4.4
      a. I was assured that all the bugzilla items would be going into
       4.2.n which may make it viable to use for Gratia accounting
       I have not had a chance to fully evaluate this.
   6. APEL/EGEE
      a. I have been asked to transition this interface to Karthik and
       Horst at OU, but have not had a change to initiate this.
   7. Testbed goals.
      a. have not had the time to document these.
&lt;/blockquote&gt;

---++OSG Issues

Behind on 0.34 for OSG with roles / FQAN.

---++Collector

Chris: FQAN checksum conversion: will need to add a new column and convert using low-downtime swap procedure again. Still working on getting the scheme right.

---++Report development

Problem report received from Ken Bloom re missing site labels for some plots. Would need to know how to tell BIRT to do dynamic axis length. Other solution is to move to ranked reports.

Penelope investigating BIRT 2.3m5: Chris and John nervous about putting a non-official release into one of our releases, so hold off for now. Will be available on a small collector.

Penelope wants input on an interface for standard parameter settings, including set calculated intervals (last week, last month, etc) and aggregation period (day, week, month, total). Will be available on gratiax23.


---++Probes

Chris: Horst has installed probes on OU that should prevent further corrupted records. Will wait and see for now.

Chris requested aliases for dCache transfer collector -- will be available tomorrow and configured in RPM release of dCache probes.

dCache probe enhancements for SRM schema change and uniqueness problem -- will build by end of week.

Discussion with Alain over upcoming problem with condor &gt;6.9.0 and PER_JOB_HISTORY_DIR configuration: check at installation/config time, and also RSV probe (we get to write it).

Thinking on, we have the following thing in our favor: VDT patch globus so that GT2 jobs still get a GRAM stub (the original idea was that this would go away), so even if PER_HISTORY_JOB_DIR is not configured we still have the GRAM stub for GT2 jobs. Will need to be careful to avoid double counting. Also, could use FQAN file as a trigger to invoke condor_history if we&#39;re careful and avoid needing PER_JOB_HISTORY dir altogether. Of course, will need to be careful!


---++Test Bed

---++Any Other Business

Ruth: clarification on GRAM auditing: should be no work done on it unless asked via CDIC (?) meeting. Agreed. Some fixes to show stopper bugs are anyway slated for globus 4.2.n so won&#39;t be in OSG stack for a long time.

Ruth: need to see full roadmap for implementation of features in requirements doc -- what goes in when? Priority after 0.34 release, please.

Chris: met last Friday with Eileen, Keith and Igor M. regarding transfer to operations group of upgrades and day-to-day ops. General principles agreed; Keith to revise and distribute document. Will involve some doc and robustness work, especially in the area of tricky upgrades like the one we just did converting to !InnoDB.

---++To be discussed later:



-- Main.ChrisGreen - 09 Apr 2008
