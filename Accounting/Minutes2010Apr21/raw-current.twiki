---+!!&lt;nop&gt;%TOPIC%
%TOC%

---+Introduction

Minutes of Gratia meeting
   * Last meeting: [[Minutes2010Apr14][April 14]]
   * Previous meetings: MeetingMinutes
   * Coordinates: Wednesday at 2:00pm CST/CDT, 1-510-665-5437 and use the meeting ID: 2966. 

---++Attending

TBA.

&lt;!--

   * [[Main.PhilippeCanal][Philippe Canal]].
   * [[Main.ChrisGreen][Chris Green]].
   * [[Main.JohnWeigand][John Weigand]].
   * [[Main.RuthPordes][Ruth Pordes]].
   * [[Main.DanYocum][Dan Yocum]].
   * [[Main.MineAltunay][Mine Altunay]]
   * [[Main.BrianBockelman][Brian Bockelman]]
   * [[][]]

---++Apologies
   * [[Main.PenelopeConstanta][Penelope Constanta]].
   * [[mailto:karunach@nhn.ou.edu][Karthik Arunachalam]].
   * Diana Bonham.
   * [[Main.PenelopeConstanta][Penelope Constanta]].
   * [[Main.ChrisGreen][Chris Green]].
   * [[Main.JeffreyMack][Jeff Mack]].
   * [[Main.StevenTimm][Steve Timm]].
   * John Urish.
   * Margherita Vittone.
   * [[mailto:karunach@nhn.ou.edu][Karthik Arunachalam]].

--&gt;

---+Action items from previous meeting:

---+Release Status

---+Services Operation

---++Reporter &#39;delay&#39; issues.

Brian:  The OSG live display failed to finish the query within the allotted time (5 minutes).   Usually the whole batch takes less than 1 minutes.   The queries are run every 5 minutes.   The display and updater are decoupled (and making sure there is no partial updates).    What happened is that all the query but the one against MasterSummaryTable (which usually finishes in 12s and was finished 160s). 
It appears the query plan is different between the reporter database and the collecting database.

Brian: This was discovered around 10ish on Tuesday morning;   We first thought it was a problem with the OSG display.   But then we looked at the page showing the delay in db 2 db replication and I noticed that the 2nd db was 16 hours behind.   I then notifying the gratia team by IM.

Steve: Yes this is a problem because in consequence I was not notified under the afternoon.

Rob Q:  The display service was not slated as a production service and thus was not monitored.

Chris:  However the OSG director is acting as if it was a production service.

Rob Q:  Was there anything else that was broken?

Chris: Nothing that was alarmed on!

Chris: I switched over the reporter to the collector at around 10:30am and the incident should have been solved then.   however somebody disable the OSG live display.

Brian: Soichi turned on the updater service back (I can not do).

Chris: So what turn off the updater service?

Brian: I am not sure.   

Rob Q: Soichi may have turned it off in the process of troubleshooting and did not turn it back on when it saw it was a Gratia problem.

Brian: As of 10:30 in the morning the issue was resolved from Gratia/FermiGrid points of view.

All: One issue is that there is no SLA for the gratia reporting between OSG and FermiGrid.

Rob Q: OSG and GOC are working on an SLA for the live display.

Philippe:  Can we still put in place an alarm even if the trigger is for now &#39;random&#39;?

Dan: Fair enough it will send mail.

Rob Q: Could it also enter a ticket/notice GOC?

Chris: it plausible.

Steve Timm: Could the query or even the OSG Live display be hosted at Fermilab?

Brian: This is not the only part of the story.

Rob Q:  is it possible as long as the SLA

Philippe:  However external access is one the reason why we have separate Collector and Reporter.

Brian: I will be happy to use a more secure access to the DB (as long as it is supported by python).

Gabriele:  Dan F. is interested in having some of the FermiGrid alarm to be propagated to GOC.

Philippe:  The take home for Brian is that even if he contacts the Gratia team directly if the issue an outstanding service level issue, he should submit a ticket so that we can close it.

Brian: If there is a programatic interface to the delay of the reported and/or the alarm, I will use it to throttle down the OSG Live display updater.

---+OSG Issues

---+Developments

---++DCache Transfer Probe.

Brian: Lots of development and discussion.   Being tested at medium scale at Wisconsin.   Andrew and Brian are settling on an agreement (in particular on the detail of the transaction id).   We currently have the right approach in subversion and ready to be tested on larger scale.

Andrew: Catalin does not have a backup of the fermi billing database.    However we may not need it.    I am no longer modifying the code and I am hoping that Brian is bringing consistency.

Brian: What is the testing plan.

Andrew: I am think of reducing the window size.

Tanya: Is there a common plan?

Andrew: Yes I started then Brian reviewed the code and implemented changes that reflected his better understanding of the code.

Brian: I would prefer if you (Andrew) also had a good test environment.

Andrew: I am not sure what was about ... I wish you (Brian) had waited longer before modifying the code;

Philippe: My understanding is that Brian implemented directly the recommendation of his reviews.

Tanya:  Andrew is now refusing/not interested in understanding the structures of the code.   The ownership of this probe should be in Brian&#39;s hand.

Brian: I think it is essential that at least Andrew, Brian and Philippe understand the structure of the code.   Personally I need to modify the code to properly understand/review the code.

Andrew: Tanya, am I in charge of the probe then I am a bit angry about the change made without passing them through me or is it a collaborative environment (where I am one of the collaborator).

Brian: I tend to use subversion has a white-board/communication mechanism.   Andrew if you are not agreeing with any code, you should feel free to remove the code.

Andrew: Please let me know when you are done with your change and testing and then I will start testing in my environment.   

Brian: So what do you plan on testing?

Andrew: I don&#39;t know yet.  

Steve Timm: Do we know the decrease factor that the changes bring?

Brian: We are not sure ; in my sample on a small site the decrease was only a factor 2.

Philippe:  Can Andrew come up with a test plan so that we cover all the worry we have?

Brian: Could we do something as simple a running on the Tier1 in addition to the regular probe? 
We should also find a way to test the duplicate detection mechanism.

---++Report [Karthik]

---+Any Other Business

---++To be discussed later:
