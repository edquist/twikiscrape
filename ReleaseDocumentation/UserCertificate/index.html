<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> UserCertificate &lt; ReleaseDocumentation &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/ReleaseDocumentation/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/ReleaseDocumentation/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/ReleaseDocumentation/UserCertificate?_T=16 Feb 2017" type="application/x-wiki" title="edit UserCertificate" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/ReleaseDocumentation/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/ReleaseDocumentation/UserCertificate"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#9999FF;
	}
	.patternBookView {
		border-color:#9999FF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">

@import url('https://twiki.opensciencegrid.org/twiki/pub/ReleaseDocumentation/UserCertificate/centerpageborder-rd.css');

</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="User_Certificate"></a>  <strong>User Certificate</strong> </h1>
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#About_This_Document"> About This Document</a>
</li> <li> <a href="?cover=print#Obtaining_a_Personal_Grid_Certif"> Obtaining a Personal Grid Certificate</a>
</li> <li> <a href="?cover=print#Test_your_Personal_Grid_Certific"> Test your Personal Grid Certificate</a> <ul>
<li> <a href="?cover=print#Authentication_using_a_Grid_Prox"> Authentication using a Grid Proxy</a>
</li> <li> <a href="?cover=print#Authentication_using_a_VOMS_Prox"> Authentication using a VOMS Proxy</a>
</li> <li> <a href="?cover=print#Mapping_Test"> Mapping Test</a>
</li></ul> 
</li> <li> <a href="?cover=print#Renewing_or_Revoking_a_Personal"> Renewing or Revoking a Personal Certificate</a>
</li> <li> <a href="?cover=print#Comments"> Comments</a>
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="About_This_Document"></a> About This Document </span></h2>
<p />
<img width="16" alt="hand" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/hand.gif" height="16" border="0" /> The OSG generally accepts X509 certificates issued by Certification Authorities accredited by the <a href="http://www.igtf.net/" target="_top">IGTF</a> from many different locations around the world.  Most people working with OSG may obtain certificates from the DOEGrids CA and these instructions apply only to DOEGrids.  For information on others, contact your <a href="http://myosg.grid.iu.edu/vosummary?datasource=summary&amp;all_vos=on&amp;active_value=1" target="_top">VO's Support Center</a>. 
Certificates and their uses, particularly user certificates (also called personal certificates) are described in <a href="/bin/view/Documentation/CertificateWhatIs" class="twikiLink">Documentation.CertificateWhatIs</a>.  
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Obtaining_a_Personal_Grid_Certif"></a> Obtaining a Personal Grid Certificate </span></h2>
<p />
There are a set of scripts distributed in VDT which provide the most convenient
method of obtaining a certificate but one can also use a web browser to request and download certificates.  The web browser is convenient for web and email uses while the scripts are most convenient for shell command grid activities. 
This is described in <a href="/bin/view/ReleaseDocumentation/CertificateUserGet" class="twikiLink">How do I get a DOEGrids Digital PKI/X509 Personal Certificate?</a>.
<p />
<a name="TestPGC"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Test_your_Personal_Grid_Certific"></a> Test your Personal Grid Certificate </span></h2>
<p />
<!-- <ul>
<li> Local UCL_CE = ce.opensciencegrid.org
</li></ul> 
-->
<p />
<p />
<h3><a name="Authentication_using_a_Grid_Prox"></a> Authentication using a Grid Proxy </h3>
<p />
To display detailed information about your grid proxy <code>grid-proxy-info</code> can be used:
<p />
<pre class="screen">
[user@client ~]$ grid-proxy-info
subject  : /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994/CN=1692124231
issuer   : /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994
identity : /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994
type     : Proxy draft (pre-RFC) compliant impersonation proxy
strength : 512 bits
path     : /tmp/x509up_u500
timeleft : 291:11:00  (12.1 days)
</pre>
<p />
<em>Identity</em> is sometimes also referred to as <em>Grid Identity</em> or more frequently as <a href="/bin/view/Documentation/GlossaryD#DefsDistinguishedName" class="twikiAnchorLink">Distinguished Name</a>. The last line of the output above indicates how long your current grid proxy will be valid. A grid proxy is said to have <em>expired</em> if there is not time left on it. To <em>renew</em>  your grid proxy the program <code>grid-proxy-init</code> is used together with your grid password:
<p />
<pre class="screen">
[user@client ~]$ grid-proxy-init -valid 500:00
Your identity: /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994
Enter GRID pass phrase for this identity:
Creating proxy ................................. Done
Your proxy is valid until: Tue Aug 18 08:06:35 2009
</pre>
<p />
<h3><a name="Authentication_using_a_VOMS_Prox"></a> Authentication using a VOMS Proxy </h3>
<p />
To display detailed information about your voms proxy <code>voms-proxy-info</code> can be used:
<p />
<pre class="screen">
[user@client ~]$ voms-proxy-info -all
WARNING: Unable to verify signature! Server certificate possibly not installed.
Error: Cannot verify AC signature!
subject   : /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994/CN=proxy
issuer    : /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994
identity  : /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994
type      : proxy
strength  : 1024 bits
path      : /tmp/x509up_u506
timeleft  : 388:18:27
<font color="#ff0000">=== VO LIGO extension information ===
VO        : LIGO
subject   : /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994
issuer    : /DC=org/DC=doegrids/OU=Services/CN=voms.ligo.org
attribute : /LIGO/Role=NULL/Capability=NULL
timeleft  : 0:00:00
uri       : voms.phys.uwm.edu:15001</font>
</pre>
<p />
<em>Identity</em> is sometimes also referred to as <em>Grid Identity</em> or more frequently as <a href="/bin/view/Documentation/GlossaryD#DefsDistinguishedName" class="twikiAnchorLink">Distinguished Name</a>. Note the display of the <font color="#ff0000">extended attributes</font> The first line marked <code>timeleft</code> of the output above indicates how long your current voms proxy will be valid. A voms proxy is said to have <em>expired</em> if there is not time left on it. To <em>renew</em>  your voms proxy the program <code>voms-proxy-init</code> is used together with your grid password:
<p />
<pre class="screen">
[user@client ~]$ voms-proxy-init <font color="#ff0000">-voms LIGO:/LIGO</font> -valid 500:00
Enter GRID pass phrase:
Your identity: /DC=org/DC=doegrids/OU=People/CN=Firstname Lastname 392994
Creating temporary proxy ................................ Done
Contacting  voms.phys.uwm.edu:15001 [/DC=org/DC=doegrids/OU=Services/CN=voms.ligo.org] "LIGO" Done
Creating proxy ......................................................... Done
</pre>
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  The command line option <code><font color="#ff0000">-voms LIGO:/LIGO</font></code> tells <code>voms-proxy-init</code> to contact the VOMS server for the LIGO VO. This may be different for your VO. Locate a file named <code>vomses</code> on your submission host to find out more about available VOMS servers. 
</dd></dl> 
<p />
<p />
<h3><a name="Mapping_Test"></a> Mapping Test </h3>
<p />
A valid grid proxy does not guarantee that you may successfully authenticate with a remote grid resource. For a successful authentication your <a href="/bin/view/Documentation/GlossaryD#DefsDistinguishedName" class="twikiAnchorLink">Distinguished Name</a> must be <em>mapped</em> on the remote resource. A simple and quick way to check if your <strong>DN</strong> is mapped is to use <code>globus-run</code>:
<p />
<pre class="screen">
[user@client ~]$ globusrun -a -r ce.opensciencegrid.org

GRAM Authentication test successful
</pre>
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  This example requires the <em>Grid Resource Allocation Manager (<a href="/bin/view/Documentation/GlossaryG#DefsGridResourceAllocationAndManagement" class="twikiAnchorLink">GRAM</a>)</em> to be available on the resource. This is usually the case on a <a href="/bin/view/Documentation/GlossaryC#DefsComputeElement" class="twikiAnchorLink">Compute Element</a>, but not on a  <a href="/bin/view/Documentation/GlossaryS#DefsStorageElement" class="twikiAnchorLink">Storage Element</a>. If you want to test authentication with a Storage Element, use the next example instead.
</dd></dl> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Renewing_or_Revoking_a_Personal"></a> Renewing or Revoking a Personal Certificate </span></h2>
Information about replacing your certificate before it expires, and about revoking your certificate if/when your private key is lost or compromised is described at <a href="/bin/view/ReleaseDocumentation/CertificateGet" class="twikiLink">How do I get a DOEGrids PKI/X509 Personal Certificate?</a>.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Comments"></a> Comments </span></h2>
<form method="post" action="https://twiki.opensciencegrid.org/bin/save/ReleaseDocumentation/UserCertificate" enctype="multipart/form-data" name="tableappend0" id="tableappend0">
<p />
<div class="commentPlugin commentPluginPromptBox">
<table><tr valign="middle"><td><textarea  rows="3" cols="70" name="comment" wrap="soft" onfocus="if(this.value=='')this.value=''" onblur="if(this.value=='')this.value=''"></textarea></td><td><input  type="submit" value="Add comment" /></td></tr></table>
</div><!--/commentPlugin-->
<p />
<input type="hidden" name="comment_action" value="save"  />
<input type="hidden" name="comment_type" value="tableappend"  />
<input type="hidden" name="comment_index" value="0"  /></form>
<p />
<p />
<!-- CONTENT MANAGEMENT PROJECT
<p />
   DEAR DOCUMENT OWNER
   <code><b>===============</b></code>
<p />
   Thank you for claiming ownership for this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/ReleaseDocumentation/FirstLast?topicparent=ReleaseDocumentation.UserCertificate" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local OWNER          = <span class="twikiNewLink">JamesBarlow<a href="/bin/edit/ReleaseDocumentation/JamesBarlow?topicparent=ReleaseDocumentation.UserCertificate" rel="nofollow" title="JamesBarlow (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
   Please define the document area, choose one of the defined areas from the next line
   DOC_AREA = (<span class="twikiNewLink">ComputeElement<a href="/bin/edit/ReleaseDocumentation/ComputeElement?topicparent=ReleaseDocumentation.UserCertificate" rel="nofollow" title="ComputeElement (this topic does not yet exist; you can create it)">?</a></span>|Storage|VO|Security|User|Monitoring|General|Trash/Trash/Integration|Operations|Tier3) <ul>
<li> Local DOC_AREA       = Security
</li></ul> 
<p />
   define the primary role the document serves, choose one of the defined roles from the next line
   DOC_ROLE = (Scientist|Student|Developer|SysAdmin|VOManager) <ul>
<li> Local DOC_ROLE       = Scientist
</li></ul> 
<p />
   Please define the document type, choose one of the defined types from the next line
   DOC_TYPE = (Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge) <ul>
<li> Local DOC_TYPE       = <span class="twikiNewLink">HowTo<a href="/bin/edit/ReleaseDocumentation/HowTo?topicparent=ReleaseDocumentation.UserCertificate" rel="nofollow" title="HowTo (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
   Please define if this document in general needs to be reviewed before release ( 1 | 0 ) <ul>
<li> Local INCLUDE_REVIEW = 1
</li></ul> 
<p />
   Please define if this document in general needs to be tested before release ( 1 | 0 ) <ul>
<li> Local INCLUDE_TEST   = 1
</li></ul> 
<p />
   change to 1 once the document is ready to be reviewed and back to 0 if that is not the case <ul>
<li> Local REVIEW_READY   = 1
</li></ul> 
<p />
   change to 1 once the document is ready to be tested and back to 0 if that is not the case <ul>
<li> Local TEST_READY     = 1
</li></ul> 
<p />
   change to 1 only if the document has passed the review and the test (if applicable) and is ready for release <ul>
<li> Local RELEASE_READY  = 1
</li></ul> 
<p />
<p />
   DEAR DOCUMENT REVIEWER
   <code><b>==================</b></code>
<p />
   Thank for reviewing this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/ReleaseDocumentation/FirstLast?topicparent=ReleaseDocumentation.UserCertificate" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local REVIEWER       = <span class="twikiNewLink">IgorSfiligoi<a href="/bin/edit/ReleaseDocumentation/IgorSfiligoi?topicparent=ReleaseDocumentation.UserCertificate" rel="nofollow" title="IgorSfiligoi (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
   Please define the review status for this document to be in progress ( 2 ), failed ( 0 ) or passed ( 1 ) <ul>
<li> Local REVIEW_PASSED  = 1
</li></ul> 
<p />
<p />
   DEAR DOCUMENT TESTER
   <code><b>================</b></code>
<p />
   Thank for testing this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/ReleaseDocumentation/FirstLast?topicparent=ReleaseDocumentation.UserCertificate" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local TESTER         = <span class="twikiNewLink">IgorSfiligoi<a href="/bin/edit/ReleaseDocumentation/IgorSfiligoi?topicparent=ReleaseDocumentation.UserCertificate" rel="nofollow" title="IgorSfiligoi (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
   Please define the test status for this document to be in progress ( 2 ), failed ( 0 ) or passed ( 1 ) <ul>
<li> Local TEST_PASSED    = 1
</li></ul> 
<p />
--></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: ReleaseDocumentation<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>UserCertificate</span> <br />    
Topic revision: r47 - 06 Dec 2016 - 18:13:11 - <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />