<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> TroubleshootingJobsAdmins &lt; ReleaseDocumentation &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/ReleaseDocumentation/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/ReleaseDocumentation/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/ReleaseDocumentation/TroubleshootingJobsAdmins?_T=16 Feb 2017" type="application/x-wiki" title="edit TroubleshootingJobsAdmins" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/ReleaseDocumentation/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/ReleaseDocumentation/TroubleshootingJobsAdmins"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#9999FF;
	}
	.patternBookView {
		border-color:#9999FF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">

@import url('https://twiki.opensciencegrid.org/twiki/pub/ReleaseDocumentation/TroubleshootingJobsAdmins/centerpageborder-rd.css');

</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--TWISTYPLUGIN_TWISTY--><style type="text/css" media="all">
@import url("https://twiki.opensciencegrid.org/twiki/pub/TWiki/TwistyContrib/twist.css");
</style>
<script type='text/javascript' src='https://twiki.opensciencegrid.org/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js'></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikiPref.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TwistyContrib/twist.compressed.js"></script>
<script type="text/javascript">
// <![CDATA[
var styleText = '<style type="text/css" media="all">.twikiMakeVisible{display:inline;}.twikiMakeVisibleInline{display:inline;}.twikiMakeVisibleBlock{display:block;}.twikiMakeHidden{display:none;}</style>';
document.write(styleText);
// ]]>
</script>

<!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> 
<p />
<h1><a name="Troubleshooting_Grid_User_s_Jobs"></a>  Troubleshooting Grid User's Jobs </h1>
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#About_this_Document"> About this Document</a>
</li> <li> <a href="?cover=print#Understanding_Authentication_and"> Understanding Authentication and Authorization</a>
</li> <li> <a href="?cover=print#Authentication_and_Authorization"> Authentication and Authorization Test</a>
</li> <li> <a href="?cover=print#Authentication_Failures"> Authentication Failures</a> <ul>
<li> <a href="?cover=print#Edg_mkgridmap"> Edg-mkgridmap</a>
</li> <li> <a href="?cover=print#GUMS"> GUMS</a>
</li></ul> 
</li> <li> <a href="?cover=print#User_Unix_Accounts_and_Home_Dire"> User Unix Accounts and Home Directories</a>
</li> <li> <a href="?cover=print#GRAM_Log_Files"> GRAM Log Files</a>
</li></ul> 
</div>
<p />
<h1><a name="About_this_Document"></a> About this Document </h1>
<!-- useful variable definitions <ul>
<li> Local UCL_CWD = /opt/osg-1.2.32
</li> <li> Local UCL_HOST = ce
</li></ul> 
-->
<p />
<img width="16" alt="hand" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/hand.gif" height="16" border="0" /> This document is for system administrators. It provides step-by-step instructions to debug why a user's job won't run. The companion document for grid users can be found <a href="/bin/view/ReleaseDocumentation/UserCESimpleTest" class="twikiLink">here</a>.
<p />
<h1><a name="Understanding_Authentication_and"></a> Understanding Authentication and Authorization </h1>
<p />
<em>Authentication</em> is the process that verifies the identity of a grid user:
<p /> <ul>
<li> the user has a valid <a href="/bin/view/Documentation/GlossaryG#DefsGridProxy" class="twikiAnchorLink">Grid Proxy</a> or <a href="/bin/view/Documentation/GlossaryV#DefsVOMSProxy" class="twikiAnchorLink">VOMS Proxy</a>     
</li> <li> the user's grid certificate was granted by a recognized <a href="/bin/view/Documentation/GlossaryC#DefsCA" class="twikiAnchorLink">Certificate Authority</a>
</li> <li> the user's grid certificate wasn't revoked by the <a href="/bin/view/Documentation/GlossaryC#DefsCA" class="twikiAnchorLink">Certificate Authority</a>
</li></ul> 
<p />
<em>Authorization</em> is the process that decides if a recognized grid user may use your site:
<p /> <ul>
<li> by looking up the user's <a href="/bin/view/Documentation/GlossaryD#DefsDistinguishedName" class="twikiAnchorLink">Distinguished Name</a> in <code>/etc/grid-security/grid-mapfile</code> <em>or</em>
</li> <li> by querying <a href="/bin/view/Documentation/GlossaryG#DefsGridUserManagementSystem" class="twikiAnchorLink">GUMS</a> for the <a href="/bin/view/Documentation/GlossaryD#DefsDistinguishedName" class="twikiAnchorLink">Distinguished Name</a>
</li></ul> 
<p />
Authentication precedes Authorization.
<p />
<h1><a name="Authentication_and_Authorization"></a> Authentication and Authorization Test </h1>
<p />
A grid user can successfully authenticate with a site and is authorized to use it if <em>he</em> can execute following command:
<p />
<pre class="screen">
[user@ce /opt/osg-1.2.32]$ globusrun -a -r <font color="#ff0000"> ce.opensciencegrid.org </font>
GRAM Authentication test successful
</pre>
<p />
<h1><a name="Authentication_Failures"></a> Authentication Failures </h1>
<p />
Consult the <a href="/bin/view/Documentation/GlossaryG#DefsGridResourceAllocationAndManagement" class="twikiAnchorLink">GRAM</a> log file located at <code>$VDT_LOCATION/globus/var/globus-gatekeeper.log</code> and look for <em>GSS authentication failure</em>:
<p />
<pre class="file">
Failed reading length 0
    <font color="#ff0000">GSS authentication failure</font> 
    globus_gss_assist token :3: read failure: Connection closed
Failure: GSS failed Major:01090000 Minor:00000000 Token:00000003

TIME: Sat Apr 28 02:58:57 2007
 PID: 21156 -- Failure: GSS failed Major:01090000 Minor:00000000 Token:00000003
</pre>
<p />
Common reasons for authentication failure include:
<p /> <ol>
<li> Verify that the system clocks both on the client <em>and</em> the server site are synchronized using the <a href="http://en.wikipedia.org/wiki/Network_Time_Protocol" target="_top">Network Time Protocol</a>.
</li> <li> Verify that the <a href="/bin/view/Documentation/GlossaryC#DefsCA" class="twikiAnchorLink">Certificate Authority</a> of the grid user is recognized at your site:<BR>The <a href="/bin/view/Documentation/GlossaryD#DefsDistinguishedName" class="twikiAnchorLink">Distinguished Name</a> of the grid user contains the name of the Certificate Authority who signed the grid user certificate:<BR><pre class="screen">
[user@ce /opt/osg-1.2.32]$ grid-proxy-info -identity
/DC=org/DC=<font color="#ff0000">doegrids</font>/OU=People/CN=First Last
</pre>Verify that the associated CA Certificate is installed in <code>$VDT_LOCATION/globus/TRUSTED_CA</code>:<pre class="rootscreen">
[root@ce /opt/osg-1.2.32]$ grep -i "<font color="#ff0000">doegrids</font>" $VDT_LOCATION/globus/TRUSTED_CA/*.signing_policy
1c3f2ca8.signing_policy:#  The DOEGrids CA signs certificates for doegrids.org 
<font color="#ff0000">1c3f2ca8</font>.signing_policy: access_id_CA      X509         '/DC=org/DC=<font color="#ff0000">DOEGrids</font>/OU=Certificate Authorities/CN=DOEGrids CA 1'
1c3f2ca8.signing_policy: cond_subjects     globus     	'"/DC=org/DC=DOEGrids/*" "/DC=org/DC=doegrids/*" "/O=DOEGrids.org/*" "/O=doegrids.org/*"'
...
</pre>Verify that the CA Certificate is valid using:<pre class="rootscreen">
[root@ce /opt/osg-1.2.32]$ openssl x509 -in <font color="#ff0000">1c3f2ca8</font>.0 -text -noout
</pre>If you don't find the CA Certificate you will need to either <span class="twikiNewLink">install<a href="/bin/edit/ReleaseDocumentation/CaCertificatesInstall?topicparent=ReleaseDocumentation.TroubleshootingJobsAdmins" rel="nofollow" title="install (this topic does not yet exist; you can create it)">?</a></span> or <span class="twikiNewLink">update<a href="/bin/edit/ReleaseDocumentation/CaCertificatesInstall?topicparent=ReleaseDocumentation.TroubleshootingJobsAdmins" rel="nofollow" title="update (this topic does not yet exist; you can create it)">?</a></span> your CA certificates.
</li> <li> Verify that the <a href="/bin/view/Documentation/GlossaryC#DefsCRL" class="twikiAnchorLink">Certificate Revocation List</a> of the Certificate Authority has not expired:<BR><pre class="rootscreen">
[root@ce /opt/osg-1.2.32]$ openssl crl -in $VDT_LOCATION/globus/TRUSTED_CA/<font color="#ff0000">1c3f2ca8</font>.r0 -lastupdate -nextupdate -noout
lastUpdate=Jul 25 20:25:01 2011 GMT
nextUpdate=Aug 24 20:25:01 2011 GMT
</pre>Make sure the automatic update of the Certificate Revocation List is <span class="twikiNewLink">enabled<a href="/bin/edit/ReleaseDocumentation/CaCertificatesInstall?topicparent=ReleaseDocumentation.TroubleshootingJobsAdmins" rel="nofollow" title="enabled (this topic does not yet exist; you can create it)">?</a></span>. A quick and dirty fix is to <em>delete</em> the file <code>$VDT_LOCATION/globus/TRUSTED_CA/<font color="#ff0000">1c3f2ca8</font>.r0</code>.
</li></ol> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Edg_mkgridmap"></a> Edg-mkgridmap </span></h2>
<p />
<span class="twikiNewLink">Edg-mkgridmap<a href="/bin/edit/ReleaseDocumentation/LocalAuthPreConfig?topicparent=ReleaseDocumentation.TroubleshootingJobsAdmins" rel="nofollow" title="Edg-mkgridmap (this topic does not yet exist; you can create it)">?</a></span> queries VOMS servers to generate entries for grid users in <code>/etc/grid-security/grid-mapfile</code>. Common failures include:
<p /> <ol>
<li> The <a href="/bin/view/Documentation/GlossaryD#DefsDistinguishedName" class="twikiAnchorLink">Distinguished Name</a> of the grid user is not listed in <code>/etc/grid-security/grid-mapfile</code>. In this case the <a href="/bin/view/Documentation/GlossaryG#DefsGridResourceAllocationAndManagement" class="twikiAnchorLink">GRAM</a> log file <code>$GLOBUS_LOCATION/var/globus-gatekeeper.log</code> will contain:<pre class="file">
TIME: Sat Apr 28 22:13:28 2007
 PID: 3056 -- Notice: 5: Authenticated globus user: /DC=org/DC=doegrids/OU=People/CN=Alain Roy 424511
Failure: globus_gss_assist_gridmap() failed authorization. gridmap.c:globus_l_gss_assist_gridmap_lookup:2035:
<font color="#ff0000">Gridmap lookup failure: Could not map /DC=org/DC=doegrids/OU=People/CN=Alain Roy 424511</font>
</pre>Refer to the <span class="twikiNewLink">Edg-mkgridma Guide<a href="/bin/edit/ReleaseDocumentation/LocalAuthPreConfig?topicparent=ReleaseDocumentation.TroubleshootingJobsAdmins" rel="nofollow" title="Edg-mkgridma Guide (this topic does not yet exist; you can create it)">?</a></span> to verify your configuration.
</li> <li> The Unix username specified in <code>/etc/grid-security/grid-mapfile</code> doesn't exist on your system. In that case you might see the following error message in your <code>$GLOBUS_LOCATION/var/globus-gatekeeper.log</code>:<pre class="file">
TIME: Sat Apr 28 22:19:26 2007
 PID: 3777 -- Notice: 5: Authorized as local user: roy
<font color="#ff0000">Failure: getpwname() failed to find roy</font>
</pre>Please verify that the username exists on the <a href="/bin/view/Documentation/GlossaryG#DefsGatekeeper" class="twikiAnchorLink">Gatekeeper</a> and every <a href="/bin/view/Documentation/GlossaryW#DefsWorkerNode" class="twikiAnchorLink">Worker Node</a>. 
</li></ol> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="GUMS"></a> GUMS </span></h2>
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  Depending on the <code>logLevel</code> set in <code>$VDT_LOCATION/post-install/prima-authz.conf</code> (info|debug) the content of the gatekeeper log file <code>$GLOBUS_LOCATION/var/globus-gatekeeper.log</code> slightly differs. Common failures include:
</dd></dl> 
<p /> <ol>
<li> The <a href="/bin/view/Documentation/GlossaryD#DefsDistinguishedName" class="twikiAnchorLink">Distinguished Name</a> of the grid user is not authorized by GUMS (debugLevel = info):<BR><pre class="file">
PID: 15279 -- Notice: 5: Authenticated globus user: /DC=org/DC=doegrids/OU=People/CN=John Weigand 458491
PID: 15279 -- PRIMA ERROR  prima_module.c:408  Identity Mapping Service did not permit mapping
Dailure: globus_gss_assist_gridmap() failed authorization. gridmap.c:globus_gss_assist_map_and_authorize:1910:
Wrror invoking callout
Flobus_callout.c:globus_callout_handle_call_type:727:
Rhe callout returned an error
Prima_module.c:Globus Gridmap Callout:430:
<font color="#ff0000">Gridmap lookup failure: Could not retrieve mapping for /DC=org/DC=doegrids/OU=People/CN=John Weigand 458491 from identity mapping server</font>
</pre>
</li> <li> The Unix username mapped to doesn't exist on the system:<BR><pre class="file">
PID: 17708 -- Notice: 5: Authorized as local user: uscmspool072
<font color="#ff0000">Failure: getpwname() failed to find uscmspool072</font>
</pre>
</li></ol> 
<p />
<p />
<div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdReleaseDocumentationTroubleshootingJobsAdmins1show" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">More Information</span></a> </span> <span id="twistyIdReleaseDocumentationTroubleshootingJobsAdmins1hide" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyHidden twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide Information</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdReleaseDocumentationTroubleshootingJobsAdmins1toggle" class="twistyRememberSetting twistyStartHide twistyContent twikiMakeHidden twistyInited0">
If the <code>logLevel</code> is set to debug in <code>$VDT_LOCATION/post-install/prima-authz.conf</code>, the information will be more verbose:
<pre class="file">
PID: 25365 -- PRIMA DEBUG prima&#95;soap&#95;client.c:37
&#60;Request xmlns&#61;&#34;urn:oasis:names:tc:SAML:1.0:protocol&#34;
        IssueInstant&#61;&#34;2007-05-01T17:50:37Z&#34;
        MajorVersion&#61;&#34;1&#34;
        MinorVersion&#61;&#34;0&#34;
        RequestID&#61;&#34;ee24604354274b10dc75bbd868eddd05&#34;
        xmlns:saml&#61;&#34;urn:oasis:names:tc:SAML:1.0:assertion&#34;
        xmlns:samlp&#61;&#34;urn:oasis:names:tc:SAML:1.0:protocol&#34;&#62;
  &#60;RespondWith&#62;saml:AuthorizationDecisionStatement&#60;/RespondWith&#62;
  &#60;RespondWith xmlns:rw&#61;&#34;opensciencegrid:authorization:saml&#34;&#62;
      rw:ObligatedAuthorizationDecisionStatement
  &#60;/RespondWith&#62;
  &#60;AuthorizationDecisionQuery Resource&#61;&#34;/DC&#61;org/DC&#61;doegrids/OU&#61;Services/CN&#61;cmssrv09.fnal.gov&#34;&#62;
  &#60;Subject xmlns&#61;&#34;urn:oasis:names:tc:SAML:1.0:assertion&#34;&#62;
    &#60;NameIdentifier&#62;/DC&#61;org/DC&#61;doegrids/OU&#61;People/CN&#61;John Weigand 458491&#60;/NameIdentifier&#62;
  &#60;/Subject&#62;
  &#60;Action xmlns&#61;&#34;urn:oasis:names:tc:SAML:1.0:assertion&#34;
          Namespace&#61;&#34;opensciencegrid:authorization&#34;&#62;
    access&#95;as&#95;local&#95;identity
  &#60;/Action&#62;
  &#60;Evidence xmlns&#61;&#34;urn:oasis:names:tc:SAML:1.0:assertion&#34;&#62;
    &#60;Assertion AssertionID&#61;&#34;c79bfe3c68eb8eb073f92c614d53918c&#34;
               IssueInstant&#61;&#34;2007-05-01T17:50:37Z&#34;
               Issuer&#61;&#34;/C&#61;CH/O&#61;CERN/OU&#61;GRID/CN&#61;host/lcg-voms.cern.ch&#34;
               MajorVersion&#61;&#34;1&#34;
               MinorVersion&#61;&#34;0&#34;
               xmlns&#61;&#34;urn:oasis:names:tc:SAML:1.0:assertion&#34;
               xmlns:saml&#61;&#34;urn:oasis:names:tc:SAML:1.0:assertion&#34;
               xmlns:samlp&#61;&#34;urn:oasis:names:tc:SAML:1.0:protocol&#34;&#62;
        &#60;AttributeStatement&#62;
           &#60;Subject&#62;
               &#60;NameIdentifier&#62;/DC&#61;org/DC&#61;doegrids/OU&#61;People/CN&#61;John Weigand 458491&#60;/NameIdentifier&#62;
           &#60;/Subject&#62;
           &#60;Attribute AttributeName&#61;&#34;FQAN&#34;
                      AttributeNamespace&#61;&#34;opensciencegrid:authorization&#34;
                      xmlns:xsd&#61;&#34;http://www.w3.org/2001/XMLSchema&#34;
                      xmlns:xsi&#61;&#34;http://www.w3.org/2001/XMLSchema-instance&#34;&#62;
             &#60;AttributeValue&#62;/cms/uscms/Role&#61;cmsuser/Capability&#61;NULL&#60;/AttributeValue&#62;
           &#60;/Attribute&#62;
        &#60;/AttributeStatement&#62;
    &#60;/Assertion&#62;
  &#60;/Evidence&#62;
  &#60;/AuthorizationDecisionQuery&#62;
&#60;/Request&#62;
  :
  :
 PID: 25365 -- PRIMA ERROR  prima&#95;module.c:408  Identity Mapping Service did not permit mapping

Failure: globus&#95;gss&#95;assist&#95;gridmap() failed authorization. gridmap.c:globus&#95;gss&#95;assist&#95;map&#95;and&#95;authorize:1910:
Error invoking callout
globus&#95;callout.c:globus&#95;callout&#95;handle&#95;call&#95;type:727:
The callout returned an error
prima&#95;module.c:Globus Gridmap Callout:430:
Gridmap lookup failure: Could not retrieve mapping for /DC&#61;org/DC&#61;doegrids/OU&#61;People/CN&#61;John Weigand 458491 from identity mapping server
</pre>
</div></div> <!--/twistyPlugin-->
<p />
<h1><a name="User_Unix_Accounts_and_Home_Dire"></a> User Unix Accounts and Home Directories </h1>
<p /> <ul>
<li> Verify that the Unix user name of the grid user exists on the <a href="/bin/view/Documentation/GlossaryG#DefsGatekeeper" class="twikiAnchorLink">Gatekeeper</a> and every <a href="/bin/view/Documentation/GlossaryW#DefsWorkerNode" class="twikiAnchorLink">Worker Node</a>.
</li> <li> Verify that the home directory of the Unix user exists and is accessible on the <a href="/bin/view/Documentation/GlossaryG#DefsGatekeeper" class="twikiAnchorLink">Gatekeeper</a> and every <a href="/bin/view/Documentation/GlossaryW#DefsWorkerNode" class="twikiAnchorLink">Worker Node</a>.
</li></ul> 
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  The Unix user name <em>may</em> be different on different worker nodes if no shared file system is provided where the different user names might collide!
</dd></dl> 
<p />
<h1><a name="GRAM_Log_Files"></a> GRAM Log Files </h1>
<p /> <ul>
<li> <a href="/bin/view/Documentation/GlossaryG#DefsGridResourceAllocationAndManagement" class="twikiAnchorLink">GRAM</a> creates a log file in the user's home directory for every job being executed at =~/gram_job_mgr_&lt;Integer&gt;
</li> <li> To prevent GRAM from deleting the log file after job execution finished, set <code>-save-logfile</code> to <em>always</em> in <code>$VDT_LOCATION/globus/etc/globus-job-manager.conf</code>:<pre class="file">
        -home "/opt/osg-1.2.32/globus"
        -globus-gatekeeper-host ce.opensciencegrid.org
        -globus-gatekeeper-port 2119
        -globus-gatekeeper-subject "/DC=org/DC=doegrids/OU=Services/CN=osg-ce.ligo.caltech.edu"
        -globus-host-cputype x86_64
        -globus-host-manufacturer unknown
        -globus-host-osname Linux
        -globus-host-osversion 2.6.18-194.11.4.el5xen
        -globus-toolkit-version 4.0.8
        -save-logfile <font color="#ff0000">always</font>
        -state-file-dir /opt/osg-1.2/globus/tmp/gram_job_state
        -machine-type unknown
        -extra-envvars LD_LIBRARY_PATH
</pre>
</li></ul> 
<p />
<!-- CONTENT MANAGEMENT PROJECT
<p />
   DEAR DOCUMENT OWNER
   <code><b>===============</b></code>
<p />
   Thank you for claiming ownership for this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/ReleaseDocumentation/FirstLast?topicparent=ReleaseDocumentation.TroubleshootingJobsAdmins" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local OWNER          = <span class="twikiNewLink">BrianBockelman<a href="/bin/edit/ReleaseDocumentation/BrianBockelman?topicparent=ReleaseDocumentation.TroubleshootingJobsAdmins" rel="nofollow" title="BrianBockelman (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
   Please define the document area, choose one of the defined areas from the next line
   DOC_AREA = (<span class="twikiNewLink">ComputeElement<a href="/bin/edit/ReleaseDocumentation/ComputeElement?topicparent=ReleaseDocumentation.TroubleshootingJobsAdmins" rel="nofollow" title="ComputeElement (this topic does not yet exist; you can create it)">?</a></span>|Storage|VO|Security|User|Monitoring|General|Trash/Trash/Integration|Operations|Tier3) <ul>
<li> Local DOC_AREA       = <span class="twikiNewLink">ComputeElement<a href="/bin/edit/ReleaseDocumentation/ComputeElement?topicparent=ReleaseDocumentation.TroubleshootingJobsAdmins" rel="nofollow" title="ComputeElement (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
   define the primary role the document serves, choose one of the defined roles from the next line
   DOC_ROLE = (Scientist|Student|Developer|SysAdmin|VOManager) <ul>
<li> Local DOC_ROLE       = <span class="twikiNewLink">SysAdmin<a href="/bin/edit/ReleaseDocumentation/SysAdmin?topicparent=ReleaseDocumentation.TroubleshootingJobsAdmins" rel="nofollow" title="SysAdmin (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
   Please define the document type, choose one of the defined types from the next line
   DOC_TYPE = (Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge) <ul>
<li> Local DOC_TYPE       = Troubleshooting
</li></ul> 
<p />
   Please define if this document in general needs to be reviewed before release ( 1 | 0 ) <ul>
<li> Local INCLUDE_REVIEW = 1
</li></ul> 
<p />
   Please define if this document in general needs to be tested before release ( 1 | 0 ) <ul>
<li> Local INCLUDE_TEST   = 1
</li></ul> 
<p />
   change to 1 once the document is ready to be reviewed and back to 0 if that is not the case <ul>
<li> Local REVIEW_READY   = 1
</li></ul> 
<p />
   change to 1 once the document is ready to be tested and back to 0 if that is not the case <ul>
<li> Local TEST_READY     = 1
</li></ul> 
<p />
   change to 1 only if the document has passed the review and the test (if applicable) and is ready for release <ul>
<li> Local RELEASE_READY  = 1
</li></ul> 
<p />
<p />
   DEAR DOCUMENT REVIEWER
   <code><b>==================</b></code>
<p />
   Thank for reviewing this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/ReleaseDocumentation/FirstLast?topicparent=ReleaseDocumentation.TroubleshootingJobsAdmins" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local REVIEWER       = 
</li></ul> 
<p />
   Please define the review status for this document to be in progress ( 2 ), failed ( 0 ) or passed ( 1 ) <ul>
<li> Local REVIEW_PASSED  = 1
</li></ul> 
<p />
<p />
   DEAR DOCUMENT TESTER
   <code><b>================</b></code>
<p />
   Thank for testing this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/ReleaseDocumentation/FirstLast?topicparent=ReleaseDocumentation.TroubleshootingJobsAdmins" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local TESTER         = 
</li></ul> 
<p />
   Please define the test status for this document to be in progress ( 2 ), failed ( 0 ) or passed ( 1 ) <ul>
<li> Local TEST_PASSED    = 1
</li></ul> 
<p />
--></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: ReleaseDocumentation<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Trash/ReleaseDocumentationComputeElementInstall" class="twikiLink">ReleaseDocumentationComputeElementInstall</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>TroubleshootingJobsAdmins</span> <br />    
Topic revision: r17 - 07 Feb 2017 - 17:55:43 - <a href="/bin/view/Main/BrianBockelman" class="twikiLink">BrianBockelman</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />