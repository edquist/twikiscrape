%TOC%

---++ Purpose of this TWIKI
We were asked by Laurence Field to participate in GIN jobs discussion about runtime environment.
Laurence is organizing a BOF for this, including a discussion at OGF20 at Manchester May 7-11th.

There&#39;s a Wiki page at which different grids are documenting their procedures:
http://forge.gridforum.org/sf/wiki/do/viewPage/projects.gin/wiki/GINJobs

The Twiki here is meant to stimulate an internal OSG discussion, so we can converge on our public statement for GIN jobs.
Feel free to add your comments as you see fit.
-- Main.FkW - 19 Apr 2007

---++ Defining a Runtime Environment on OSG
We distinguish the following characteristics of the OSG runtime environment.

---+++ Information available prior to arriving at the site
We use the Generic Information Provider to implement the Glue schema 1.2 in OSG 0.6.
This provides a wealth of information about the site, and is accessible via CEMon in ClassAd form from the outside,
as well as being published via bdii to LCG.

The most important attributes relevant for the runtime environment is the network topology. I.e. does the site have incoming
and/or outgoing network access to the public internet? We consider this essential information relevant to the runtime environment
as there is little point in submitting a job that requires outgoing network access to a site that doesn&#39;t provide that.

If a site has some worker nodes with and some without incoming/outgoing access then it would be preferable to have seperate
submission mechanisms for nodes with differing network topology.

---+++ setting up the environment upon arrival
The first thing a job should do after arrival on an OSG site is:&lt;br&gt;
source ${OSG_GRID}/setup.sh &lt;br&gt;
This is sufficient to setup the full environment, including LD_LIBRARY_PATH, as well as PATH, as well as environment
variables. While there are a number of environment variables setup even prior to sourcing this, we do not guarantee
a uniform execution environment of any sort, shape, or form unless this setup is sourced.
 
---+++ Environment variables
There&#39;s a standard set of 15 environment variables that are set on OSG.
Below we list some of the most important.

   * OSG_GRID: base location for the worker node client installation. 
   * OSG_WN_TMP  local execution area of the job on the worker node. This area persists only during the time a job is running on a worker node.
        It is generally not shared among jobs, and deleted after the job vacates the worker node. We strongly urge all jobs to work from within
        this area!
   * OSG_APP  area for application software that is desired to be persistent across jobs. This is generally read-only from the worker nodes.
        Writing to it is done via jobmanager-fork.
   * OSG_DATA (optional, i.e. not available at all sites) area that is shared across the worker nodes at a site for read/write access.
        It is used as staging area, and to store data that is required for multiple jobs. It is not managed in any way, and thus not reliable as
        it may fill up any time.

---+++ Executables available
There&#39;s a standard set of clients that is guaranteed to be available at all sites, and in the path after the runtime environment is set up.
In OSG 0.6 this includes:
   * uberftp
   * srmcp
   * globus-url-copy

 
---+++ What else should be mentioned?

-- Main.FkW - 19 Apr 2007

