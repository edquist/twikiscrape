<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> TWikiPrefsDotPm &lt; TWiki &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/TWiki/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/TWiki/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/TWiki/TWikiPrefsDotPm?_T=16 Feb 2017" type="application/x-wiki" title="edit TWikiPrefsDotPm" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/TWiki/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/TWiki/TWikiPrefsDotPm"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFD8AA ;
	}
	.patternBookView {
		border-color:#FFD8AA ;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Package_TWiki_Prefs"></a> Package <code>TWiki::Prefs</code> </h1>
<p />
The Prefs class is a singleton that implements management of preferences.
It uses a stack of TWiki::Prefs::PrefsCache objects to store the
preferences for global, web, user and topic contexts, and provides
the means to look up preferences in these.
<p />
Preferences from different places stack on top of each other, so there
are global preferences, then site, then web (and subweb and subsubweb),
then topic, included topic and so on. Each level of the stack is tagged with
a type identifier.
<p />
The module also maintains a separate of the preferences found in every topic
and web it reads. This supports the lookup of preferences for webs and topics
that are not on the stack, and must not be chained in (you can't allow
a user to override protections from their home topic!)
<p />
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Package_TWiki_Prefs"> Package TWiki::Prefs</a> <ul>
<li> <a href="?cover=print#ClassMethod_new_session_cache"> ClassMethod new <tt>($session[,$cache])</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_finish"> ObjectMethod finish <tt></tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_push_GlobalPreferen"> ObjectMethod pushGlobalPreferences <tt>()</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_pushPreferences_web"> ObjectMethod pushPreferences <tt>($web,$topic,$type)</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_push_WebPreferences"> ObjectMethod pushWebPreferences <tt>($web)</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_push_PreferencesVal"> ObjectMethod pushPreferencesValues <tt>($type,\%values)</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_mark"> ObjectMethod mark <tt>()</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_resetTo_mark"> ObjectMethod resetTo <tt>($mark)</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_get_PreferencesValu"> ObjectMethod getPreferencesValue <tt>($key) -&gt; $value</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_isFinalised_key"> ObjectMethod isFinalised <tt>($key)</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_get_TopicPreference"> ObjectMethod getTopicPreferencesValue <tt>($key,$web,$topic) -&gt; $value</tt></a>
</li> <li> <a href="?cover=print#get_TextPreferencesValue_key_tex"> getTextPreferencesValue( $key, $text, $meta, $web, $topic ) -&gt; $value</a>
</li> <li> <a href="?cover=print#ObjectMethod_get_WebPreferencesV"> ObjectMethod getWebPreferencesValue <tt>($key,$web) -&gt; $value</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_stringify_text">ObjectMethod stringify() -&gt; $text</a>
</li></ul> 
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ClassMethod_new_session_cache"></a> <a href="/bin/view/TWiki/ClassMethod" class="twikiLink">ClassMethod</a> <strong>new</strong> <tt>($session[,$cache])</tt> </span></h2>
<p />
Creates a new Prefs object. If $cache is defined, it will be
pushed onto the stack.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_finish"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>finish</strong> <tt></tt> </span></h2>
Complete processing after the client's HTTP request has been responded
to.  <ol>
<li> breaking circular references to allow garbage collection in persistent     environments
</li></ol> 
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_push_GlobalPreferen"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>pushGlobalPreferences</strong> <tt>()</tt> </span></h2>
Add global preferences to this preferences stack.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_pushPreferences_web"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>pushPreferences</strong> <tt>($web,$topic,$type)</tt> </span></h2> <ul>
<li> <code>$web</code> - web to read from
</li> <li> <code>$topic</code> - topic to read
</li> <li> <code>$type</code> - DEFAULT, SITE, USER, SESSION, WEB, TOPIC or PLUGIN
</li> <li> <code>$prefix</code> - key prefix for all preferences (used for plugins)
</li></ul> 
Reads preferences from the given topic, and pushes them onto the
preferences stack.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_push_WebPreferences"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>pushWebPreferences</strong> <tt>($web)</tt> </span></h2>
<p />
Pushes web preferences. Web preferences for a particular web depend
on the preferences of all containing webs.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_push_PreferencesVal"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>pushPreferencesValues</strong> <tt>($type,\%values)</tt> </span></h2>
Push a new preference level using type and values given
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_mark"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>mark</strong> <tt>()</tt> </span></h2>
Return a marker representing the current top of the preferences
stack. Used to remember the stack when new web and topic preferences
are pushed during a topic include.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_resetTo_mark"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>resetTo</strong> <tt>($mark)</tt> </span></h2>
Resets the preferences stack to the given mark, to recover after a topic
include.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_get_PreferencesValu"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>getPreferencesValue</strong> <tt>($key) -&gt; $value</tt> </span></h2> <ul>
<li> =$key - key to look up
</li></ul> 
<p />
Returns the value of the preference <code>$key</code>, or undef.
<p />
Looks up local preferences when the level
topic is the same as the current web,topic in the session.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_isFinalised_key"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>isFinalised</strong> <tt>($key)</tt> </span></h2>
Return true if $key is finalised somewhere in the prefs stack
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_get_TopicPreference"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>getTopicPreferencesValue</strong> <tt>($key,$web,$topic) -&gt; $value</tt> </span></h2>
<p />
Recover a preferences value that is defined in a specific topic. Does
not recover web, user or global settings.
<p />
Intended for use in protections mechanisms, where the order doesn't match
the prefs stack.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="get_TextPreferencesValue_key_tex"></a> getTextPreferencesValue( $key, $text, $meta, $web, $topic ) -&gt; $value </span></h2>
Get a preference value from the settings in the text (and/or optional $meta).
The values read are <strong>not</strong> cached.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_get_WebPreferencesV"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>getWebPreferencesValue</strong> <tt>($key,$web) -&gt; $value</tt> </span></h2>
<p />
Recover a preferences value that is defined in the webhome topic of
a specific web.. Does not recover user or global settings, but
does recover settings from containing webs.
<p />
Intended for use in protections mechanisms, where the order doesn't match
the prefs stack.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_stringify_text"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> stringify() -&gt; $text </span></h2>
<p />
Generate a TML-formatted version of the current preferences</div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: TWiki<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>TWikiPrefsDotPm</span> <br />    
Topic revision: r4 - 25 Oct 2006 - 00:21:56 - <a href="/bin/view/Main/TWikiContributor" class="twikiLink">TWikiContributor</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />