<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> QuerySearch &lt; TWiki &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/TWiki/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/TWiki/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/TWiki/QuerySearch?_T=16 Feb 2017" type="application/x-wiki" title="edit QuerySearch" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/TWiki/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/TWiki/QuerySearch"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFD8AA ;
	}
	.patternBookView {
		border-color:#FFD8AA ;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> 
<h1><a name="Query_Search"></a> Query Search </h1>
<p />
Query searches help you search the contents of forms attached to your topics, as well as the values of other meta-data attached to the topic. Using query searches you can search: <ol>
<li> The fields of forms
</li> <li> Parent relationships
</li> <li> File attachment information (but <strong>not</strong> the attached files themselves)
</li></ol> 
<p />
Query searches are defined using a simple SQL-like query language. The language consists of <em>field specifiers</em> and <em>constants</em> joined with <em>operators</em>.
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Query_Search"> Query Search</a> <ul>
<li> <a href="?cover=print#Field_specifiers"> Field specifiers</a>
</li> <li> <a href="?cover=print#Constants"> Constants</a>
</li> <li> <a href="?cover=print#Operators"> Operators</a>
</li> <li> <a href="?cover=print#Putting_it_all_together"> Putting it all together</a>
</li> <li> <a href="?cover=print#Examples"> Examples</a> <ul>
<li> <a href="?cover=print#Query_examples"> Query examples</a>
</li> <li> <a href="?cover=print#Search_examples"> Search examples</a>
</li></ul> 
</li></ul> 
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Field_specifiers"></a> Field specifiers </span></h2>
You use field specifiers to say what value from the topic you are interested
in.
<p />
All meta-data in a topic is referenced according to a to a simple plan.
<p /> <ul>
<li> <code>name</code> - name of the topic
</li> <li> <code>web</code> - name of the web the topic is within
</li> <li> <code>text</code> - the body text of the topic
</li> <li> <code>META:FILEATTACHMENT</code> <ul>
<li> <em>for each attachment</em> <ul>
<li> <code>name</code>
</li> <li> <code>attr</code>
</li> <li> <code>path</code>
</li> <li> <code>size</code>
</li> <li> <code>user</code>
</li> <li> <code>rev</code>
</li> <li> <code>date</code>
</li> <li> <code>comment</code>
</li></ul> 
</li></ul> 
</li> <li> <code>META:TOPICPARENT</code> <ul>
<li> <code>name</code>
</li></ul> 
</li> <li> <code>META:TOPICINFO</code> <ul>
<li> <code>author</code>
</li> <li> <code>date</code>
</li> <li> <code>format</code>
</li> <li> <code>version</code>
</li></ul> 
</li> <li> <code>META:TOPICMOVED</code> <ul>
<li> <code>by</code>
</li> <li> <code>date</code>
</li> <li> <code>from</code>
</li> <li> <code>to</code>
</li></ul> 
</li> <li> <code>META:FORM</code> - the main form of the topic <ul>
<li> <code>name</code> (known as the <em>formname</em>)
</li></ul> 
</li> <li> <code>META:FIELD</code> - the fields in the form. <ul>
<li> <em>for each field in the form</em> <ul>
<li> <code>name</code>
</li> <li> <code>title</code>
</li> <li> <code>value</code>
</li></ul> 
</li></ul> 
</li> <li> <code>META:PREFERENCE</code> <ul>
<li> <em>for each preference in the topic</em> <ul>
<li> <code>name</code>
</li> <li> <code>value</code>
</li></ul> 
</li></ul> 
</li></ul> 
<p />
See <a href="/bin/view/TWiki/TWikiMetaData" class="twikiLink">TWikiMetaData</a> for details of what all these entries mean.
<p />
Most things at the top level of the plan - <code>META:TOPICPARENT</code>, <code>META:TOPICINFO</code> etc - are <em>structures</em> which are indexed by <em>keys</em>. For example, <code>META:TOPICINFO</code> has 4 entries, which are indexed by the keys <code>author</code>, <code>date</code>, <code>format</code> and <code>version</code>. <code>META:FILEATTACHMENT</code>, <code>META:FIELD</code> and <code>META:PREFERENCE</code> are all <em>arrays</em>, which means they can have any number of records under them. Arrays are indexed by <em>numbers</em> - for example, the first entry in the <code>META:FIELD</code> array is entry 0.
<p />
It's a bit clumsy having to type <code>META:FILEATTACHMENT</code> every time you want to refer to the array of attachments in a topic, so there are some predefined aliases that make it a bit less typing: <ul>
<li> <code>attachments</code> means the same as <code>META:FILEATTACHMENT</code>
</li> <li> <code>info</code> means the same as <code>META:TOPICINFO</code>
</li> <li> <code>parent</code> means the same as <code>META:TOPICPARENT</code>
</li> <li> <code>moved</code> means the same as <code>META:TOPICMOVED</code>
</li> <li> <code>form</code> means the same as <code>META:FORM</code>
</li> <li> <code>fields</code> means the same as <code>META:FIELD</code>, You can also use the name of the form (the value of <code>form.name</code> e.g. <code>PersonForm</code>)
</li> <li> <code>preferences</code> means the same as <code>META:PREFERENCE</code>
</li></ul> 
<p />
This plan is referenced using a simple syntax:
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table1" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/TWiki/QuerySearch?cover=print;sortcol=0;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Syntax</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/TWiki/QuerySearch?cover=print;sortcol=1;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Means</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/TWiki/QuerySearch?cover=print;sortcol=2;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Examples</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>X</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> refers to the field named <code>X</code>. </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> <code>info</code>, <code>META:TOPICMOVED</code>, <code>attachments</code>, <code>name</code>. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>X.Y</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> refers to the entry with the key <code>Y</code> in the structure named <code>X</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> <code>info.date</code>, <code>moved.by</code>, <code>META:TOPICPARENT.name</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>X[<i>query</i>]</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> refers to all the elements of the array <code>X</code> that match <em>query</em>. If <i>query</i> is of the form <code>name='Y'</code> then you can use the same <code>X.Y</code> syntax as is used for accessing structures. </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> <code>attachments[size&gt;1024]</code>, <code>DocumentForm[name!='Summary' AND value~'top secret'].value</code>, <code>DocumentForm.Summary</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>X[N]</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> where <code>X</code> is an array and <code>N</code> is an integer number &gt;= 0, gets the Nth element of the array <code>X</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> <code>attachments[3]</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>X/Y</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> accesses <code>Y</code> from the topic specified by the <em>value</em> of <code>X</code>. <code>X</code> must evaluate to a topic name </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> <code>parent.name/(form.name='ExampleForm')</code> will evaluate to true if (1) the topic has a parent, (2) the parent topic has the main form type <code>ExampleForm</code>. </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
Note: at some point TWiki may support multiple forms in the same topic. For this reason you are recommended <strong>not</strong> to use the <code>fields</code> shortcut when accessing form fields, but always use the name of the form instead.
<p />
There is a shortcut for accessing form fields. If you use the name of a field (for example, <code>LastName</code>) in the query without a . before it, that is taken to mean "the value of the field named this". This works if and only if the field name isn't the same as of the top level entry names or their aliases described above. For example, the following expressions will all evaluate to the same thing: <ul>
<li> <code>PersonForm[name='Lastname'].value</code>
</li> <li> <code>Lastname</code>
</li> <li> <code>PersonForm.Lastname</code>
</li></ul> 
If <code>X</code> would conflict with the name of an entry or alias (e.g. it's <code>moved</code> or maybe <code>parent</code>), you can prepend the name of the form followed by a dot, as shown in the last example. 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Constants"></a> Constants </span></h2>
You use constants for the values that you compare with fields. Constants are either strings, or numbers. Strings are always delimited by single-quotes (you can escape a quote using backslash). Numbers can be any integer or floating point number. 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Operators"></a> Operators </span></h2>
<p />
Field specifiers and constants are combined using <em>operators</em> to create queries.
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table2" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/TWiki/QuerySearch?cover=print;sortcol=0;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Operator</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/TWiki/QuerySearch?cover=print;sortcol=1;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Meaning</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>=</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Left-hand side (LHS) exactly matches the value on the Right-hand side (RHS). Numbers and strings can be compared. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>!=</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Inverse of <code>=</code>. </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>~</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> wildcard match ('*' will match any number of characters, '?' will match any single character e.g. "PersonForm.Surname ~ '*Smit?'") Note: Surname ~ 'Smith' is the same as Surname = 'Smith' </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>&lt;</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> LHS is less that RHS. If both sides are numbers, the order is numeric. Otherwise it is alphabetic (applies to all comparison operators) </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>&gt;</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> &gt; </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>&gt;=</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> &gte; </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>&lt;=</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> &lte; </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>lc(x)</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Converts x to lower case, Use for caseless comparisons. </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>uc(x)</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Converts x to UPPER CASE. Use for caseless comparisons. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>d2n(x)</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Converts a date (expressed in <a href="/bin/view/TWiki/TimeSpecifications" class="twikiLink">one of the formats that TWiki can parse</a>) to a number of seconds since 1st Jan 1970. This is the format dates are stored in inside TWiki, and you have to convert a string date using <code>d2n</code> before you can compare it with - for example - the date an attachment was uploaded. Times without a timezone are assumed to be in server local time. If you have date fields in your forms, note that they are <strong>not</strong> stored in TWiki's internal format, but are stored as text strings. You should still use <code>d2n</code> to convert them to numbers for comparisons, though. </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>NOT</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Invert the result of the subquery </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>AND</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Combine two subqueries </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>OR</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Combine two subqueries </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>()</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> Bracketed subquery </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<img src="/twiki/pub/TWiki/TWikiDocGraphics/tip.gif" alt="IDEA!" title="IDEA!" width="16" height="16" border="0" />     The same operators are supported for <a href="/bin/view/TWiki/VarIF" class="twikiLink">%IF statements</a>.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Putting_it_all_together"></a> Putting it all together </span></h2>
When a query is applied to a topic, the goal is to reduce to a TRUE or FALSE value that indicates whether the topic matches that query or not. If the query returns TRUE, then the topic is included in the search results.
<p />
A query matches if the query returns one or more values when it is applied to the topic. So if I have a very simple query, such as <code>"attachments"</code>, then this will return TRUE for all topics that have one or more attachments. If I write <code>"attachments[size&gt;1024 AND name ~ '*.gif']"</code> then it will return TRUE for all topics that have at least one attachment larger than 1024 bytes with a name ending in <code>.gif</code>.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Examples"></a> Examples </span></h2>
<p />
<h3><a name="Query_examples"></a> Query examples </h3> <ul>
<li> <code>attachments[name='purdey.gif']</code> - true if there is an attachment call <code>purdey.gif</code> on the topic
</li> <li> <code>(fields[name='Firstname'].value='Emma' OR fields[name=Firstname].value='John') AND fields[name='Lastname'].value='Peel'</code> - true for 'Emma Peel' and 'John Peel' but <strong>not</strong> 'Robert Peel' or 'Emma Thompson'
</li> <li> <code>(Firstname='Emma' OR Firstname='John') AND Lastname='Peel'</code> - shortcut form of the previous query
</li> <li> <code>HistoryForm[name='Age'].value&gt;2</code> - true if the topic has a <code>HistoryForm</code>, and the form has a field called <code>Age</code> with a value &gt; 2
</li> <li> <code>HistoryForm.Age &gt; 2</code> - shortcut for the previous query
</li> <li> =preferences[name='FaveColour' AND value='Tangerine'] - true if the topic has the given preference setting and value
</li> <li> <code>Person/(<span class="twikiNewLink">ClothesForm<a href="/bin/edit/TWiki/ClothesForm?topicparent=TWiki.QuerySearch" rel="nofollow" title="ClothesForm (this topic does not yet exist; you can create it)">?</a></span>[name='Headgear'].value ~ '*Bowler*' AND attachments[name~'*hat.gif' AND date &lt; d2n('2007-01-01')])</code> - true if the form attached to the topic has a field called <code>Person</code> that has a value that is the name of a topic, and that topic contains the form <code>ClothesForm</code>, with a field called <code>Headgear</code>, and the value of that field contains the string <code>'Bowler'</code>, and the topic also has at least one attachment that has a name matching <code>*hat.gif</code> and a date before 1st Jan 2007. (Phew!)
</li></ul> 
<p />
<h3><a name="Search_examples"></a> Search examples </h3>
Find all topics that are children of this topic in the current web
<pre>
&#37;SEARCH{&#34;parent.name &#61; &#39;&#37;TOPIC&#37;&#39;&#34; web&#61;&#34;&#37;WEB&#37;&#34; type&#61;&#34;query&#34;}&#37;
</pre>
Find all topics that have an attachment called 'grunge.gif'
<pre>
&#37;SEARCH{&#34;attachments&#91;name&#61;&#39;grunge.gif&#39;]&#34; type&#61;&#34;query&#34;}&#37;
</pre>
Find all topics that have form <code>ColourForm</code> where the form field 'Shades' is 'green' or 'yellow' but not 'brown'
<pre>
&#37;SEARCH{&#34;(lc(Shades)&#61;&#39;green&#39; OR lc(Shades)&#61;&#39;yellow&#39;) AND NOT(lc(Shades) ~ &#39;brown&#39;)&#34; type&#61;&#34;query&#34;}&#37;
</pre>
Find all topics that have PNG attachments that have been added since 26th March 2007
<pre>
&#37;SEARCH{&#34;attachments&#91;name ~ &#39;&#42;.png&#39; AND date &#62;&#61; d2n(&#39;2007-03-26&#39;)&#34;}&#37;
</pre>
Find all topics that have a field 'Threat' set to 'Amber' and 'cold virus' somewhere in the topic text.
<pre>
&#37;SEARCH{&#34;Threat&#61;&#39;Amber&#39; AND text ~ &#39;&#42;cold virus&#42;&#39;&#34;}&#37;
</pre></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: TWiki<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/TWiki/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a> &gt; <a href="/bin/view/TWiki/TWikiVariables" class="twikiLink">TWikiVariables</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>QuerySearch</span> <br />    
Topic revision: r1 - 14 Jan 2007 - 00:44:52 - <a href="/bin/view/Main/TWikiContributor" class="twikiLink">TWikiContributor</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />