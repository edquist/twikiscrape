<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> TWikiInfixParserDotPm &lt; TWiki &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/TWiki/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/TWiki/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/TWiki/TWikiInfixParserDotPm?_T=16 Feb 2017" type="application/x-wiki" title="edit TWikiInfixParserDotPm" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/TWiki/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/TWiki/TWikiInfixParserDotPm"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFD8AA ;
	}
	.patternBookView {
		border-color:#FFD8AA ;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Package_TWiki_Infix_Parser"></a> Package <code>TWiki::Infix::Parser</code> </h1>
<p />
A simple stack-based parser that parses infix expressions with nonary,
unary and binary operators specified using an operator table.
<p />
Escapes are supported in strings, using backslash.
<p />
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Package_TWiki_Infix_Parser"> Package TWiki::Infix::Parser</a> <ul>
<li> <a href="?cover=print#new_client_class_options_parser"> new($client_class, \%options) -&gt; parser object</a>
</li> <li> <a href="?cover=print#ObjectMethod_addOperator_oper"> ObjectMethod addOperator <tt>(%oper)</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_parse_string_parseT"> ObjectMethod parse <tt>($string) -&gt; $parseTree</tt></a>
</li></ul> 
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="new_client_class_options_parser"></a> new($client_class, \%options) -&gt; parser object </span></h2>
<p />
Creates a new infix parser. Operators must be added for it to be useful.
<p />
The tokeniser matches tokens in the following order: operators,
quotes (" and '), numbers, words, brackets. If you have any overlaps (e.g.
an operator '&lt;' and a bracket operator '&lt;&lt;') then the first choice
will match.
<p />
<code>$client_class</code> needs to be the <em>name</em> of a <em>package</em> that supports the
following two functions: <ul>
<li> <code>newLeaf($val, $type)</code> - create a terminal. $type will be: <ol>
<li> if the terminal matched the <code>words</code> specification (see below).
</li> <li> if it is a number matched the <code>numbers</code> specification (see below)
</li> <li> if it is a quoted string
</li></ol> 
</li> <li> =newNode($op, @params) - create a new operator node. @params     is a variable-length list of parameters, left to right. $op     is a reference to the operator hash in the \@opers list.
</li></ul> 
These functions should throw Error::Simple in the event of errors.
TWiki::Infix::Node is such a class, ripe for subclassing.
<p />
The remaining parameters are named, and specify options that affect the
behaviour of the parser: <ol>
<li> <code>words=&gt;qr//</code> - should be an RE specifying legal words (unquoted     terminals that are not operators i.e. names and numbers). By default     this is <code>\w+</code>.     It's ok if operator names match this RE; operators always have precedence     over atoms.
</li> <li> <code>numbers=&gt;qr//</code> - should be an RE specifying legal numbers (unquoted     terminals that are not operators or words). By default     this is <code>qr/[+-]?(?:\d+\.\d+|\d+\.|\.\d+|\d+)(?:[eE][+-]?\d+)?/</code>,     which matches integers and floating-point numbers. Number     matching always takes precedence over word matching (i.e. "1xy" will     be parsed as a number followed by a word. A typical usage of this option     is when you only want to recognise integers, in which case you would set     this to <code>numbers =&gt; qr/\d+/</code>.
</li></ol> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_addOperator_oper"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>addOperator</strong> <tt>(%oper)</tt> </span></h2>
Add an operator to the parser.
<p />
<code>%oper</code> is a hash, containing the following fields: <ul>
<li> <code>name</code> - operator string
</li> <li> <code>prec</code> - operator precedence, positive non-zero integer.     Larger number =&gt; higher precedence.
</li> <li> <code>arity</code> - set to 1 if this operator is unary, 2 for binary. Arity 0     is legal, should you ever need it.
</li> <li> <code>close</code> - used with bracket operators. <code>name</code> should be the open     bracket string, and <code>close</code> the close bracket. The existance of <code>close</code>     marks this as a bracket operator.
</li> <li> <code>casematters=</code> - indicates that the parser should check case in the     operator name (i.e. treat 'AND' and 'and' as different).     By default operators are case insensitive. <strong>Note</strong> that operator     names must be caselessly unique i.e. you can't define 'AND' and 'and'     as different operators in the same parser. Does not affect the     interpretation of non-operator terminals (names).
</li></ul> 
Other fields in the hash can be used for other purposes; the parse tree
generated by this parser will point to the hashes passed to this function.
<p />
Field names in the hash starting with <code>InfixParser_</code> are reserved for use
by the parser.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_parse_string_parseT"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>parse</strong> <tt>($string) -&gt; $parseTree</tt> </span></h2>
Parses <code>$string</code>, calling <code>newLeaf</code> and <code>newNode</code> in the client class
as necessary to create a parse tree. Returns the result of calling <code>newNode</code>
on the root of the parse.
<p />
Throws TWiki::Infix::Error in the event of parse errors.
<p /></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: TWiki<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>TWikiInfixParserDotPm</span> <br />    
Topic revision: r1 - 22 Jan 2008 - 03:21:23 - <a href="/bin/view/Main/TWikiContributor" class="twikiLink">TWikiContributor</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />