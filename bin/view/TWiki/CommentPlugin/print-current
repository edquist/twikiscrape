<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> CommentPlugin &lt; TWiki &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/TWiki/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/TWiki/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/TWiki/CommentPlugin?_T=16 Feb 2017" type="application/x-wiki" title="edit CommentPlugin" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/TWiki/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/TWiki/CommentPlugin"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFD8AA ;
	}
	.patternBookView {
		border-color:#FFD8AA ;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> 
<h1><a name="Comment_Plugin"></a>  Comment Plugin </h1>
<p />
<!--
<p />
   PLEASE DO NOT EDIT THIS TOPIC
<p />
   It is automatically generated from the subversion repository, and any changes
   you make will simply be overwritten the next time a release is generated.
<p />
   Instead, you could check your fix in, raise a bug in the Bugs web, or mail thge author.
-->
This plugin allows users to quickly post comments to a page without an edit/preview/save cycle. 
<p />
<strong>WARNING: TWiki-4 only. If you want to use this plugin with an earlier version of TWiki, please see <a href="http://twiki.org/cgi-bin/view/Plugins/CommentPlugin?rev=1.57" target="_top">here</a></strong>
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Features"> Features</a>
</li> <li> <a href="?cover=print#Syntax_Rules"> Syntax Rules</a> <ul>
<li> <a href="?cover=print#Positioning_the_comment"> Positioning the comment</a> <ul>
<li> <a href="?cover=print#Location_relative_to_COMMENT_tag"> Location relative to <code>%COMMENT</code> tag</a>
</li> <li> <a href="?cover=print#Location_relative_to_a_TWiki_anc"> Location relative to a TWiki anchor</a>
</li> <li> <a href="?cover=print#Location_relative_to_an_arbitrar"> Location relative to an arbitrary text string</a>
</li></ul> 
</li> <li> <a href="?cover=print#Default_templates"> Default templates</a>
</li></ul> 
</li> <li> <a href="?cover=print#Customisation"> Customisation</a> <ul>
<li> <a href="?cover=print#The_PROMPT_template"> The PROMPT template</a>
</li> <li> <a href="?cover=print#The_OUTPUT_template"> The OUTPUT template</a>
</li></ul> 
</li> <li> <a href="?cover=print#Settings"> Settings</a>
</li> <li> <a href="?cover=print#Plugin_Installation_Instructions"> Plugin Installation Instructions</a>
</li> <li> <a href="?cover=print#Plugin_Info"> Plugin Info</a>
</li></ul> 
</div>
<h1><a name="Features"></a> Features </h1>
<p />
Inserts an edit box into the page that allows users to type in and save comments. Comments can be made <ul>
<li> in different formats (as defined by a template),
</li> <li> in both forward and reverse chronological order,  
</li> <li> signed or unsigned, dated or undated (as defined by a template),
</li> <li> in other topics, or other positions within the current topic.
</li></ul> 
<p />
<h1><a name="Syntax_Rules"></a> Syntax Rules </h1>
<p />
Write the command <code>%COMMENT{</code> <em>attributes</em> <code>}%</code> anywhere in a TWiki topic. %COMMENT% is also legal.
<p />
<a name="StandardAttrs"></a>
The following attributes are <a href="/bin/view/TWiki/CommentPlugin#MoreAttrs" class="twikiCurrentTopicLink twikiAnchorLink">recognised</a>
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
          <table cellspacing="0" id="table1" cellpadding="0" class="twikiTable" rules="cols" border="1">   
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/TWiki/CommentPlugin?cover=print;sortcol=0;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Name</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/TWiki/CommentPlugin?cover=print;sortcol=1;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Description</font></a> </th>
		</tr>   
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>type</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> This is the name of the template to use for this comment. Comment templates are defined in a TWiki template - see <a href="/bin/view/TWiki/CommentPlugin#TemPlates" class="twikiCurrentTopicLink twikiAnchorLink">Customisation</a>, below. If this attribute is not defined, the type is whatever is defined by COMMENTPLUGIN_DEFAULT_TYPE, either in this topic or in your <a href="/bin/view/TWiki/WebPreferences" class="twikiLink">WebPreferences</a>. By default this is 'below'. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>target</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Name of the topic to add the comment to. Defaults to the current topic. </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>location</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Regular expression specifying the comment location in the target topic. Read <em>carefully</em> below! </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>mode</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> For compatability with older versions only, synonymous with <code>type</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>nonotify</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Set to "on" to disable change notification for target topics </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>noform</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> Set to "on" to disable the automatic form that encloses your comment block - <em>remember</em> to insert <code>&lt;FORM&gt;</code> tags yourself! </td>
		</tr>   </table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Positioning_the_comment"></a> Positioning the comment </span></h2>
<code>%COMMENT</code> supports several ways to specify <em>where</em> a comment should be inserted in the target topic. This is referred to as the <em>location</em> of the comment.
<p />
<h3><a name="Location_relative_to_COMMENT_tag"></a> Location relative to <code>%COMMENT</code> tag </h3>
The default <em>location</em> is the <code>%COMMENT</code> tag itself. For example:
<pre>
&#37;COMMENT{type&#61;&#34;below&#34;}&#37;
</pre>
will add comments in the current topic, directly below the <code>%COMMENT</code> tag.
<p />
<h3><a name="Location_relative_to_a_TWiki_anc"></a> Location relative to a TWiki anchor </h3>
The <code>target</code> attribute may specify a web, and may also specify an anchor within the target topic; for example, 
<pre>
&#37;COMMENT{type&#61;&#34;above&#34; target&#61;&#34;&#37;MAINWEB&#37;.PersonalRemarks#InsertHere&#34;}&#37;
</pre>
This uses a standard TWiki in-topic anchor as the insertion location. See <a href="/bin/view/TWiki/TextFormattingRules" class="twikiLink">TextFormattingRules</a> for more about TWiki anchors.
<p />
<h3><a name="Location_relative_to_an_arbitrar"></a> Location relative to an arbitrary text string </h3>
Getting more sophisticated, you can also specify a regular expression for the target location using the <code>location</code> parameter. The target topic is searched for the regular expression, and the comment inserted relative to the string that the search matched. For example,
<pre>
&#37;COMMENT{type&#61;&#34;above&#34; location&#61;&#34;Flights of Fancy&#34;}&#37;
</pre>
will place comments above the first occurence of the string <code>Flights of Fancy</code> in the current topic.
<p />
<strong>Warning</strong> of course, if a user's comment contains the string "Flights of Fancy" they may and up <em>changing the location</em> for the next comment! Also, if you use a tag in the location, then you've just inserted another tag in the page that contains the <code>%COMMENT</code>! So be very careful how you specify the RE for <code>location</code>. Note that the RE is matched using perl "multiple line" mode, so ^ and $ match the start of a line and the end of a line respectively.
<p />
I look forward to someone leveraging this feature to create - for example - threaded conversations using <code>%COMMENT</code>.
<p />
If you specify an anchor <em>and</em> a <code>location</code>, the anchor will be ignored.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Default_templates"></a> Default templates </span></h2>
Templates are used to define the "comment style" i.e. how comments appear in the page. The default is to add comments in "Blog like" style using bulleted lists, with the most recent comment at the top, but many other styles are available such as tables or Wiki thread mode comments. It is easy to define your own customer styles as well.
<p />
A set of default comment templates are shipped with the plugin. These are:
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table2" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/TWiki/CommentPlugin?cover=print;sortcol=0;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Template type</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/TWiki/CommentPlugin?cover=print;sortcol=1;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Description</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>top</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Comments, signed and dated (server time), added at top of the topic (the anchor is ignored) </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>bottom</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Comments, signed and dated (server time), added at end of the target topic (the anchor is ignored) </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>above</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Comments, signed and dated (server time), added immediately before the target anchor, or the <code>%COMMENT</code> if no anchor is specified </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>below</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Comments, signed and dated (server time), added immediately below the target anchor, or the <code>%COMMENT</code> if no anchor is specified </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>threadmode</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Wiki thread mode comment, signed and dated (server time) </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>tableprepend</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Comments, signed and dated (server time), formatted as an HTML table row, added below the anchor (which must be in an HTML &lt;table&gt;) </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>tableappend</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> Comments, signed and dated (server time), formatted as an HTML table row, added above the anchor (which must be in an HTML &lt;table&gt;) </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
Your local installation may add more template types as well - see <a href="/bin/view/TWiki/CommentPlugin#TemPlates" class="twikiCurrentTopicLink twikiAnchorLink">Customisation</a>, below.
<p />
<a name="TemPlates"></a>
<h1><a name="Customisation"></a> Customisation </h1>
Customisation of the comment plugin requires <ul>
<li> familiarity with HTML forms,
</li> <li> some familiarity with the <a href="/bin/view/TWiki/TWikiTemplates" class="twikiLink">TWiki templating language</a>.
</li></ul> 
<p />
To define a comment type, you have to provide two simple template definitions in the template file; one for the prompt box, and one for the generated output. If we have a template type "mytype", these are named <code>PROMPT:mytype</code> and <code>OUTPUT:mytype</code> respectively. See <code>comments.tmpl</code> in the templates directory for examples.
<p />
The plugin picks up these template definitions from a standard TWiki template file, <code>templates/comments.tmpl</code>. This allows different templates to be defined for different TWiki skins. By default, this template includes the topic <a href="/bin/view/TWiki/CommentPluginTemplate" class="twikiLink">CommentPluginTemplate</a>, which contains all the shipped standard templates and in turn includes TWiki.UserCommentsTemplate. This allows for several levels of customisation: <ol>
<li> To override all default templates, everywhere, change <code>comments.tmpl</code> to include a different topic (this customisation will be lost next time you upgrade, though).
</li> <li> To add site-wide local template customisations, add them to TWiki.UserCommentsTemplate. You can redefine the standard templates here if you want, and your definitions will override the standard definitions.
</li> <li> To override templates on a web-by-web basis, add a topic UserCommentsTemplate to the web (this will replace TWiki.UserCommentsTemplate)
</li> <li> To override templates for a specific skin, add them to TWiki.UserComments&lt;Skin&gt;Template (where &lt;Skin&gt; is the name of the skin with the first letter capitalised, e.g. Pattern)
</li></ol> 
<p />
<img src="/twiki/pub/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" />     Templates are picked up by following the <a href="/bin/view/TWiki/TWikiTemplates#Finding_Templates" class="twikiAnchorLink">standard TWiki rules</a> for locating template files. Note that you can use <code>%TMPL:INCLUDE</code> to include other files of templates.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="The_PROMPT_template"></a> The <code>PROMPT</code> template </span></h2>
The <code>PROMPT</code> template defines the contents of an HTML form that is used to capture the comment. This form invokes the comment generator when submitted. Parameters to the comment generator are defined using standard HTML input fields, such as <code>input</code>, <code>textarea</code> and <code>select</code>. The user enters values for these parameters, and these are then available when the <code>OUTPUT</code> template is expanded, in the form of <code>%URLPARAM%</code>s.
<p />
Only the input fields of the form need be defined. The plugin automatically generates the <code>&gt;form&lt;</code> and <code>&amp;gt:/form&lt;</code> tags, unless you specify <code>noform="on"</code>, in which case you have to provide them yourself. <strong>Note</strong> that you must define a "submit" button if you want the form to work!
<p />
<a name="MoreAttrs"></a>
If an attribute is given to the <code>%COMMENT</code> tag that is not one of the <a href="/bin/view/TWiki/CommentPlugin#StandardAttrs" class="twikiCurrentTopicLink twikiAnchorLink">standard attributes</a>, then that attribute is taken as the name of a parameter to be expanded in the <code>PROMPT</code> template. Expressions in the template of the form <code>%</code><i>param</i><code>|</code><i>default</i><code>%</code> (e.g. <code>%rows|3%</code>, <code>%button|Push me%</code>) are expanded to the values given in the <code>%COMMENT</code>. For example, if the <code>PROMPT</code> template 'example' contains:
<pre>
&lt;textarea rows=%rows|3% cols="%cols|50%" value="%tval|Rubbish%">
</pre>
and the %COMMENT tag is:
<pre>
%COMMENT{type="example" cols="75"}%
</pre>
then the template will be expanded as
<pre>
&lt;textarea rows="3" cols="75" value="Rubbish">
</pre>
<p />
As well as support for all the usual TWiki variables in templates, the following special variables are supported in the <code>PROMPT</code> definition:
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
       <table cellspacing="0" id="table3" cellpadding="0" class="twikiTable" rules="cols" border="1">    
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/TWiki/CommentPlugin?cover=print;sortcol=0;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Variable</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/TWiki/CommentPlugin?cover=print;sortcol=1;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Description</font></a> </th>
		</tr>    
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>%MESSAGE%</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> A helpful generated message, either a lock message or a reminder to refresh. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>%DISABLED%</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> Set to 'disabled' when you cannot comment (e.g. in preview mode). </td>
		</tr>    </table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="The_OUTPUT_template"></a> The <code>OUTPUT</code> template </span></h2>
The <code>OUTPUT</code> template defines the format for the text that actually gets embedded into the topic. All the usual TWiki variables are available in the <code>PROMPT</code> definition, but note that they get expanded <em>when the comment is inserted in the text</em>, so time, date and username will refer to the time and date when the comment was made and the user who made it.
<p />
There are also four position tags that are used to indicate where the comment should be placed, relative to the <code>location</code> defined in the <code>%COMMENT</code> tag:
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
        <table cellspacing="0" id="table4" cellpadding="0" class="twikiTable" rules="cols" border="1">    
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>%POS:TOP%</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> If present, comments will be inserted <strong>at the top of the topic</strong> i.e. before any other text </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>%POS:BOTTOM%</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> If present, comments will be inserted <strong>at the end of the topic</strong> i.e. after all existing text </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>%POS:BEFORE%</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> If present, comments will be inserted <b>immediately before the <code>%COMMENT%</code> tag</b> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>%POS:AFTER%</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> If present, comments will be inserted <b>immediately after the <code>%COMMENT%</code> tag</b> </td>
		</tr>    </table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
Note that these position tags are obviously mutually exclusive. If you define more than one, the result is undefined. If none is present, the default is taken from the plugin setting <code>DEFAULT_TYPE</code>
<p />
All the usual <a href="/bin/view/TWiki/TWikiVariables" class="twikiLink">TWikiVariables</a> that can be used in a topic template can also be used in an <code>OUTPUT</code> template. See <a href="/bin/view/TWiki/TWikiVariables" class="twikiLink">TWikiVariables</a> for details.
<p />
<h1><a name="Settings"></a> Settings </h1> <ul>
<li> Description: <ul>
<li> Set SHORTDESCRIPTION = Allows users to quickly post comments to a page without an edit/preview/save cycle.
</li></ul> 
</li> <li> Name of file in the 'templates' directory that contains the comment templates. The default 'comments.tmpl' automatically includes user templates from <span class="twikiNewLink">CommentsTmpl<a href="/bin/edit/TWiki/CommentsTmpl?topicparent=TWiki.CommentPlugin" rel="nofollow" title="CommentsTmpl (this topic does not yet exist; you can create it)">?</a></span> <ul>
<li> Set TEMPLATES = comments
</li></ul> 
</li> <li> default template type (if not present, defaults to "below") <ul>
<li> Set DEFAULT_TYPE = below
</li></ul> 
</li></ul> 
<p />
<h1><a name="Plugin_Installation_Instructions"></a> Plugin Installation Instructions </h1> <ul>
<li> This plugin is pre-installed in most TWiki releases. However if you need to upgrade the plugin for any reason: <ul>
<li> Download the archive file from the Plugin web (see below)
</li> <li> Unpack the archive in your twiki installation directory.
</li> <li> You may need to correct file permissions.
</li> <li> Run <code><b>CommentPlugin_installer</b></code> to automatically check and install other modules that this module depends on. You can also do this step manually. Dependencies:   %$DEPENDENCIES%
</li> <li> Visit <code>configure</code> in your TWiki installation, and enable the plugin in the {Plugins} section.
</li></ul> 
</li></ul> 
<h1><a name="Plugin_Info"></a> Plugin Info </h1>
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table5" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" align="right" valign="top" class="twikiTableCol0 twikiFirstCol"> Plugin Author: </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <a href="http://twiki.org/cgi-bin/view/Main.DavidWeller" title="'Main.DavidWeller' on TWiki.org">TWiki:Main.DavidWeller</a>, <a href="http://twiki.org/cgi-bin/view/Main.PeterMasiar" title="'Main.PeterMasiar' on TWiki.org">TWiki:Main.PeterMasiar</a>, <a href="http://twiki.org/cgi-bin/view/Main.CrawfordCurrie" title="'Main.CrawfordCurrie' on TWiki.org">TWiki:Main.CrawfordCurrie</a> <a href="http://www.c-dot.co.uk" target="_top">http://www.c-dot.co.uk</a> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> Change History: </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> 11118 </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel='nofollow' href='http://develop.twiki.org/~develop/cgi-bin/view/Bugs/Item2322'>Item2322</a> removed span tag around oneliner bullet output </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> 8788 </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel='nofollow' href='http://develop.twiki.org/~develop/cgi-bin/view/Bugs/Item1465'>Item1465</a>  Item1577: reverted 8433 to fix inclusion of correct user templates </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> 8787 </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel='nofollow' href='http://develop.twiki.org/~develop/cgi-bin/view/Bugs/Item1573'>Item1573</a>  renamed standard templates topic to avoid naming clash on Windows, where filenames are case-insensitive </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> 8433 </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel='nofollow' href='http://develop.twiki.org/~develop/cgi-bin/view/Bugs/Item1465'>Item1465</a>  Fix 'TWiki.' to '%TWIKIEB%.'; also fixed include 'UserComments' to 'UserCommentsTemplate' (at least that is what the doc suggests) </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> 7427 </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel='nofollow' href='http://develop.twiki.org/~develop/cgi-bin/view/Bugs/Item845'>Item845</a>  removed duplicate date in default comments; stick with server time </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> 7251 </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel='nofollow' href='http://develop.twiki.org/~develop/cgi-bin/view/Bugs/Item810'>Item810</a>  fix for user template inclusion; reorganised templates to make customisation easier </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> 5906 </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel='nofollow' href='http://develop.twiki.org/~develop/cgi-bin/view/Bugs/Item143'>Item143</a>  apache warning from comment plugin when <span class="twikiNewLink">CommentsTmpl<a href="/bin/edit/TWiki/CommentsTmpl?topicparent=TWiki.CommentPlugin" rel="nofollow" title="CommentsTmpl (this topic does not yet exist; you can create it)">?</a></span>.txt not foudn </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> 5519 </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> <span class="twikiNewLink">CommentPluginOnAnchorsBroken<a href="/bin/edit/TWiki/CommentPluginOnAnchorsBroken?topicparent=TWiki.CommentPlugin" rel="nofollow" title="CommentPluginOnAnchorsBroken (this topic does not yet exist; you can create it)">?</a></span>: incorporated <span class="twikiNewLink">JacobEisinger<a href="/bin/edit/TWiki/JacobEisinger?topicparent=TWiki.CommentPlugin" rel="nofollow" title="JacobEisinger (this topic does not yet exist; you can create it)">?</a></span>'s fix </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> 5518 </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <span class="twikiNewLink">CommentPluginOnAnchorsBroken<a href="/bin/edit/TWiki/CommentPluginOnAnchorsBroken?topicparent=TWiki.CommentPlugin" rel="nofollow" title="CommentPluginOnAnchorsBroken (this topic does not yet exist; you can create it)">?</a></span>: incorporated <span class="twikiNewLink">OlivierBerger<a href="/bin/edit/TWiki/OlivierBerger?topicparent=TWiki.CommentPlugin" rel="nofollow" title="OlivierBerger (this topic does not yet exist; you can create it)">?</a></span>'s fix </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> 5455 </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> On Niels Kodslo's prompting, removed the global recursion prevention that I believe is no longer needed. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> 5280 </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Removed templates, and some minor fixes </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> 5250 </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Removed newlines from prompt box </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> 4902 </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Changed to use viewauth. Moved templates into user topics. </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> 4901 </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Added templates in user webs support </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> 4897 </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Fixes for disabling during preview; re-enabled old legacy parameters </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> 4889 </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Chopped down from <span class="twikiNewLink">PeterMasiar<a href="/bin/edit/TWiki/PeterMasiar?topicparent=TWiki.CommentPlugin" rel="nofollow" title="PeterMasiar (this topic does not yet exist; you can create it)">?</a></span> version, removing several parameters, savecomment script, changing way templates are done. Major rewrite, atcherly. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> 4882 </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Update from <span class="twikiNewLink">PeterMasiar<a href="/bin/edit/TWiki/PeterMasiar?topicparent=TWiki.CommentPlugin" rel="nofollow" title="PeterMasiar (this topic does not yet exist; you can create it)">?</a></span>'s 2.0 version, plus documentation and small code improvements. </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> 4745 </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> 06Mar 2002 initial commit </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" align="right" valign="top" class="twikiTableCol0 twikiFirstCol"> Perl Version: </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> &gt;= 5.6.1 </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" align="right" valign="top" class="twikiTableCol0 twikiFirstCol"> Plugin Home: </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> <a href="http://twiki.org/cgi-bin/view/Plugins/CommentPlugin" title="'Plugins/CommentPlugin' on TWiki.org">TWiki:Plugins/CommentPlugin</a> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" align="right" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> Feedback: </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> <a href="http://twiki.org/cgi-bin/view/Plugins/CommentPluginDev" title="'Plugins/CommentPluginDev' on TWiki.org">TWiki:Plugins/CommentPluginDev</a> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<strong><em>Related Topics:</em></strong> <a href="/bin/view/TWiki/TWikiPreferences" class="twikiLink">TWikiPreferences</a>, <a href="/bin/view/TWiki/TWikiPlugins" class="twikiLink">TWikiPlugins</a>
<p />
-- <a href="http://twiki.org/cgi-bin/view/Main/CrawfordCurrie" title="'Main/CrawfordCurrie' on TWiki.org">TWiki:Main/CrawfordCurrie</a> - %$DATE%</div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: TWiki<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>CommentPlugin</span> <br />    
Topic revision: r4 - 27 Mar 2005 - 13:14:15 - <a href="/bin/view/Main/TWikiContributor" class="twikiLink">TWikiContributor</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />