<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> TWikiTemplates &lt; TWiki &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/TWiki/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/TWiki/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/TWiki/TWikiTemplates?_T=16 Feb 2017" type="application/x-wiki" title="edit TWikiTemplates" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/TWiki/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/TWiki/TWikiTemplates"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFD8AA ;
	}
	.patternBookView {
		border-color:#FFD8AA ;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <div class="twikiToc"> <ul>
<li> <a href="?cover=print#1_TWiki_Templates">1  TWiki Templates</a> <ul>
<li> <a href="?cover=print#Overview"> Overview</a>
</li> <li> <a href="?cover=print#The_TWiki_Template_System"> The TWiki Template System</a> <ul>
<li> <a href="?cover=print#How_Template_Directives_Work"> How Template Directives Work</a>
</li> <li> <a href="?cover=print#Finding_Templates"> Finding Templates</a>
</li></ul> 
</li> <li> <a href="?cover=print#Master_Templates"> Master Templates</a>
</li> <li> <a href="?cover=print#HTML_Page_Templates"> HTML Page Templates</a>
</li> <li> <a href="?cover=print#Template_Topics"> Template Topics</a> <ul>
<li> <a href="?cover=print#Edit_Template_Topics_and_Variabl"> Edit Template Topics and Variable Expansion</a>
</li> <li> <a href="?cover=print#Template_Topics_in_Action"> Template Topics in Action</a>
</li> <li> <a href="?cover=print#Automatically_Generated_Topicnam"> Automatically Generated Topicname</a>
</li></ul> 
</li> <li> <a href="?cover=print#Master_Templates_by_Example"> Master Templates by Example</a> <ul>
<li> <a href="?cover=print#Base_template_oopsbase_tmpl"> Base template oopsbase.tmpl</a>
</li> <li> <a href="?cover=print#Test_template_oopstest_tmpl"> Test template oopstest.tmpl</a>
</li> <li> <a href="?cover=print#Sample_screen_shot_of_oopstest_t"> Sample screen shot of oopstest.tmpl</a>
</li></ul> 
</li></ul> 
</li></ul> 
</div>
<p />
<h1><a name="1_TWiki_Templates"></a> 1  TWiki Templates </h1>
<p />
<em>Definition of the templates used to render all HTML pages displayed in TWiki</em> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Overview"></a> Overview </span></h2>
<p />
There are three types of template: <ul>
<li> <strong>Master Templates</strong>: Define blocks of text for use in other templates
</li> <li> <strong>HTML Page Templates</strong>: Define the layout of TWiki     pages
</li> <li> <strong>Template Topics</strong>: Define default text when you create a new topic
</li></ul> 
<p />
All three types of template use the TWiki template system.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="The_TWiki_Template_System"></a> The TWiki Template System </span></h2>
<p />
<em>Templates</em> are plain text with embedded <em>template directives</em> that tell TWiki how to compose blocks of text together to create something new.
<p />
<a name="TemplateVariables"></a>
<h3><a name="How_Template_Directives_Work"></a> How Template Directives Work </h3> <ul>
<li> Template directives are embedded in templates.
</li> <li> Directives are of the form <code><b>%TMPL:&lt;key&gt;%</b></code> and <code><b>%TMPL:&lt;key&gt;{"attr"}%</b></code>.
</li> <li> Directives: <ul>
<li> <code><b>%TMPL:INCLUDE{"file"}%</b></code>: Includes a template file. The file is found as described <a href="/bin/view/TWiki/TWikiTemplates#FindingTemplates" class="twikiCurrentTopicLink twikiAnchorLink">below</a>.
</li> <li> <code><b>%TMPL:DEF{"block"}%</b></code>: Define a block. Text between this and the <code>%TMPL:END%</code> directive is not used in-place, but is saved for later use with <code>%TMPL:P</code>. Leading and trailing whitespace is ignored.
</li> <li> <code><b>%TMPL:END%</b></code>: Ends a block definition.
</li> <li> <code><b>%TMPL:P{"var"}%</b></code>: Includes a previously defined block.
</li> <li> <code><b>%{...}%</b></code>: is a comment.
</li></ul> 
</li> <li> Two-pass processing lets you use a variable before or after declaring it.
</li> <li> Templates and <a href="/bin/view/TWiki/TWikiSkins" class="twikiLink">TWikiSkins</a> work transparently and interchangeably. For example, you can create a skin that overloads only the <code>twiki.tmpl</code> master template, like <code>twiki.print.tmpl</code>, that redefines the header and footer.
</li> <li> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     Use of template directives is optional: templates work without them.
</li> <li> <img src="/twiki/pub/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" />     <strong>NOTE:</strong> Template directives work only for templates: they do not get processed in normal topic text.
</li></ul> 
<p />
TMPL:P also supports simple parameters. For example, given the definition
<code>%TMPL:DEF{"x"}% x%P%z%TMPL:END%</code> then <code>%TMPL:P{"x" P="y"}%</code> will expand to <code>xyz</code>.
<p />
Note that parameters can simply be ignored; for example=%TMPL:P{"x"}%= will expand to x%P%z.
<p />
Any alphanumeric characters can be used in parameter names. You are highly recommended to use parameter names that cannot be confused with <a href="/bin/view/TWiki/TWikiVariables" class="twikiLink">TWikiVariables</a>.
<p />
Note that three parameter names, <code>context</code>, <code>then</code> and <code>else</code> are <strong>reserved</strong>. They are used to support a limited form of "if" condition that you can use to select which of two templates to use, based on a <em>context identifier</em>:
<pre>
&#37;TMPL:DEF{&#34;link&#95;inactive&#34;}&#37;&#60;input type&#61;&#34;button&#34; disabled value&#61;&#34;Link&#62;&#37;TMPL:END&#37;
&#37;TMPL:DEF{&#34;link&#95;active&#34;}&#37;&#60;input type&#61;&#34;button&#34; onclick&#61;&#34;link()&#34; value&#61;&#34;Link&#34; /&#62;&#37;TMPL:END&#37;
&#37;TMPL:P{context&#61;&#34;inactive&#34; then&#61;&#34;inactive&#95;link&#34; else&#61;&#34;active&#95;link&#34;}&#37; for &#37;CONTEXT&#37;
</pre>
When the "inactive" context is set, then this will expand the "link_inactive" template; otherwise it will expand the "link_active" template.
See <a href="/bin/view/TWiki/IfStatements" class="twikiLink">IfStatements</a> for details of supported context identifiers.
<p />
<h3><a name="Finding_Templates"></a> Finding Templates </h3>
<p />
Templates are stored either in the <code><b>twiki/templates</b></code> directory, or can also be read from user topics. As an example, <code><b>twiki/templates/view.tmpl</b></code> is the default template file for the <code><b>twiki/bin/view</b></code> script.
<p />
Templates that are included using <code>%TMPL:INCLUDE%</code> are also found using the same search algorithm, unless you explicitly put <code>'.tmpl'</code> at the end of the template name. In this case, the string is assumed to be the full name of a template in the <code>templates</code> directory, and the algorithm isn't used.
<p />
TWiki uses the following search order to determine which template file or topic to use for a particular script. The <em>skin path</em> is set as described in <a href="/bin/view/TWiki/TWikiSkins" class="twikiLink">TWikiSkins</a>.
<p />
<blockquote> <ol>
<li> templates/<font color="#ff0000">web</font>/<font color="#ff0000">script</font>.<font color="#ff0000">skin</font>.tmpl for each <font color="#ff0000">skin</font> on the skin path <ul>
<li> <img src="/twiki/pub/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" />     this usage is supported <strong>for compatibility only</strong> and is <strong>deprecated</strong>. Store web-specific templates in TWiki topics instead.
</li></ul> 
</li> <li> templates/<font color="#ff0000">script</font>.<font color="#ff0000">skin</font>.tmpl for each <font color="#ff0000">skin</font> on the skin path
</li> <li> templates/<font color="#ff0000">web</font>/<font color="#ff0000">script</font>.tmpl <ul>
<li> <img src="/twiki/pub/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" />     this usage is supported <strong>for compatibility only</strong> and is <strong>deprecated</strong>. Store web-specific templates in TWiki topics instead.
</li></ul> 
</li> <li> templates/<font color="#ff0000">script</font>.tmpl
</li> <li> The TWiki topic <font color="#ff0000">web</font>.<font color="#ff0000">topic</font> if the template name can be parsed into <font color="#ff0000">web</font>.<font color="#ff0000">topic</font>
</li> <li> The TWiki topic <font color="#ff0000">web</font>.<font color="#ff0000">Skin</font>Skin<font color="#ff0000">Script</font>Template for each <font color="#ff0000">skin</font> on the skin path
</li> <li> The TWiki topic <font color="#ff0000">web</font>.<font color="#ff0000">Script</font>Template
</li> <li> The TWiki topic TWiki.<font color="#ff0000">Skin</font>Skin<font color="#ff0000">Script</font>Template for each <font color="#ff0000">skin</font> on the skin path
</li> <li> The TWiki topic TWiki.<font color="#ff0000">Script</font>Template
</li></ol> 
<strong>Legend:</strong> <ul>
<li> <font color="#ff0000">script</font> refers to the script name, e.g <code>view</code>, <code>edit</code>
</li> <li> <font color="#ff0000">Script</font> refers to the same, but with the first character capitalized, e.g <code>View</code>
</li> <li> <font color="#ff0000">skin</font> refers to a skin name, e.g <code>dragon</code>, <code>pattern</code>. All skins are checked at each stage, in the order they appear in the skin path.
</li> <li> <font color="#ff0000">Skin</font> refers to the same, but with the first character capitalized, e.g <code>Dragon</code>
</li> <li> <font color="#ff0000">web</font> refers to the current web
</li></ul> 
</blockquote>
For example, the <code>example</code> template file will be searched for in the following places, when the current web is <code>Thisweb</code> and the skin path is <code>print,pattern</code>: <ol>
<li type="I"> <code>templates/Thisweb/example.print.tmpl</code> <em>deprecated; don't rely on it</em>
</li> <li type="I"> <code>templates/Thisweb/example.pattern.tmpl</code> <em>deprecated; don't rely on it</em>
</li> <li type="I"> <code>templates/example.print.tmpl</code>
</li> <li type="I"> <code>templates/example.pattern.tmpl</code>
</li> <li type="I"> <code>templates/Thisweb/example.tmpl</code> <em>deprecated; don't rely on it</em>
</li> <li type="I"> <code>templates/example.tmpl</code>
</li> <li type="I"> <code>Thisweb.PrintSkinExampleTemplate</code>
</li> <li type="I"> <code>Thisweb.PatternSkinExampleTemplate</code>
</li> <li type="I"> <code>Thisweb.ExampleTemplate</code>
</li> <li type="I"> <code>TWiki.PrintSkinExampleTemplate</code>
</li> <li type="I"> <code>TWiki.PatternSkinExampleTemplate</code>
</li> <li type="I"> <code>TWiki.ExampleTemplate</code>
</li></ol> 
<p />
Template names are usually derived from the name of the currently executing script; however it is also possible to override these settings in the <code>view</code> and <code>edit</code> scripts, for example when a topic-specific template is required. Two preference variables can be user to override the templates used: <ul>
<li> <code>VIEW_TEMPLATE</code> sets the template to be used for viewing a topic
</li> <li> <code>EDIT_TEMPLATE</code> sets the template for editing a topic.
</li></ul> 
If these preferences are set locally (using <em>Local</em> instead of <em>Set</em>) for a topic, in <a href="/bin/view/TWiki/WebPreferences" class="twikiLink">WebPreferences</a>, in <a href="/bin/view/Main/TWikiPreferences" class="twikiLink">Main.TWikiPreferences</a>, or <a href="/bin/view/TWiki/TWikiPreferences" class="twikiLink">TWiki.TWikiPreferences</a> (using <em>Set</em>), the indicated templates will be chosen for <code>view</code> and <code>edit</code> respectively. The template search order is as specified above.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Master_Templates"></a> Master Templates </span></h2>
Master templates use the block definition directives (<code>%TMPL:DEF</code> and <code>%TMPL:END%</code>) to define common sections that appear in two or more other templates. <code><b>twiki.tmpl</b></code> is the default master template.
<blockquote>
<table cellspacing="0" id="table1" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/TWiki/TWikiTemplates?cover=print;sortcol=0;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Template variable:</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/TWiki/TWikiTemplates?cover=print;sortcol=1;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Defines:</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> %TMPL:DEF{"sep"}% </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> "&#124;" separator </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> %TMPL:DEF{"htmldoctype"}% </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Start of all HTML pages </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> %TMPL:DEF{"standardheader"}% </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Standard header (ex: view, index, search) </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> %TMPL:DEF{"simpleheader"}% </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Simple header with reduced links (ex: edit, attach, oops) </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> %TMPL:DEF{"standardfooter"}% </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Footer, excluding revision and copyright parts </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> %TMPL:DEF{"oops"}% </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> Skeleton of oops dialog </td>
		</tr></table>
</blockquote>
<p />
<a name="HtmlTemplates"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="HTML_Page_Templates"></a> HTML Page Templates </span></h2>
<p />
HTML page templates are files of HTML mixed with template directives that tell TWiki how to build up an HTML page. As described above, the template system supports the use of 'include' directives that let you re-use the same sections of HTML - such as headers and footers - in several different places.
<p />
TWiki uses HTML page templates when composing the output from all actions, like topic view, edit, and preview. This allows you to change the look and feel of all pages by editing just a few template files.
<p />
HTML page templates are also used in the definition of <a href="/bin/view/TWiki/TWikiSkins" class="twikiLink">TWikiSkins</a>.
<p />
<a name="TemplateTopics"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Template_Topics"></a> Template Topics </span></h2>
<p />
Template topics define the default text for new topics. There are three types of template topic:
<blockquote>
<table cellspacing="0" id="table2" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/TWiki/TWikiTemplates?cover=print;sortcol=0;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Topic Name:</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/TWiki/TWikiTemplates?cover=print;sortcol=1;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">What it is:</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <a href="/bin/view/TWiki/WebTopicViewTemplate" class="twikiLink">WebTopicViewTemplate</a> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Error page shown when you try to view a nonexistent topic </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <a href="/bin/view/TWiki/WebTopicNonWikiTemplate" class="twikiLink">WebTopicNonWikiTemplate</a> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Alert page shown when you try to view a nonexistent topic with a non-WikiName </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <a href="/bin/view/TWiki/WebTopicEditTemplate" class="twikiLink">WebTopicEditTemplate</a> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> Default text shown when you create a new topic. </td>
		</tr></table>
</blockquote>
When you create a new topic, TWiki locates a topic to use as a content template according to the following search order:
<p /> <ol>
<li> A topic name specified by the <code>templatetopic</code> CGI parameter <ul>
<li> if no web is specified, the current web is searched first and then the TWiki web
</li></ul> 
</li> <li> WebTopicEditTemplate in the current web
</li> <li> WebTopicEditTemplate in the TWiki web
</li></ol> 
<p />
<a name="TemplateTopicsVars"></a>
<h3><a name="Edit_Template_Topics_and_Variabl"></a> Edit Template Topics and Variable Expansion </h3>
<p />
The following variables get expanded when a user creates a new topic based on a template topic:
<p />
<blockquote>
<table cellspacing="0" id="table3" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/TWiki/TWikiTemplates?cover=print;sortcol=0;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Variable:</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/TWiki/TWikiTemplates?cover=print;sortcol=1;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Description:</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>%DATE%</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Signature format date. See <a href="/bin/view/TWiki/VarDATE" class="twikiLink">VarDATE</a> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>%GMTIME%</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Date/time. See <a href="/bin/view/TWiki/VarGMTIME" class="twikiLink">VarGMTIME</a> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>%GMTIME{...}%</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Formatted date/time. See <a href="/bin/view/TWiki/VarGMTIME2" class="twikiLink">VarGMTIME2</a> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>%NOP%</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> A no-operation variable that gets removed. Useful to prevent a SEARCH from hitting an edit template topic; also useful to escape a variable like <code>%URLPARAM%NOP%{...}%</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>%STARTSECTION{type="templateonly"}%<br />&nbsp; &nbsp; ...<br />&nbsp; &nbsp; %ENDSECTION{type="templateonly"}%</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Text that gets removed when a new topic based on the template is created. See notes below. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>%SERVERTIME%</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Date/time. See <a href="/bin/view/TWiki/VarSERVERTIME" class="twikiLink">VarSERVERTIME</a> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>%SERVERTIME{...}%</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Formatted date/time. See <a href="/bin/view/TWiki/VarSERVERTIME2" class="twikiLink">VarSERVERTIME2</a> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>%USERNAME%</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Login name of user who is instantiating the new topic, e.g. guest </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>%URLPARAM{"name"}%</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Value of a named URL parameter </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>%WIKINAME%</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> <a href="/bin/view/TWiki/WikiName" class="twikiLink">WikiName</a> of user who is instantiating the new topic, e.g. TWikiGuest </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>%WIKIUSERNAME%</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> User name of user who is instantiating the new tpoic, e.g. Main.TWikiGuest </td>
		</tr></table>
</blockquote>
<p />
<code>%STARTSECTION{type="templateonly"}%<br />&nbsp; &nbsp; ...<br />&nbsp; &nbsp; %ENDSECTION{type="templateonly"}%</code> markers are used to embed text that you <em>do not</em> want expanded when a new topic based on the template topic is created. For example, you might want to write in the template topic:
<pre>
&#37;STARTSECTION{type&#61;&#34;templateonly&#34;}&#37;
This template can only be changed by:
   &#42; Set ALLOWTOPICCHANGE &#61; &#37;MAINWEB&#37;.TWikiAdminGroup
&#37;ENDSECTION{type&#61;&#34;templateonly&#34;}&#37;
</pre>
This will restrict who can edit the template topic, but will get removed when a new topic based on that template topic is created.
<p />
<code>%NOP%</code> can be used to prevent expansion of TWiki variables that would otherwise be expanded during topic creation e.g.i escape <code>%nop&gt;SERVERTIME%</code> with <code>%SER%NOP%VERTIME%</code>.
<p />
All other variables are unchanged, e.g. are carried over "as is" into the new topic.
<p />
<h3><a name="Template_Topics_in_Action"></a> Template Topics in Action </h3>
<p />
Here is an example for creating new topics based on a specific template topic:
<p />
<form name="new" action="/bin/edit/TWiki/"> <ul>
<li> New example topic:      <input type="text" name="topic" value="ExampleTopic2017x02x16" size="26" />&nbsp;<input type="submit" class="twikiSubmit" value="Create" />     <input type="hidden" name="templatetopic" value="ExampleTopicTemplate" />     <input type="hidden" name="topicparent" value="TWikiTemplates" />     <input type="hidden" name="onlywikiname" value="on" />     <input type="hidden" name="onlynewtopic" value="on" />     (date format is YYYYxMMxDD)
</li></ul> 
</form>
<p />
The above form asks for a topic name. A hidden input tag named <code><b>templatetopic</b></code> specifies <a href="/bin/view/TWiki/ExampleTopicTemplate" class="twikiLink">ExampleTopicTemplate</a> as the template topic to use. Here is the HTML source of the form:
<p />
<pre>
&lt;form name="new" action="%SCRIPTURLPATH{edit}%/%WEB%/"&gt;
   * New example topic: 
     &lt;input type="text" name="topic" value="ExampleTopic%SERVERTIME{$yearx$mox$day}%" size="26" /&gt;
     &lt;input type="hidden" name="templatetopic" value="ExampleTopicTemplate" /&gt;
     &lt;input type="hidden" name="topicparent" value="%TOPIC%" /&gt;
     &lt;input type="hidden" name="onlywikiname" value="on" /&gt;
     &lt;input type="hidden" name="onlynewtopic" value="on" /&gt;
     &lt;input type="submit" class="twikiSubmit" value="Create" /&gt;
     (date format is &lt;nop&gt;YYYYxMMxDD)
&lt;/form&gt;
</pre>
<p />
See <a href="/bin/view/TWiki/TWikiScripts" class="twikiLink">TWikiScripts</a> for details of the parameters that the <code>edit</code> script understands.
<p />
<img src="/twiki/pub/TWiki/TWikiDocGraphics/tip.gif" alt="TIP" title="TIP" width="16" height="16" border="0" />     <strong>TIP:</strong> You can use the <code>%WIKIUSERNAME%</code> and <code>%DATE%</code> variables in your topic templates to include the signature of the person creating a new topic. The variables are expanded into fixed text when a new topic is created. The standard signature is: <br />
<code><b>-- %WIKIUSERNAME% - %DATE%</b></code>
<p />
<a name="AutomaticallyGeneratedTopicname"></a>
<h3><a name="Automatically_Generated_Topicnam"></a> Automatically Generated Topicname </h3>
<p />
If you want to make a TWiki application where you need automatically generated unique topicnames, you can use 10 X's in the edit / save URL, and they will be replaced on topic save with a count value. For example, BugIDXXXXXXXXXX will result in topics named BugID0, BugID1, BugID2 etc. 
<p />
Example link to create a new topic:<br />    
<pre>
&#91;&#91;&#37;SCRIPTURLPATH{&#34;edit&#34;}&#37;/&#37;WEB&#37;/BugIDXXXXXXXXXX?templatetopic&#61;BugTemplate&#38;amp;topicparent&#61;&#37;TOPIC&#37;&#38;amp;t&#61;&#37;SERVERTIME{&#34;$day$hour$min$sec&#34;}&#37;]&#91;Create new item]]&#61;
</pre>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Master_Templates_by_Example"></a> Master Templates by Example </span></h2>
<p />
Attached is an example of an oops based template <code>oopsbase.tmpl</code> and an example oops dialog <code>oopstest.tmpl</code> based on the base template. <img src="/twiki/pub/TWiki/TWikiDocGraphics/tip.gif" alt="TIP" title="TIP" width="16" height="16" border="0" />     <strong>NOTE:</strong> This isn't the release version, just a quick, simple demo.
<p />
<h3><a name="Base_template_oopsbase_tmpl"></a> Base template oopsbase.tmpl </h3>
<p />
The first line declares a delimiter variable called "sep", used to separate multiple link items. The variable can be called anywhere by writing <code>%TMPL:P{"sep"}%</code>
<p />
<blockquote>
<table border="1" cellspacing="0" cellpadding="1" bgcolor="#f5f5f5">
<tr><td>
<pre>
%TMPL:DEF{"sep"}% | %TMPL:END%
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt; %WIKITOOLNAME% . %WEB% . %TOPIC% %.TMPL:P{"titleaction"}%&lt;/title&gt;
  &lt;base href="%SCRIPTURLPATH{"view"}%/%WEB%/%TOPIC%"&gt;
  &lt;meta name="robots" content="noindex"&gt;
&lt;/head&gt;
&lt;body bgcolor="#FFFFFF"&gt;
&lt;table width="100%" border="0" cellpadding="3" cellspacing="0"&gt;
  &lt;tr&gt;
    &lt;td bgcolor="%WEBBGCOLOR%" rowspan="2" valign="top" width="1%"&gt;
      &lt;a href="%WIKIHOMEURL%"&gt;
      &lt;img src="%PUBURLPATH%/wikiHome.gif" border="0"&gt;&lt;/a&gt;
    &lt;/td&gt;
    &lt;td&gt;
      &lt;b&gt;%WIKITOOLNAME% . %WEB% . &lt;/b&gt;&lt;font size="+2"&gt;
      &lt;B&gt;%TOPIC%&lt;/b&gt; %TMPL:P{"titleaction"}%&lt;/font&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr bgcolor="%WEBBGCOLOR%"&gt;
    &lt;td colspan="2"&gt;
      %TMPL:P{"webaction"}%
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
--- ++ %TMPL:P{"heading"}%
%TMPL:P{"message"}%
&lt;table width="100%" border="0" cellpadding="3" cellspacing="0"&gt;
  &lt;tr bgcolor="%WEBBGCOLOR%"&gt;
    &lt;td valign="top"&gt;
      Topic &lt;b&gt;%TOPIC%&lt;/b&gt; . {
        %TMPL:P{"topicaction"}%
      }
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
&lt;/body&gt;
</pre>
</td></tr>
</table>
</blockquote>
<p />
<h3><a name="Test_template_oopstest_tmpl"></a> Test template oopstest.tmpl </h3>
<p />
Each oops template basically just defines some variables and includes the base template that does the layout work.
<p />
<blockquote>
<table border="1" cellspacing="0" cellpadding="1" bgcolor="#f5f5f5">
<tr><td>
<pre>
%TMPL:DEF{"titleaction"}% (test =titleaction=) %TMPL:END%
%TMPL:DEF{"webaction"}% test =webaction= %TMPL:END%
%TMPL:DEF{"heading"}%
Test heading %TMPL:END%
%TMPL:DEF{"message"}%
Test =message=. Blah blah blah blah blah blah blah blah blah blah blah...

   * Some more blah blah blah blah blah blah blah blah blah blah...
   * Param1: %PARAM1%
   * Param2: %PARAM2%
   * Param3: %PARAM3%
   * Param4: %PARAM4%
%TMPL:END%
%TMPL:DEF{"topicaction"}%
Test =topicaction=:
[[%WEB%.%TOPIC%][OK]] %TMPL:P{"sep"}%
[[%TWIKIWEB%.TWikiRegistration][Register]] %TMPL:END%
%TMPL:INCLUDE{"oopsbase"}%
</pre>
</td></tr>
</table>
</blockquote>
<p />
<h3><a name="Sample_screen_shot_of_oopstest_t"></a> Sample screen shot of oopstest.tmpl </h3>
<p />
With URL: <code><b>.../bin/oops/Trash/SandboxTestTopic2?template=oopstest&amp;param1=WebHome&amp;param2=WebNotify</b></code>
<p />
<blockquote>
<table cellspacing="0" id="table4" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLastCol twikiLast"> <img src="/twiki/pub/TWiki/TWikiTemplates/testscreen.gif" width="589" height="304" alt="testscreen.gif"> </td>
		</tr></table>
</blockquote>
<p />
<strong><em>Related Topics:</em></strong> <a href="/bin/view/TWiki/TWikiSkins" class="twikiLink">TWikiSkins</a>, <a href="/bin/view/TWiki/DeveloperDocumentationCategory" class="twikiLink">DeveloperDocumentationCategory</a>, <a href="/bin/view/TWiki/AdminDocumentationCategory" class="twikiLink">AdminDocumentationCategory</a></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: TWiki<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>TWikiTemplates</span> <br />    
Topic revision: r26 - 05 Oct 2011 - 18:04:58 - <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />