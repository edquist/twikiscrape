<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> TWikiDotPm &lt; TWiki &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/TWiki/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/TWiki/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/TWiki/TWikiDotPm?_T=16 Feb 2017" type="application/x-wiki" title="edit TWikiDotPm" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/TWiki/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/TWiki/TWikiDotPm"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFD8AA ;
	}
	.patternBookView {
		border-color:#FFD8AA ;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Package_TWiki"></a> Package <code>TWiki</code> </h1>
<p />
TWiki operates by creating a singleton object (known as the Session
object) that acts as a point of reference for all the different
modules in the system. This package is the class for this singleton,
and also contains the vast bulk of the basic constants and the per-
site configuration mechanisms.
<p />
Global variables are avoided wherever possible to avoid problems
with CGI accelerators such as mod_perl.
<p />
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Package_TWiki"> Package TWiki</a> <ul>
<li> <a href="?cover=print#StaticMethod_get_TWikiLibDir_pat"> StaticMethod getTWikiLibDir <tt>() -&gt; $path</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_UTF82SiteCharSet_ut"> ObjectMethod UTF82SiteCharSet <tt>($utf8) -&gt; $ascii</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_write_CompletePage"> ObjectMethod writeCompletePage <tt>($text,$pageType,$contentType)</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_write_PageHeader_qu"> ObjectMethod writePageHeader <tt>($query,$pageType,$contentType,$contentLength)</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_redirect_url"> ObjectMethod redirect <tt>($url,...)</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_is_ValidWikiWord_na"> StaticMethod isValidWikiWord <tt>($name) -&gt; $boolean</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_is_ValidTopicName_n"> StaticMethod isValidTopicName <tt>($name) -&gt; $boolean</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_is_ValidAbbrev_name"> StaticMethod isValidAbbrev <tt>($name) -&gt; $boolean</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_is_ValidWebName_nam"> StaticMethod isValidWebName <tt>($name,$system) -&gt; $boolean</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_read_OnlyMirrorWeb"> ObjectMethod readOnlyMirrorWeb <tt>($theWeb) -&gt; ($mirrorSiteName,$mirrorViewURL,$mirrorLink,$mirrorNote)</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_getSkin_string"> ObjectMethod getSkin <tt>() -&gt; $string</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_get_ScriptUrl_absol"> ObjectMethod getScriptUrl <tt>($absolute,$script,$web,$topic,...) -&gt; $scriptURL</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_get_PubUrl_absolute"> ObjectMethod getPubUrl <tt>($absolute,$web,$topic,$attachment) -&gt; $url</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_get_IconUrl_absolut"> ObjectMethod getIconUrl <tt>($absolute,$iconName) -&gt; $iconURL</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_map_ToIconFileName"> ObjectMethod mapToIconFileName <tt>($fileName,$default) -&gt; $fileName</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_get_OopsUrl_templat"> ObjectMethod getOopsUrl <tt>($template,@options) -&gt; $absoluteOopsURL</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_normalize_WebTopicN"> ObjectMethod normalizeWebTopicName <tt>($theWeb,$theTopic) -&gt; ($theWeb,$theTopic)</tt></a>
</li> <li> <a href="?cover=print#ClassMethod_new_remoteUser_query"> ClassMethod new <tt>($remoteUser,$query)</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_finish"> ObjectMethod finish <tt></tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_writeLog_action_web"> ObjectMethod writeLog <tt>($action,$webTopic,$extra,$user)</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_writeWarning_text"> ObjectMethod writeWarning <tt>($text)</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_writeDebug_text"> ObjectMethod writeDebug <tt>($text)</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_apply_PatternToIncl"> StaticMethod applyPatternToIncludedText <tt>($text,$pattern) -&gt; $text</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_inlineAlert_templat"> ObjectMethod inlineAlert <tt>($template,$def,...) -&gt; $string</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_expand_VariablesOnT"> ObjectMethod expandVariablesOnTopicCreation <tt>($text,$user) -&gt; $text</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_entityEncode_text_e"> StaticMethod entityEncode <tt>($text,$extras) -&gt; $encodedText</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_entityDecode_encode"> StaticMethod entityDecode <tt>($encodedText) -&gt; $text</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_urlEncode_string_en"> StaticMethod urlEncode <tt>($string) -&gt; encodedstring</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_urlDecode_string_de"> StaticMethod urlDecode <tt>($string) -&gt; decodedstring</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_isTrue_value_defaul"> StaticMethod isTrue <tt>($value,$default) -&gt; $boolean</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_space_OutWikiWord_w"> StaticMethod spaceOutWikiWord <tt>($word,$sep) -&gt; $string</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_enterContext_id_val"> ObjectMethod enterContext <tt>($id,$val)</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_leaveContext_id"> ObjectMethod leaveContext <tt>($id)</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_inContext_id"> ObjectMethod inContext <tt>($id)</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_register_TagHandler"> StaticMethod registerTagHandler <tt>($tag,$fnref)</tt></a> <ul>
<li> <a href="?cover=print#registerRESTHandler_subject_verb"> registerRESTHandler( $subject, $verb, \&amp;fn )</a>
</li> <li> <a href="?cover=print#restDispatch_subject_verb_fn"> restDispatch( $subject, $verb) =&gt; \&amp;fn</a>
</li></ul> 
</li> <li> <a href="?cover=print#ObjectMethod_handle_CommonTags_t"> ObjectMethod handleCommonTags <tt>($text,$web,$topic) -&gt; $text</tt></a>
</li> <li> <a href="?cover=print#ObjectMethod_add_ToHEAD_id_html"> ObjectMethod addToHEAD <tt>($id,$html)</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_initialize_pathInfo"> StaticMethod initialize <tt>($pathInfo,$remoteUser,$topic,$url,$query) -&gt; ($topicName,$webName,$scriptUrlPath,$userName,$dataDir)</tt></a>
</li> <li> <a href="?cover=print#StaticMethod_readFile_filename_t"> StaticMethod readFile <tt>($filename) -&gt; $text</tt></a>
</li></ul> 
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_get_TWikiLibDir_pat"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>getTWikiLibDir</strong> <tt>() -&gt; $path</tt> </span></h2>
<p />
STATIC method.
<p />
Returns the full path of the directory containing TWiki.pm
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_UTF82SiteCharSet_ut"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>UTF82SiteCharSet</strong> <tt>($utf8) -&gt; $ascii</tt> </span></h2>
Auto-detect UTF-8 vs. site charset in string, and convert UTF-8 into site
charset.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_write_CompletePage"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>writeCompletePage</strong> <tt>($text,$pageType,$contentType)</tt> </span></h2>
<p />
Write a complete HTML page with basic header to the browser.
$text is the HTML of the page body (&lt;html&gt; to &lt;/html&gt;)
<p />
This method removes noautolink and nop tags before outputting the page.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_write_PageHeader_qu"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>writePageHeader</strong> <tt>($query,$pageType,$contentType,$contentLength)</tt> </span></h2>
<p />
All parameters are optional.
<p /> <ul>
<li> <code>$query</code> CGI query object | Session CGI query (there is no good reason to set this)
</li> <li> <code>$pageType</code> - May be "edit", which will cause headers to be generated that force caching for 24 hours, to prevent <span class="twikiNewLink">BackFromPreviewLosesText<a href="/bin/edit/Codev/BackFromPreviewLosesText?topicparent=TWiki.TWikiDotPm" rel="nofollow" title="BackFromPreviewLosesText (this topic does not yet exist; you can create it)">?</a></span> bug, which caused data loss with IE5 and IE6.
</li> <li> <code>$contentType</code> - page content type | text/html
</li> <li> <code>$contentLength</code> - content-length | no content-length will be set if this is undefined, as required by HTTP1.1
</li></ul> 
<p />
Implements the post-Dec2001 release plugin API, which requires the
writeHeaderHandler in plugin to return a string of HTTP headers, CR/LF
delimited. Filters any illegal headers. Plugin headers will override
core settings.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_redirect_url"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>redirect</strong> <tt>($url,...)</tt> </span></h2>
<p />
Generate a CGI redirect to $url unless (1) $session-&gt;{cgiQuery} is undef or
(2) $query-&gt;param('noredirect') is set to a true value. Thus a redirect is
only generated when in a CGI context.
<p />
The ... parameters are concatenated to the message written when printing
to STDOUT, and are ignored for a redirect.
<p />
Redirects the request to $url, via the CGI module object $query unless
overridden by a plugin declaring a <code>redirectCgiQueryHandler</code>.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_is_ValidWikiWord_na"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>isValidWikiWord</strong> <tt>($name) -&gt; $boolean</tt> </span></h2>
<p />
Check for a valid <a href="/bin/view/TWiki/WikiWord" class="twikiLink">WikiWord</a> or <a href="/bin/view/TWiki/WikiName" class="twikiLink">WikiName</a>
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_is_ValidTopicName_n"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>isValidTopicName</strong> <tt>($name) -&gt; $boolean</tt> </span></h2>
<p />
Check for a valid topic name
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_is_ValidAbbrev_name"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>isValidAbbrev</strong> <tt>($name) -&gt; $boolean</tt> </span></h2>
<p />
Check for a valid ABBREV (acronym)
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_is_ValidWebName_nam"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>isValidWebName</strong> <tt>($name,$system) -&gt; $boolean</tt> </span></h2>
<p />
STATIC Check for a valid web name. If $system is true, then
system web names are considered valid (names starting with _)
otherwise only user web names are valid
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_read_OnlyMirrorWeb"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>readOnlyMirrorWeb</strong> <tt>($theWeb) -&gt; ($mirrorSiteName,$mirrorViewURL,$mirrorLink,$mirrorNote)</tt> </span></h2>
<p />
If this is a mirrored web, return information about the mirror. The info
is returned in a quadruple:
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table1" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> site name </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> URL </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLast"> link </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol3 twikiLastCol twikiLast"> note </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_getSkin_string"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>getSkin</strong> <tt>() -&gt; $string</tt> </span></h2>
<p />
Get the currently requested skin path
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_get_ScriptUrl_absol"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>getScriptUrl</strong> <tt>($absolute,$script,$web,$topic,...) -&gt; $scriptURL</tt> </span></h2>
<p />
Returns the URL to a TWiki script, providing the web and topic as
"path info" parameters.  The result looks something like this:
"http://host/twiki/bin/$script/$web/$topic". <ul>
<li> <code>...</code> - an arbitrary number of name,value parameter pairs that will be url-encoded and added to the url. The special parameter name '#' is reserved for specifying an anchor. e.g. <tt>getScriptUrl('x','y','view','#'=&gt;'XXX',a=&gt;1,b=&gt;2)</tt> will give <tt>.../view/x/y#XXX?a=1&amp;b=2</tt>
</li></ul> 
<p />
If $absolute is set, generates an absolute URL. $absolute is advisory only;
TWiki can decide to generate absolute URLs (for example when run from the
command-line) even when relative URLs have been requested.
<p />
The default script url is taken from {ScriptUrlPath}, unless there is
an exception defined for the given script in {ScriptUrlPaths}. Both
{ScriptUrlPath} and {ScriptUrlPaths} may be absolute or relative URIs. If
they are absolute, then they will always generate absolute URLs. if they
are relative, then they will be converted to absolute when required (e.g.
when running from the command line, or when generating rss). If
$script is not given, absolute URLs will always be generated.
<p />
If either the web or the topic is defined, will generate a full url (including web and topic). Otherwise will generate only up to the script name. An undefined web will default to the main web name.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_get_PubUrl_absolute"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>getPubUrl</strong> <tt>($absolute,$web,$topic,$attachment) -&gt; $url</tt> </span></h2>
<p />
Composes a pub url. If $absolute is set, returns an absolute URL.
If $absolute is set, generates an absolute URL. $absolute is advisory only;
TWiki can decide to generate absolute URLs (for example when run from the
command-line) even when relative URLs have been requested.
<p />
$web, $topic and $attachment are optional. A partial URL path will be
generated if one or all is not given.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_get_IconUrl_absolut"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>getIconUrl</strong> <tt>($absolute,$iconName) -&gt; $iconURL</tt> </span></h2>
<p />
Map an icon name to a URL path.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_map_ToIconFileName"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>mapToIconFileName</strong> <tt>($fileName,$default) -&gt; $fileName</tt> </span></h2>
<p />
Maps from a filename (or just the extension) to the name of the
file that contains the image for that file type.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_get_OopsUrl_templat"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>getOopsUrl</strong> <tt>($template,@options) -&gt; $absoluteOopsURL</tt> </span></h2>
<p />
Composes a URL for an "oops" error page. The @options consists of a list
of key =&gt; value pairs. The following keys are used: <ul>
<li> <code>-web</code> - web name
</li> <li> <code>-topic</code> - topic name
</li> <li> <code>-def</code> - optional template def within the main template file
</li> <li> <code>-params</code> - a single parameter, or a reference to an array of parameters  These are passed in the URL as '&amp;param1=' etc.
</li></ul> 
<p />
Do <em>not</em> include the "oops" part in front of the template name.
<p />
Alternatively you can pass a reference to an <span class="twikiNewLink">OopsException<a href="/bin/edit/TWiki/OopsException?topicparent=TWiki.TWikiDotPm" rel="nofollow" title="OopsException (this topic does not yet exist; you can create it)">?</a></span> in place of the template. All other parameters will be ignored.
<p />
The returned URL ends up looking something like this:
"http://host/twiki/bin/oops/$web/$topic?template=$template&amp;param1=$scriptParams[0]..."
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_normalize_WebTopicN"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>normalizeWebTopicName</strong> <tt>($theWeb,$theTopic) -&gt; ($theWeb,$theTopic)</tt> </span></h2>
<p />
Normalize a Web.TopicName
<pre>
Input:                      Return:
  ( 'Web',  'Topic' )         ( 'Web',  'Topic' )
  ( '',     'Topic' )         ( 'Main', 'Topic' )
  ( '',     '' )              ( 'Main', 'WebHome' )
  ( '',     'Web/Topic' )     ( 'Web',  'Topic' )
  ( '',     'Web.Topic' )     ( 'Web',  'Topic' )
  ( 'Web1', 'Web2.Topic' )    ( 'Web2', 'Topic' )
  ( 'Main', 'Web2.Topic' ) ( 'Main', 'Topic' )
  ( 'TWiki', 'Web2.Topic' ) ( 'TWiki', 'Topic' )
</pre>
Note: Function renamed from getWebTopic
<p />
SMELL: WARNING: this function defaults the web and topic names.
Be very careful where you use it!
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ClassMethod_new_remoteUser_query"></a> <a href="/bin/view/TWiki/ClassMethod" class="twikiLink">ClassMethod</a> <strong>new</strong> <tt>($remoteUser,$query)</tt> </span></h2>
Constructs a new TWiki object. Parameters are taken from the query object.
<p /> <ul>
<li> <code>$remoteUser</code> the logged-in user (login name)
</li> <li> <code>$query</code> the query
</li></ul> 
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_finish"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>finish</strong> <tt></tt> </span></h2>
Complete processing after the client's HTTP request has been responded
to. Right now this does two things: <ol>
<li> calling TWiki::Client to flushing the user's session (if any) to disk,
</li> <li> breaking circular references to allow garbage collection in persistent     environments
</li></ol> 
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_writeLog_action_web"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>writeLog</strong> <tt>($action,$webTopic,$extra,$user)</tt> </span></h2> <ul>
<li> <code>$action</code> - what happened, e.g. view, save, rename
</li> <li> <code>$wbTopic</code> - what it happened to
</li> <li> <code>$extra</code> - extra info, such as minor flag
</li> <li> <code>$user</code> - user who did the saving (user object or string user name)
</li></ul> 
Write the log for an event to the logfile
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_writeWarning_text"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>writeWarning</strong> <tt>($text)</tt> </span></h2>
<p />
Prints date, time, and contents $text to $TWiki::cfg{WarningFileName}, typically
'warnings.txt'. Use for warnings and errors that may require admin
intervention. Use this for defensive programming warnings (e.g. assertions).
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_writeDebug_text"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>writeDebug</strong> <tt>($text)</tt> </span></h2>
<p />
Prints date, time, and contents of $text to $TWiki::cfg{DebugFileName}, typically
'debug.txt'.  Use for debugging messages.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_apply_PatternToIncl"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>applyPatternToIncludedText</strong> <tt>($text,$pattern) -&gt; $text</tt> </span></h2>
<p />
Apply a pattern on included text to extract a subset
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_inlineAlert_templat"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>inlineAlert</strong> <tt>($template,$def,...) -&gt; $string</tt> </span></h2>
Format an error for inline inclusion in rendered output. The message string
is obtained from the template 'oops'.$template, and the DEF $def is
selected. The parameters (...) are used to populate %PARAM1%..%PARAMn%
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_expand_VariablesOnT"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>expandVariablesOnTopicCreation</strong> <tt>($text,$user) -&gt; $text</tt> </span></h2> <ul>
<li> <code>$text</code> - text to expand
</li> <li> <code>$user</code> - reference to user object. This is the user expanded in e.g. %USERNAME. Optional, defaults to logged-in user.
</li></ul> 
Expand limited set of variables during topic creation. These are variables
expected in templates that must be statically expanded in new content.
<p />
# SMELL: no plugin handler
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_entityEncode_text_e"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>entityEncode</strong> <tt>($text,$extras) -&gt; $encodedText</tt> </span></h2>
<p />
Escape special characters to HTML numeric entities. This is <strong>not</strong> a generic
encoding, it is tuned specifically for use in TWiki.
<p />
HTML4.0 spec:
"Certain characters in HTML are reserved for use as markup and must be
escaped to appear literally. The "&lt;" character may be represented with
an <em>entity</em>, <strong class=html>&amp;lt;</strong>. Similarly, "&gt;"
is escaped as <strong class=html>&amp;gt;</strong>, and "&amp;" is escaped
as <strong class=html>&amp;amp;</strong>. If an attribute value contains a
double quotation mark and is delimited by double quotation marks, then the
quote should be escaped as <strong class=html>&amp;quot;</strong>.</p>
<p />
Other entities exist for special characters that cannot easily be entered
with some keyboards..."
<p />
This method encodes HTML special and any non-printable ascii
characters (except for \n and \r) using numeric entities.
<p />
FURTHER this method also encodes characters that are special in TWiki
meta-language.
<p />
$extras is an optional param that may be used to include <strong>additional</strong>
characters in the set of encoded characters. It should be a string
containing the additional chars.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_entityDecode_encode"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>entityDecode</strong> <tt>($encodedText) -&gt; $text</tt> </span></h2>
<p />
Decodes all numeric entities (e.g. &amp;#123;). <em>Does not</em> decode
named entities such as &amp;amp; (use HTML::Entities for that)
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_urlEncode_string_en"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>urlEncode</strong> <tt>($string) -&gt; encodedstring</tt> </span></h2>
<p />
Encode by converting characters that are illegal in URLs to
their %NN equivalents. This method is used for encoding
strings that must be embedded <em>verbatim</em> in URLs; it cannot
be applied to URLs themselves, as it escapes reserved
characters such as = and ?.
<p />
RFC 1738, Dec. '94:
<pre>&#62;
...Only alphanumerics &#91;0-9a-zA-Z], the special
characters $-&#95;.+!&#42;&#39;(), and reserved characters used for their
reserved purposes may be used unencoded within a URL.
</pre>
Reserved characters are $&amp;+,/:;=?@ - these are <em>also</em> encoded by
this method.
<p />
SMELL: For non-ISO-8859-1 $TWiki::cfg{Site}{CharSet}, need to convert to
UTF-8 before URL encoding. This encoding only supports 8-bit
character codes.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_urlDecode_string_de"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>urlDecode</strong> <tt>($string) -&gt; decodedstring</tt> </span></h2>
<p />
Reverses the encoding done in urlEncode.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_isTrue_value_defaul"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>isTrue</strong> <tt>($value,$default) -&gt; $boolean</tt> </span></h2>
<p />
Returns 1 if <code>$value</code> is true, and 0 otherwise. "true" means set to
something with a Perl true value, with the special cases that "off",
"false" and "no" (case insensitive) are forced to false. Leading and
trailing spaces in <code>$value</code> are ignored.
<p />
If the value is undef, then <code>$default</code> is returned. If <code>$default</code> is
not specified it is taken as 0.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_space_OutWikiWord_w"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>spaceOutWikiWord</strong> <tt>($word,$sep) -&gt; $string</tt> </span></h2>
<p />
Spaces out a wiki word by inserting a string (default: one space) between each word component.
With parameter $sep any string may be used as separator between the word components; if $sep is undefined it defaults to a space.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_enterContext_id_val"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>enterContext</strong> <tt>($id,$val)</tt> </span></h2>
<p />
Add the context id $id into the set of active contexts. The $val
can be anything you like, but should always evaluate to boolean
TRUE.
<p />
An example of the use of contexts is in the use of tag
expansion. The commonTagsHandler in plugins is called every
time tags need to be expanded, and the context of that expansion
is signalled by the expanding module using a context id. So the
forms module adds the context id "form" before invoking common
tags expansion.
<p />
Contexts are not just useful for tag expansion; they are also
relevant when rendering.
<p />
Contexts are intended for use mainly by plugins. Core modules can
use $session-&gt;inContext( $id ) to determine if a context is active.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_leaveContext_id"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>leaveContext</strong> <tt>($id)</tt> </span></h2>
<p />
Remove the context id $id from the set of active contexts.
(see <code>enterContext</code> for more information on contexts)
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_inContext_id"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>inContext</strong> <tt>($id)</tt> </span></h2>
<p />
Return the value for the given context id
(see <code>enterContext</code> for more information on contexts)
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_register_TagHandler"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>registerTagHandler</strong> <tt>($tag,$fnref)</tt> </span></h2>
<p />
STATIC Add a tag handler to the function tag handlers. <ul>
<li> <code>$tag</code> name of the tag e.g. MYTAG
</li> <li> <code>$fnref</code> Function to execute. Will be passed ($session, \%params, $web, $topic )
</li></ul> 
<p />
<p />
<p />
<h3><a name="registerRESTHandler_subject_verb"></a> registerRESTHandler( $subject, $verb, \&amp;fn ) </h3>
Adds a function to the dispatch table of the REST interface 
for a given subject. See <a href="/bin/view/TWiki/TWikiScripts#rest" class="twikiAnchorLink">TWikiScripts#rest</a> for more info.
<p /> <ul>
<li> <code>$subject</code> - The subject under which the function will be registered.
</li> <li> <code>$verb</code> - The verb under which the function will be registered.
</li> <li> <code>\&amp;fn</code> - Reference to the function.
</li></ul> 
<p />
The handler function must be of the form:
<pre>
sub handler(\&#37;session,$subject,$verb) -&#62; $text
</pre>
where: <ul>
<li> <code>\%session</code> - a reference to the TWiki session object (may be ignored)
</li> <li> <code>$subject</code> - The invoked subject (may be ignored)
</li> <li> <code>$verb</code> - The invoked verb (may be ignored)
</li></ul> 
<p />
<strong>Since:</strong> TWiki::Plugins::VERSION 1.1
<p />
<h3><a name="restDispatch_subject_verb_fn"></a> restDispatch( $subject, $verb) =&gt; \&amp;fn </h3>
Returns the handler  function associated to the given $subject and $werb,
or undef if none is found.
<p />
<strong>Since:</strong> TWiki::Plugins::VERSION 1.1
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_handle_CommonTags_t"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>handleCommonTags</strong> <tt>($text,$web,$topic) -&gt; $text</tt> </span></h2>
Processes %VARIABLE%, and %TOC% syntax; also includes
'commonTagsHandler' plugin hook.
<p />
Returns the text of the topic, after file inclusion, variable substitution,
table-of-contents generation, and any plugin changes from commonTagsHandler.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ObjectMethod_add_ToHEAD_id_html"></a> <a href="/bin/view/TWiki/ObjectMethod" class="twikiLink">ObjectMethod</a> <strong>addToHEAD</strong> <tt>($id,$html)</tt> </span></h2>
Add <code>$html</code> to the HEAD tag of the page currently being generated.
<p />
Note that TWiki variables may be used in the HEAD. They will be expanded
according to normal variable expansion rules.
<p />
The 'id' is used to ensure that multiple adds of the same block of HTML don't
result in it being added many times.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_initialize_pathInfo"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>initialize</strong> <tt>($pathInfo,$remoteUser,$topic,$url,$query) -&gt; ($topicName,$webName,$scriptUrlPath,$userName,$dataDir)</tt> </span></h2>
<p />
Return value: ( $topicName, $webName, $TWiki::cfg{ScriptUrlPath}, $userName, $TWiki::cfg{DataDir} )
<p />
Static method to construct a new singleton session instance.
It creates a new TWiki and sets the Plugins $SESSION variable to
point to it, so that TWiki::Func methods will work.
<p />
This method is <strong>DEPRECATED</strong> but is maintained for script compatibility.
<p />
Note that $theUrl, if specified, must be identical to $query-&gt;url()
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="StaticMethod_readFile_filename_t"></a> <a href="/bin/view/TWiki/StaticMethod" class="twikiLink">StaticMethod</a> <strong>readFile</strong> <tt>($filename) -&gt; $text</tt> </span></h2>
<p />
Returns the entire contents of the given file, which can be specified in any
format acceptable to the Perl open() function. Fast, but inherently unsafe.
<p />
WARNING: Never, ever use this for accessing topics or attachments! Use the
Store API for that. This is for global control files only, and should be
used <strong>only</strong> if there is <strong>absolutely no alternative</strong>.
<p /></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: TWiki<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>TWikiDotPm</span> <br />    
Topic revision: r2 - 25 Jun 2006 - 16:26:33 - <a href="/bin/view/Main/TWikiContributor" class="twikiLink">TWikiContributor</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />