---+ %WEB% %CALC{&quot;$PROPERSPACE(%TOPIC%)&quot;}%

---++ Attending
Attending: Ted Hesselroth, Tigran Mkrtchyan, Timur Perelmutov, Vladimir Podstavkov, Alex Kulyavtsev, Neha Sharma, Gene Oleynik, Alain Roy, and others identified by instititution.


---+++ Discussion
&lt;!-- describe the discussion that took place --&gt;


This was a &quot;Chat with Developers&quot; meeting. The following is from Ted Hesselroth&#39;s notes.

BNL: What checksumming is done for transfers?

Tigran: On restoring from tape, a checksum is performed against the value in pnfs. This, he thinks, is in the pool code, though it could be in the OSM code. On reading, performing a checksum on the pools would be expensive.

Timur (email after the meeting): Links to documentation of checksumming.

http://www.dcache.org/manuals/Book/cb-pool-checksumming.shtml
http://www.dcache.org/manuals/Book/cb-pool-advancedChecksumming.shtml

UERJ (via Ted Hesselroth): Pools are not balanced; some are 80% full, some 10%. What adjustment can be made, and can they be rebalanced?

Tigran: Make the cost function more weighted for space rather than CPU. To rebalance, edit &lt;nop&gt;PoolMananger.conf to cause more empty pools to have higher preference. Then pool-to-pool copies will be done from the other pools to this one.

A suggestion was also made by UNL to use the Replica Manager to create 2 copies of all files, then when replication is done, set the maximum to 1. Extra replicas will be deleted randomly, resulting in even distribution of files. Best to do this when the system is in use, to avoid coherency problems. One can also create a pool group for the more empty pools, then set a nearly-full pool to offline.

Alex stated that using &quot;ls -unique&quot; should not be used to verify the number of replicas.

WISC: What is the best way of finding which files are unique? This is for studying pnfs timeout problems.

Timur: The nfs interface is currently the only reliable way of querying pnfs.

Tigran: The database of the upcoming Chimera will be more open and more easily query-able. Metadata will be stored as columns in the database. For avoiding pnfs inconsistencies, have the gridftpdoor get info from &lt;nop&gt;PnfsManager.  There will be more load on the latter, but results are more reliable.

Timur: It is a known bug that directory creation sometimes results in root:root ownership.

UNL described a logging system for &lt;nop&gt;PnfsManger that is lightweight and results in database entries that can be analysed.

Alex: What is the best way to determine the location of files? Sometimes a pool that is reported to have a file, actually doesn&#39;t. This is very important when deleting a replica.

Tigran: pnfs cannot know when a file is deleted from a pool, the the existence of a file on a pool should be checked if the pool has been shut down.

UCSD: We upgraded from 1.7.0 patch 24 to patch 31. Now we have to restart srm every six hours. Suggestions?

Timur: Several bug fixes have been made recently and the latest patch is running well on Tier1 sites such as BNL and FZK. An upgrade to patch 34 is recommended.

UNL: I have seen that clients such as phedex kill transfers after a timeout, even if the transfer is 90 % finished. Is there a way in dCache to determine the progress of a transfer?

Timur: We will consider such a feature - please send a request to support at dcache dot org.

Tigran: The &quot;Active Transfers&quot; page shows the state of all transfers. We use a byte count and time to display an estimated rate.

BNL: Our write pools frequently restart themselves, after location manager reports &quot;Cell not found&quot;. Suggestions?

Tigran: An answer to a ping is not being received on time. The cell will be restarted only if the JVM crashes. Look for a core dump or other evidence from the JVM. If memory is running short, the kernel kills the process using the most memory, which is usually a JVM.

WISC: Are there plans to improve logging in dCache?

Ted: We will have a staff member start working on this in 3-4 months as part of the VDT extension program. Various entities, such as CEDS and IBM/Cisco, are designing standards. We plan to have a dialog on the design and welcome input from potential end-users.

Ted: How will Space Reservation in SRM be handled by site administrators and users?

Timur: Link Groups are created in Trash.StoragePoolManager.conf and reservations will be made against them. Users will acess the reservation based on it&#39;s description. Clients writing to reserved space will include the space reservation token in their requests.

Ted: Can Space Reservation be used to set aside 5 % of a site&#39;s space for opportunistic use.

Timur: If the opportunistic clients would not use tokens, one would reserve the other 95 % and leave the remaining 5 % open. Otherwise, one can reserve 5 % of each link group and supply a description to be used for that space.

My thanks to all participants.

Ted Hesselroth 

---++ Decisions / To-dos / Follow-Ups
%STARTSECTION{name=&quot;ActionItemList&quot; type=&quot;section&quot;}%
%EDITTABLE{ header=&quot;| *Item* | *Lead Person* | *Date* |&quot; format=&quot;| textarea, 4x36, | text, 36, | date |&quot; changerows=&quot;on&quot;}% 
|*Item*|*Lead Person*|*Date*|
| test | test person | 4 December 2006 |

%ENDSECTION{name=&quot;ActionItemList&quot; type=&quot;section&quot;}%
---++ Created by:
&lt;!-- Paste your signature (below) here --&gt;
-- Main.TedHesselroth - 16 Apr 2007
