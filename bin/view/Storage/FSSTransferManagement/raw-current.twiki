---+!! *Federated Storage Service Transfer Management*
%TOC%

---++ File Operations

All file operations require the presence of an [[ReleaseDocumentation/UserCESimpleTest#Authentication_using_a_VOMS_Prox][X.509 proxy certificate]], either in the user environment or by delegation in the job environment. The user must be [[FSSUserAdministration#Registering_Users_or_Groups][registered]] in the Federated Storage Service.

---+++ Writing a File

This command copies a file from a user-specified source to a storage resource.

   1. The user invokes the [[FSSCommandReference#Public_storage_write][public storage write command]] using a local path as the source and the logical name of the file as the destination. A specific storage resource from which the file is to be written may be specified using the Storage Resource Handle. Otherwise, resource selection is done. Internally, after any resource selection these actions happen.
   * The public storage write command uses the storage resource information to construct the URL of the file.
   * The public storage write command invokes the suitable executable from the [[ReleaseDocumentation/ClientInstallationGuide][VDT Client Package]] to perform the deletion.
   * Catalog, allocation, and suballocation information for the file is updated.

---+++ Listing a File

This command lists a file at a specified storage resource, or lists all replicas if no storage resource is specified.

   1. The user invokes the [[FSSCommandReference#Public_storage_ls][public storage ls]] command using the logical name of the file or directory as an argument. A specific storage resource from which the file is to be listed may be specified using the Storage Resource Handle. Otherwise, all storage resources on which a replica exists are selected. Internally, after any resource selection these actions happen. 
   * The public storage ls command uses the storage resource information to construct the URL of the file.
   * The public storage ls command invokes the suitable executable from the [[ReleaseDocumentation/ClientInstallationGuide][VDT Client Package]] to perform the listing.

---+++ Reading a File

This command copies a file from a storage resource to a user-specified destination.

   1. The user invokes the [[FSSCommandReference#Public_storage_read][public storage read command]] using the logical name of the file as the source and a local path as the destination. A specific storage resource from which the file is to be read may be specified using the Storage Resource Handle. Otherwise, resource selection is done. Internally, after any resource selection these actions happen.
   * The public storage read command uses the storage resource information to construct the URL of the file.
   * The public storage read command invokes the suitable executable from the [[ReleaseDocumentation/ClientInstallationGuide][VDT Client Package]] to perform the read.

---+++ Copying a File

This command copies a file from one storage resource to another, that is, another replica of the file is made.

   1. The user invokes the [[FSSCommandReference#Public_storage_copy][public storage copy command]] using the logical name of the file. The source storage resource may be optionally specified, and the destination storage resource may be optionally specified. Otherwise, resource selection is done. Internally, after any resource selection these actions happen.
   * The public storage copy command uses the storage resource information to construct the source and destination URLs of the file.
   * The public storage copy command invokes the suitable executable from the [[ReleaseDocumentation/ClientInstallationGuide][VDT Client Package]] to perform the copy.
   * Catalog, allocation, and suballocation information for the file is updated.

---+++ Deleting a File

This command deletes a file at a specified storage resource, or deletes all replicas if no storage resource is specified.

   1. The user invokes the [[FSSCommandReference#Public_storage_delete][public storage delete]] command using the logical name of the file. A specific storage resource from which the file is to be deleted may be specified using the Storage Resource Handle. Otherwise, all storage resources on which a replica exists are selected. Internally, after any resource selection these actions happen.
   * The public storage delete command uses the storage resource information to construct the URL of the file.
   * The public storage delete command invokes the suitable executable from the [[ReleaseDocumentation/ClientInstallationGuide][VDT Client Package]] to perform the deletion.
   * Catalog, allocation, and suballocation information for the file is updated.

---++ Catalog Operations

These operations are done automatically if the commands described above are used. However, in the case that files have been written or deleted outside the Federated Storage Service, the catalog, allocation, and suballocation information for the file should be updated by direct commands.

---+++ Registering a File

   1. The user registers a file in the Public Storage Catalog using the [[FSSCommandReference#File_registration_tool][file registration tool]] with the logical full path name of the file as an argument. Optional arguments include
   * A dataset handle
   * A storage resource and the file’s state on that resource.


---+++ Replica Registration for Write

   1. The [[FSSCommandReference#File_replica_update_utility][file replica update utility]] is invoked, which creates or updates an object in the Replica Catalog with attributes specified on the command line, or their defaults. 


---+++ Replica Update for Delete

   1. The [[FSSCommandReference#File_replica_update_utility][file replica update utility]] is invoked, which creates or updates an object in the Replica Catalog with attributes specified on the command line, or their defaults. 




-- Main.TedHesselroth - 20 Sep 2010
