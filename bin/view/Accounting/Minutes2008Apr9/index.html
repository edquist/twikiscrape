<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> Minutes2008Apr9 &lt; Accounting &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Accounting/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Accounting/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Accounting/Minutes2008Apr9?_T=16 Feb 2017" type="application/x-wiki" title="edit Minutes2008Apr9" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Accounting/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Accounting/Minutes2008Apr9"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#D0D0D0;
	}
	.patternBookView {
		border-color:#D0D0D0;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Minutes2008Apr9"></a> Minutes2008Apr9 </h1>
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Introduction">Introduction</a>
</li> <li> <a href="?cover=print#Attending">Attending</a>
</li> <li> <a href="?cover=print#Apologies">Apologies</a>
</li> <li> <a href="?cover=print#Apologies_AN1">Apologies</a>
</li> <li> <a href="?cover=print#Action_items_from_previous_meeti">Action items from previous meeting:</a>
</li> <li> <a href="?cover=print#DB_and_Schema_issues">DB and Schema issues</a>
</li> <li> <a href="?cover=print#OSG_Issues">OSG Issues</a>
</li> <li> <a href="?cover=print#Collector">Collector</a>
</li> <li> <a href="?cover=print#Report_development">Report development</a>
</li> <li> <a href="?cover=print#Probes">Probes</a>
</li> <li> <a href="?cover=print#Test_Bed">Test Bed</a>
</li> <li> <a href="?cover=print#Any_Other_Business">Any Other Business</a>
</li> <li> <a href="?cover=print#To_be_discussed_later">To be discussed later:</a>
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Introduction"></a> Introduction </span></h2>
<p />
Minutes of Gratia meeting <ul>
<li> Last meeting: <a href="/bin/view/Accounting/Minutes2008Mar26" class="twikiLink">March 26</a>
</li> <li> Previous meetings: <a href="/bin/view/Accounting/MeetingMinutes" class="twikiLink">MeetingMinutes</a>
</li> <li> Coordinates: Wednesday at 1:30pm CST/CDT, 1-510-665-5437 and use the meeting ID: 2966. 
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Attending"></a> Attending </span></h2>
<p /> <ul>
<li> <a href="/bin/view/Main/PenelopeConstanta" class="twikiLink">Penelope Constanta</a>.
</li> <li> <a href="/bin/view/Main/ChrisGreen" class="twikiLink">Chris Green</a>.
</li> <li> <span class="twikiNewLink">Jeff Mack<a href="/bin/edit/Main/JeffreyMack?topicparent=Accounting.Minutes2008Apr9" rel="nofollow" title="Jeff Mack (this topic does not yet exist; you can create it)">?</a></span>.
</li> <li> <a href="/bin/view/Main/JohnWeigand" class="twikiLink">John Weigand</a>.
</li> <li> Diana Bonham.
</li> <li> <a href="/bin/view/Main/RuthPordes" class="twikiLink">Ruth Pordes</a>.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Apologies"></a> Apologies </span></h2> <ul>
<li> <a href="/bin/view/Main/PhilippeCanal" class="twikiLink">Philippe Canal</a>.
</li></ul> 
<p />
<!--
<p /> <ul>
<li> <a href="/bin/view/Main/PenelopeConstanta" class="twikiLink">Penelope Constanta</a>.
</li> <li> <a href="/bin/view/Main/ChrisGreen" class="twikiLink">Chris Green</a>.
</li> <li> <span class="twikiNewLink">Jeff Mack<a href="/bin/edit/Main/JeffreyMack?topicparent=Accounting.Minutes2008Apr9" rel="nofollow" title="Jeff Mack (this topic does not yet exist; you can create it)">?</a></span>.
</li> <li> <a href="/bin/view/Main/StevenTimm" class="twikiLink">Steve Timm</a>.
</li> <li> <a href="/bin/view/Main/JohnWeigand" class="twikiLink">John Weigand</a>.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Apologies_AN1"></a> Apologies </span></h2> <ul>
<li> <a href="/bin/view/Main/PhilippeCanal" class="twikiLink">Philippe Canal</a>.
</li> <li> <a href="mailto&#58;karunach&#64;nhn&#46;ou&#46;edu">Karthik Arunachalam</a>.
</li></ul> 
<p /> <ul>
<li> Diana Bonham.
</li> <li> <a href="/bin/view/Main/PhilippeCanal" class="twikiLink">Philippe Canal</a>.
</li> <li> <a href="/bin/view/Main/PenelopeConstanta" class="twikiLink">Penelope Constanta</a>.
</li> <li> <a href="/bin/view/Main/ChrisGreen" class="twikiLink">Chris Green</a>.
</li> <li> <span class="twikiNewLink">Jeff Mack<a href="/bin/edit/Main/JeffreyMack?topicparent=Accounting.Minutes2008Apr9" rel="nofollow" title="Jeff Mack (this topic does not yet exist; you can create it)">?</a></span>.
</li> <li> <a href="/bin/view/Main/StevenTimm" class="twikiLink">Steve Timm</a>.
</li> <li> John Urish.
</li> <li> Margherita Vittone.
</li> <li> <a href="/bin/view/Main/JohnWeigand" class="twikiLink">John Weigand</a>.
</li> <li> <a href="mailto&#58;karunach&#64;nhn&#46;ou&#46;edu">Karthik Arunachalam</a>.
</li></ul> 
<p />
-->
<p />
[ Computer crash lost minutes in-progress: please fill in any missing details ]
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Action_items_from_previous_meeti"></a> Action items from previous meeting: </span></h2>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="DB_and_Schema_issues"></a> DB and Schema issues </span></h2>
<p />
Diana had a concern about a diagnostic message ("fermi_itb:backup:WARNING: The database(s) fermi_itb  will be backed up in logical mode since they contain tables that use a transactional engine") present in the logs for most InnoDB schemata missing from the gratia backup. Chris will take up with Philippe when he comes off furlough.
<p />
InnoDB conversion completed. See John W's status report:<blockquote>From 3/2608 - 4/9/08
<hr /> <ol>
<li> InnoDB conversion - gratia database <ol>
<li type="a"> Initial intent was to start on 3/27, however, database backups appeared hung and were running late.  Additionally, we were experiencing a 4K throughput rate on gratia07 which would       not meet our needs for the conversion procedure we were using.       Chris found that the v5_0_51 ups version of mysql may have       been the culprit.  We switched the mysql on gratia07 to       using v5_0_22 and we got a 50K throughput rate.
</li> <li type="a"> 4/1 - switched the gratia database over to using gratia07.      Took 2 hours to catch it up to current from the nightly backup.
</li> <li type="a"> 4/1 10:15 - all collectors were taken down for the repartitioning       and RAID level upgrade Steve did on gratia06.  This       complete by 14:00.  The tomcat-gratia collector was  not       affected as it was using the gratia07 database.
</li> <li type="a"> 4/2 - InnoDB conversion stopped with a serve shutdown       at 12:03.  No reason.  Re-started conversion.
</li> <li type="a"> 4/4  01:17 conversion completed.  Started "catch-up" phase       on all new data by replicating from gratia07 to gratia06.       405L records to replicate
</li> <li type="a"> 4/4 23:15 - caught up all records, but had 2 records fail with      a <span class="twikiNewLink">MySQL<a href="/bin/edit/Accounting/MySQL?topicparent=Accounting.Minutes2008Apr9" rel="nofollow" title="MySQL (this topic does not yet exist; you can create it)">?</a></span> error for no reason.
</li> <li type="a"> 4/5 17:00 - switched tomcat-gratia back to using gratia06 after      determining the 2 records were not a significant problem.
</li></ol> 
</li> <li> Version 0.32.1c conversion <ol>
<li type="a"> 3/31 - built new version, tested on gratiax33.       Started twiki doc for conversion                <a href="https://twiki.grid.iu.edu/twiki/bin/view/Accounting/GratiaReleaseV0dot32dot1c" target="_top">https://twiki.grid.iu.edu/twiki/bin/view/Accounting/GratiaReleaseV0dot32dot1c</a>       Updated fermi_itb and fermi_osg
</li> <li type="a"> 4/1 - updated tomcat-qcd, tomcat-itb and tomcat-osg_integration       osg_integration appeared to be having problems with       replicated data (0 good, all bad) so turned off replication       on gratia_itb
</li></ol> 
</li> <li> Trouble shooting <ol>
<li type="a"> 3/27 - assisted Tanya in looking for dcache data on fermi_itb
</li> <li type="a"> 3/31 - gratia_osg_integration was experiencing a very high       number of duplicates (100K good, 400K duplicates)       - deleted duplicates
</li> <li type="a"> 4/1 - on either fermi_itb or fermi_osg, I forget which,  it did       not appear to be recording all probe records.   Pinned it       down to gloexec records of length 320 which contained only       header data. Those that were 1320 in size appeared to be      the ones updating successfully.  This was for Tanya as I      remember.
</li></ol> 
</li> <li> Miscellaneous <ol>
<li type="a"> 3/28 - per request from Chris, tunred on replication from gratia_itb       to gratia_osg_integration for all probes currently on       gratia_osg_integration.
</li> <li type="a"> 3/28 - added log4j.properties file to the gratia-services to have all       hibernate messages separated from the catalina.out file. <ul>
<li> done on Chris' v0-32-patches branch and on the head.
</li> <li> tested on gratiax33
</li></ul> 
</li> <li type="a"> 3/28 - Ruth asked that a tarball be sent to Greg Sharp for possible use      in RSV at Indiana. Created it and made accessible at          <a href="http://home.fnal.gov/~weigand/tmp/gratia-summary.tgz" target="_top">http://home.fnal.gov/~weigand/tmp/gratia-summary.tgz</a>
</li></ol> 
</li> <li> GRAM auditing <ol>
<li type="a"> email from Stu Martin related to all the feature requests he has       received on GRAM auditing are being put into Globus 4.4
</li> <li type="a"> I was assured that all the bugzilla items would be going into       4.2.n which may make it viable to use for Gratia accounting       I have not had a chance to fully evaluate this.
</li></ol> 
</li> <li> APEL/EGEE <ol>
<li type="a"> I have been asked to transition this interface to Karthik and       Horst at OU, but have not had a change to initiate this.
</li></ol> 
</li> <li> Testbed goals. <ol>
<li type="a"> have not had the time to document these.
</li></ol> 
</li></ol> 
</blockquote>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="OSG_Issues"></a> OSG Issues </span></h2>
<p />
Behind on 0.34 for OSG with roles / FQAN.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Collector"></a> Collector </span></h2>
<p />
Chris: FQAN checksum conversion: will need to add a new column and convert using low-downtime swap procedure again. Still working on getting the scheme right.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Report_development"></a> Report development </span></h2>
<p />
Problem report received from Ken Bloom re missing site labels for some plots. Would need to know how to tell BIRT to do dynamic axis length. Other solution is to move to ranked reports.
<p />
Penelope investigating BIRT 2.3m5: Chris and John nervous about putting a non-official release into one of our releases, so hold off for now. Will be available on a small collector.
<p />
Penelope wants input on an interface for standard parameter settings, including set calculated intervals (last week, last month, etc) and aggregation period (day, week, month, total). Will be available on gratiax23.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Probes"></a> Probes </span></h2>
<p />
Chris: Horst has installed probes on OU that should prevent further corrupted records. Will wait and see for now.
<p />
Chris requested aliases for dCache transfer collector -- will be available tomorrow and configured in RPM release of dCache probes.
<p />
dCache probe enhancements for SRM schema change and uniqueness problem -- will build by end of week.
<p />
Discussion with Alain over upcoming problem with condor &gt;6.9.0 and PER_JOB_HISTORY_DIR configuration: check at installation/config time, and also RSV probe (we get to write it).
<p />
Thinking on, we have the following thing in our favor: VDT patch globus so that GT2 jobs still get a GRAM stub (the original idea was that this would go away), so even if PER_HISTORY_JOB_DIR is not configured we still have the GRAM stub for GT2 jobs. Will need to be careful to avoid double counting. Also, could use FQAN file as a trigger to invoke condor_history if we're careful and avoid needing PER_JOB_HISTORY dir altogether. Of course, will need to be careful!
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Test_Bed"></a> Test Bed </span></h2>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Any_Other_Business"></a> Any Other Business </span></h2>
<p />
Ruth: clarification on GRAM auditing: should be no work done on it unless asked via CDIC (?) meeting. Agreed. Some fixes to show stopper bugs are anyway slated for globus 4.2.n so won't be in OSG stack for a long time.
<p />
Ruth: need to see full roadmap for implementation of features in requirements doc -- what goes in when? Priority after 0.34 release, please.
<p />
Chris: met last Friday with Eileen, Keith and Igor M. regarding transfer to operations group of upgrades and day-to-day ops. General principles agreed; Keith to revise and distribute document. Will involve some doc and robustness work, especially in the area of tricky upgrades like the one we just did converting to InnoDB.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="To_be_discussed_later"></a> To be discussed later: </span></h2>
<p />
<p />
<p />
-- <a href="/bin/view/Main/ChrisGreen" class="twikiLink">ChrisGreen</a> - 09 Apr 2008</div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Accounting<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Accounting/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a> &gt; <a href="/bin/view/Accounting/MeetingMinutes" class="twikiLink">MeetingMinutes</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>Minutes2008Apr9</span> <br />    
Topic revision: r2 - 09 Apr 2008 - 21:48:51 - <a href="/bin/view/Main/ChrisGreen" class="twikiLink">ChrisGreen</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />