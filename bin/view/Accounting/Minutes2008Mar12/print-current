<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> Minutes2008Mar12 &lt; Accounting &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Accounting/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Accounting/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Accounting/Minutes2008Mar12?_T=16 Feb 2017" type="application/x-wiki" title="edit Minutes2008Mar12" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Accounting/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Accounting/Minutes2008Mar12"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#D0D0D0;
	}
	.patternBookView {
		border-color:#D0D0D0;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Minutes2008Mar12"></a> Minutes2008Mar12 </h1>
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Introduction">Introduction</a>
</li> <li> <a href="?cover=print#Attending">Attending</a>
</li> <li> <a href="?cover=print#Apologies">Apologies</a>
</li> <li> <a href="?cover=print#Action_items_from_previous_meeti">Action items from previous meeting:</a>
</li> <li> <a href="?cover=print#DB_and_Schema_issues">DB and Schema issues</a>
</li> <li> <a href="?cover=print#OSG_Issues">OSG Issues</a>
</li> <li> <a href="?cover=print#Collector">Collector</a>
</li> <li> <a href="?cover=print#Report_development">Report development</a>
</li> <li> <a href="?cover=print#Probes">Probes</a>
</li> <li> <a href="?cover=print#Test_Bed">Test Bed</a>
</li> <li> <a href="?cover=print#APEL_WLCG">APEL WLCG</a>
</li> <li> <a href="?cover=print#Any_Other_Business">Any Other Business</a>
</li> <li> <a href="?cover=print#To_be_discussed_later">To be discussed later:</a>
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Introduction"></a> Introduction </span></h2>
<p />
Minutes of Gratia meeting <ul>
<li> Last meeting: <a href="/bin/view/Accounting/Minutes2008Mar05" class="twikiLink">March 05</a>
</li> <li> Previous meetings: <a href="/bin/view/Accounting/MeetingMinutes" class="twikiLink">MeetingMinutes</a>
</li> <li> Coordinates: Wednesday at 1:30pm CST/CDT, 1-510-665-5437 and use the meeting ID: 2966. 
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Attending"></a> Attending </span></h2>
<p />
TBA.
<!--
<p /> <ul>
<li> <a href="/bin/view/Main/PenelopeConstanta" class="twikiLink">Penelope Constanta</a>.
</li> <li> <a href="/bin/view/Main/ChrisGreen" class="twikiLink">Chris Green</a>.
</li> <li> <span class="twikiNewLink">Jeff Mack<a href="/bin/edit/Main/JeffreyMack?topicparent=Accounting.Minutes2008Mar12" rel="nofollow" title="Jeff Mack (this topic does not yet exist; you can create it)">?</a></span>.
</li> <li> <a href="/bin/view/Main/StevenTimm" class="twikiLink">Steve Timm</a>.
</li> <li> <a href="/bin/view/Main/JohnWeigand" class="twikiLink">John Weigand</a>.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Apologies"></a> Apologies </span></h2> <ul>
<li> <a href="/bin/view/Main/PhilippeCanal" class="twikiLink">Philippe Canal</a>.
</li> <li> <a href="mailto&#58;karunach&#64;nhn&#46;ou&#46;edu">Karthik Arunachalam</a>.
</li></ul> 
<p /> <ul>
<li> Diana Bonham.
</li> <li> <a href="/bin/view/Main/PhilippeCanal" class="twikiLink">Philippe Canal</a>.
</li> <li> <a href="/bin/view/Main/PenelopeConstanta" class="twikiLink">Penelope Constanta</a>.
</li> <li> <a href="/bin/view/Main/ChrisGreen" class="twikiLink">Chris Green</a>.
</li> <li> <span class="twikiNewLink">Jeff Mack<a href="/bin/edit/Main/JeffreyMack?topicparent=Accounting.Minutes2008Mar12" rel="nofollow" title="Jeff Mack (this topic does not yet exist; you can create it)">?</a></span>.
</li> <li> <a href="/bin/view/Main/StevenTimm" class="twikiLink">Steve Timm</a>.
</li> <li> John Urish.
</li> <li> Margherita Vittone.
</li> <li> <a href="/bin/view/Main/JohnWeigand" class="twikiLink">John Weigand</a>.
</li> <li> <a href="mailto&#58;karunach&#64;nhn&#46;ou&#46;edu">Karthik Arunachalam</a>.
</li></ul> 
<p />
-->
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Action_items_from_previous_meeti"></a> Action items from previous meeting: </span></h2>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="DB_and_Schema_issues"></a> DB and Schema issues </span></h2>
<p />
John W:
1. <span class="twikiNewLink">InnoDB<a href="/bin/edit/Accounting/InnoDB?topicparent=Accounting.Minutes2008Mar12" rel="nofollow" title="InnoDB (this topic does not yet exist; you can create it)">?</a></span> conversion / procedures
    Continuing.... documented in seperate twiki now.
<p />
<a href="https://twiki.grid.iu.edu/twiki/bin/view/Accounting/GratiaUpgradeProcedure" target="_top">https://twiki.grid.iu.edu/twiki/bin/view/Accounting/GratiaUpgradeProcedure</a>
     Lots of little 'gotcha's.     This is procedure gets a bit complex.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="OSG_Issues"></a> OSG Issues </span></h2>
<p />
BNL is still pushing for how to report on the various ownership of the nodes.  
It seems the better method would be to use the fermigrid method.
<p />
Transfer/Storage probes: Greg Sharp is leaving soon.  Do we have a scheme
in place for long term support.
<p />
Chris:  I can help but most of it should be done by the DCache team.  Brian
can also help.
<p />
gridftp probe currently implementation is rely on udp hence it is not appropriate for Gratia.
A different solution would need to be determine.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Collector"></a> Collector </span></h2>
<p />
John W: 5. Admin login process
    Provided assistance to Penelope with problems in accessing the VOMS 
database
    on gratiax34 and the changes needed for the new test data described 
previously.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Report_development"></a> Report development </span></h2>
<p />
Jeff M:
Working on converting &#8211;osgdaily reports to our Birt 2.2 runtime ui. First pass conversion on top level reports has been completed, but additional work and testing needed.
<p />
Evaluating Actuate iServer Express and <span class="twikiNewLink">BusinessReports<a href="/bin/edit/Accounting/BusinessReports?topicparent=Accounting.Minutes2008Mar12" rel="nofollow" title="BusinessReports (this topic does not yet exist; you can create it)">?</a></span> Studio products for potential use on Fermi site. These products provide report scheduling and adhoc query/report design tools.
<p />
Provided Diana B. and Anil K. Gratia stored procedures for them to review report query designs.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Probes"></a> Probes </span></h2>
<p />
Chris:
Find and fix problem decoding overlong records using "POST-correction" method; put in limited buffer expansion. This should go away permanently when probes hit the field with correct POST semantics. 
<p />
Fix glexec problem -- new probe talking to old collector. Records will require collection to load <span class="twikiNewLink">CommonName<a href="/bin/edit/Accounting/CommonName?topicparent=Accounting.Minutes2008Mar12" rel="nofollow" title="CommonName (this topic does not yet exist; you can create it)">?</a></span> and <span class="twikiNewLink">KeyInfo<a href="/bin/edit/Accounting/KeyInfo?topicparent=Accounting.Minutes2008Mar12" rel="nofollow" title="KeyInfo (this topic does not yet exist; you can create it)">?</a></span> information. 
<p />
Discussions with Alain about release schedule. 
<p />
Discussions with Rob Q. about next round of Gratia reporting tickets to sites. 
<p />
Ping to Ruth and Brian on OSG requirements (no reply). 
<p />
Reorganize library to have "util" jar; Logging.java still copied by hand as that has static traits that need to be localized to the particular service. 
<p />
Break collector configurations out from configure-collector into a separate file. 
<p />
Put new UPS <span class="twikiNewLink">MySQL<a href="/bin/edit/Accounting/MySQL?topicparent=Accounting.Minutes2008Mar12" rel="nofollow" title="MySQL (this topic does not yet exist; you can create it)">?</a></span> on gratia07. 
<p />
Help John W. with hotbackup activation issues and collector connection issues on gratia07 / gratiax23. 
<p />
Discussion with Rob Q and Philippe about RSV development and integration -- collector still needs to be installed and activated, was waiting on configure-collector updates. 
<p />
Activate binary log cleanup on gratia06. 
<p />
Update glexec probe to read different date formats from glexec log (updates from Igor). 
<p />
Update RPM spec to fix crontab clobbering when RPM and VDT probes are mixed on the same machine.
<p />
Help Arvind with RSV duplicate problems at a site -- RSV problem, not Gratia per se. 
<p />
Partial fix to administration/index.html to allow testing. 
<p />
Discussions with Tanya, Greg and Brian B. on dCache probes.
<p />
Update <span class="twikiNewLink">JobUsageRecord<a href="/bin/edit/Accounting/JobUsageRecord?topicparent=Accounting.Minutes2008Mar12" rel="nofollow" title="JobUsageRecord (this topic does not yet exist; you can create it)">?</a></span> checksum code to ignore attributes that don't affect whether a given record is identical. Working on code to update existing data to re-do checksum and weed out fresh-discovered duplicates
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Test_Bed"></a> Test Bed </span></h2>
<p />
John W:
3. Steve provided certificates for gratiax21 for testing the admin login
    On all Gratia xen nodes, my procedure for saving the certificates is 
to put them in
    /root/certificates and make the directory and files immutable (see 
chattr man page)
    to avoid accidental delete.  They will normally be used in the 
/etc/grid-security
    directory and can be copied from the certificates directory as 
needed.  As an
    additional FYI, the automated installation scripts always look in 
that directory to install
    host/http/ldap certs as needed.  Steve Timm also saves them off on 
another machine.
<p />
4. Testbed
    Created a "happy day" script to populate  the VOMS database on 
gratiax34 for use
    in testing the admin login process.   It is documented here:
<p />
<a href="https://twiki.grid.iu.edu/twiki/bin/view/Accounting/GratiaDevAndTestEnviron#VOMS_Test_Data" target="_top">https://twiki.grid.iu.edu/twiki/bin/view/Accounting/GratiaDevAndTestEnviron#VOMS_Test_Data</a>
<p />
    John Urish is in the process of incorporating that into the 
automated installation
    scripts.  This will allow for populating the OSG installation 
validation scripts with
    test data independent of Gratia needs as these scripts  are used for 
both purposes.
    The OSG installation validation project is documented here in the 
event you are
    unfamiliar with it:
      <a href="http://www.uscms.org/SoftwareComputing/Grid/Validation/" target="_top">http://www.uscms.org/SoftwareComputing/Grid/Validation/</a>
<p />
John U:
I am close to completing the test data loader script for VOMS.
<p />
However, I have been reassigned to help with DCACHE problems starting on 
Monday. This assignment is likely to last well into summer.
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="APEL_WLCG"></a> APEL WLCG </span></h2>
<p />
2. BNL_ATLAS_1 / APEL-EGEE issues again
    For February 2008, Gratia shows ~750K jobs, EGEE shows ~500K jobs.
    The 25oK difference appears to be 'unknown' VO data.  None of these
    have a <span class="twikiNewLink">LocalUserId<a href="/bin/edit/Accounting/LocalUserId?topicparent=Accounting.Minutes2008Mar12" rel="nofollow" title="LocalUserId (this topic does not yet exist; you can create it)">?</a></span> (UNIX account) with a string like '%atlas%' in it so
     hey are not picked up in the interface.
<p />
    Sent several iterations of queries to Xin.
<p />
    In reviewing the data on the gratia report screens and you....
    Go to Reports - Site Views --> Usage by Site
    ... set your start/end dates to 2/1 and 3/1 respectively,
    ... set the metric to Job Count
    ... then drill down on BNL_ATLAS_1
    ... then drill down on unknown.
    This shows the Common Name from the subject of the user proxy used 
(presumably).
    It appears the Common Name cannot be derived from the proxy's 
subject for the bulk
    of the unknowns.  It might be something, it might not.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Any_Other_Business"></a> Any Other Business </span></h2>
<p />
Steve Timm:
<p />
Under Any other business:
<p />
I may not make the meeting today due to debugging an important SAZ
issue but I would like to understand
<p />
(1) the evolving plan for the ZRM backups, which seem to be working OK
<p />
(2) If any change in partition sizing or <span class="twikiNewLink">TiBS<a href="/bin/edit/Accounting/TiBS?topicparent=Accounting.Minutes2008Mar12" rel="nofollow" title="TiBS (this topic does not yet exist; you can create it)">?</a></span> configuration is warranted
     on gratia06,07,09
<p />
Yes, the mysqldb/gratia should be increase in size.
On gratia09 we need to space (actually not necessarily on that machine)
so that we can permanently backup the xml files.
<p />
(3) what is the relationship of the ZRM backups to the plans for innodb
     conversion--note that as part of this downtime I would like, if 
possible, to redo the raid configuration on gratia06 back to raid 5 to
get us more space there.
<p />
The ZRM backups are in place.  Innodb is proceeding.  The raid
re-configuration should happen thereafter.
<p />
(4) Given the backup scheme that seems to be converging, what is
     the logical place to spend any hardware money?  Obviously
      on disk, but on which system?
<p />
Most urgent is probably to add to gratia06 to store the storage
transfer information (however, it might be even better on a different
node)
<p />
(4a) is there any plan to split the fermi-only mysql databases 
(fermi_osg, fermi_itb, gratia_psacct to
      a different machine, and/or to split the load of the osg-specific
      mysql databases between two or more machines?
<p />
Yes, it would be nice
<p />
(4b) is it anticipated that the deployment of storage probes will
      increase the rate such that more collectors and/or database
       machines are needed?
<p />
Yes, the expected size is in the same order of magnitude as 
the main Gratia DB.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="To_be_discussed_later"></a> To be discussed later: </span></h2></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Accounting<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Accounting/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a> &gt; <a href="/bin/view/Accounting/MeetingMinutes" class="twikiLink">MeetingMinutes</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>Minutes2008Mar12</span> <br />    
Topic revision: r4 - 11 Dec 2008 - 18:51:44 - <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />