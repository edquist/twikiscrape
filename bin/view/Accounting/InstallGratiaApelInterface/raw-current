<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> InstallGratiaApelInterface &lt; Accounting &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Accounting/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Accounting/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Accounting/InstallGratiaApelInterface?_T=16 Feb 2017" type="application/x-wiki" title="edit InstallGratiaApelInterface" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Accounting/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Accounting/InstallGratiaApelInterface"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiPref.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twiki_edit.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern_edit.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">
#patternTopBar,
#patternTopBarContentsOuter {
	height:95px; /* top bar height; make room for header columns */
}
#twikinetTopToolBar,
#twikinetTopToolBar table {
	top:95px; /* top bar height */
	height:48px;
}
#patternClearHeaderCenter,
#patternClearHeaderLeft,
#patternClearHeaderRight {
	height:144px; /* 95 + border + 48 */
}
#twikinetLogo {
	position:absolute;
	width:100%;
	height:95px;
}
#twikinetLogo a {
	position:absolute;
	display:block;
	width:179px;
	height:65px;
	background:none;
	top:10px;
	left:340px;
}
#twikinetLogo a:link, 
#twikinetLogo a:visited {
	border:none;
}
#twikinetLogo a:hover {
	border-style:none none solid none;
	border-width:1px;
	border-color:#c4cbd6;
}
#twikinetLogo a span {
	display:none;
}
#patternOuter {
	margin-left:220px;
}
#patternLeftBar {
	width:220px;
	margin-left:-220px;
}
</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#D0D0D0;
	}
	.patternBookView {
		border-color:#D0D0D0;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternRawViewPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternWrapper"><div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain"><div id="patternClearHeaderCenter"></div>
<div id="patternMainContents"><div class="patternTop"><span class="patternHomePath"><span class="patternHomePathTitle">You are here: </span> <a href="/bin/view/Main/WebHome" class="twikiLink">TWiki    </a><span class='twikiSeparator'>&gt;</span><img src="/twiki/pub/TWiki/TWikiDocGraphics/web-bg-small.gif" border="0" alt="" width="13" height="13" style="background-color:#D0D0D0" />&nbsp;<a href="/bin/view/Accounting/WebHome">Accounting Web</a><span class='twikiSeparator'>&gt;</span><a href="/bin/view/Accounting/GratiaInterfacesApelLcg" class="twikiLink">GratiaInterfacesApelLcg</a><span class='twikiSeparator'>&gt;</span><a href="https://twiki.opensciencegrid.org/bin/view/Accounting/InstallGratiaApelInterface" title='Topic revision: 5 (07 Feb 2017 - 19:34:16)'>InstallGratiaApelInterface</a> <span class='patternRevInfo'>(07 Feb 2017, <a href="/bin/view/Main/BrianBockelman" class="twikiLink">BrianBockelman</a>)</span> (raw view)</span><!-- /patternHomePath--></div><!--/patternTop--><div class="twikiContentHeader"></div><div class="patternContent"><div class="patternTopic"> <textarea name=""  rows="22    " cols="70    " readonly="readonly" style="width: 99%    " id="topic" class="twikiTextarea twikiTextareaRawView">%DOC_STATUS_TABLE%



---+!! Install Gratia-APEL Interface
%TOC%

&lt;!-- conventions used in this document
   * Set APEL_FAQ=[[https://twiki.cern.ch/twiki/bin/view/EMI/APELFAQ][APEL FAQ and Troubleshooting]]
   * Set APEL_SERVER=[[https://wiki.egi.eu/wiki/APEL/Server][APEL Server]]
   * Set APEL_SUMMARY_RECS=[[https://wiki.egi.eu/wiki/APEL/MessageFormat#Summary_Job_Records][APEL Job Summary Records]]
   * Set EGI_PORTAL                        = [[http://accounting.egi.eu/osg.php][EGI Accounting Portal]]
   * Set EGI_PORTAL_OSG_VIEW   = [[http://accounting.egi.eu/osg.php][EGI Accounting Portal - OSG view]]
   * Set EGI_PORTAL_TIER1_VIEW = [[http://accounting.egi.eu/tier1.php][EGI Accounting Portal - Tier 1 view]]
   * Set EGI_PORTAL_TIER2_VIEW = [[http://accounting.egi.eu/tier2.php][EGI Accounting Portal - Tier 2 view]]
   * Set EGI_PORTAL_USER_VIEW = [[http://www3.egee.cesga.es/gridsite/accounting/CESGA/user/user_view.html][EGI Accounting Portal - User view]]
   * Set EGI_PORTAL_VOMEMBER_VIEW = [[https://accounting.egi.eu/user/vomem.php][EGI Accounting Portal - VO Member view]]
   * Set OIM_HOME= [[http://oim.grid.iu.edu/][OIM (OSG Information Management System)]]
   * Set MYOSG_HOME= [[http://myosg.grid.iu.edu/about][MyOSG]]
   * Set WLCG_REPORTING = [[http://gratiaweb.grid.iu.edu/gratia/wlcg_reporting][OSG WLCG Reporting]]

   * Local UCL_HOST = %URLPARAM{&quot;INPUT_HOST&quot; encode=&quot;quote&quot; default=&quot;root&quot;}%
   * Local UCL_USER = %URLPARAM{&quot;INPUT_USER&quot; encode=&quot;quote&quot; default=&quot;user&quot;}%
   * Local UCL_DOMAIN = %URLPARAM{&quot;INPUT_DOMAIN&quot; encode=&quot;quote&quot; default=&quot;opensciencegrid.org&quot;}%
   * Set TWISTY_OPTS_DETAILED = mode=&quot;div&quot; showlink=&quot;Show Detailed Output&quot; hidelink=&quot;Hide&quot; showimgleft=&quot;/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif&quot; hideimgleft=&quot;/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif&quot; remember=&quot;on&quot; start=&quot;hide&quot; 
--&gt;


%STARTINCLUDE%
%EDITTHIS%

---+ About this Document
This document is for the individual or group responsible for running the interface between Gratia and the APEL/WLCG/EGI accounting systems.
Here we describe how to install and configure the Gratia-APEL interface on a Linux machine.
When you install this service, as described here, you get the following main components:
| *Software* | *Description* |
| !MySQL client | Used to access the OSG Gratia database |
| httpd | Provides access to the interface results |
| APEL SSM | Sends updates to APEL/EGI |
| Gratia-APEL | Main software |


---+ Introduction
Accounting records collected by Gratia are forwarded to the EGI accounting system, APEL. This is important for US-LHC Tier1 and Tier2 facilities which have to demonstrate to the LHC project delivered computing resources on behalf of ATLAS, CMS and ALICE collaborations, in accordance with signed Memorandum of Understanding agreements. The software parses and analyzes Gratia accounting records for an OSG __resource_group__ , scales wall time and cpu usage into &lt;nop&gt;HepSpec2006 for the processor type, and then forwards this data to the %APEL_SERVER% at the EGI GOC

The APEL Accounting Portal at RAL has been storing CPU accounting results for WLCG.  On behalf on the ATLAS, CMS and ALICE Tier 1 and Tier 2 that are part of OSG, OSG uploads usage information from Gratia to the APEL accounting system.  This OSG data can be viewed in the 
%EGI_PORTAL_OSG_VIEW%.  APEL is using OSG __resource groups__  registered in %OIM_HOME% and viewable in %MYOSG_HOME%

---+ Requirements

---++ Host and OS
   * A host to install the Gratia Service (Pristine node desired)
   * OS is %SUPPORTED_OS%. 
   * Root access

---++ Users
At this time, _root_ user is the only one configured to run this interface.
| *User* | *Default uid* | *Comment* |
| =root= | 0 | Runs the interface (cron) and owns the service certificate and configuration files |

---++ Certificates
You will need one service certificate.  This is a requirement of the APEL/SSM protocol.  
This certificate must be registered with the EGI broker network.
You can use a host certificate but the advantage of using a service certificate allows you to port the interface to another node without
re-registering it with APEL. Instructions for requesting a certificate can be found [[Trash.ReleaseDocumentationGetHostServiceCertificates][here]].

| *Certificate* | *User that owns certificate* | *Path to certificate* |
| Service certificate | =root= | =/etc/grid-security/gratia-apelcert.pem= &lt;br&gt; =/etc/grid-security/gratia-apelkey.pem= |


Before you can send your messages to the APEL server, you must send your certificate DN to the APEL-SUPPORT@JISCMAIL.AC.UK 
mailing list, e.g. output from running:
&lt;pre class=&quot;screen&quot;&gt;
openssl x509 -subject -noout -in your_cert_pem_file
&lt;/pre&gt;

---+ Installation Procedure
---++ Installing the Yum Repositories required by OSG
Certificates are required for the APEL-SSM interface to function as it uses SSL authentication for acceptance of data via SSM.
You will need to install the EPEL and OSG yum repositories  as described in the 
[[https://twiki.grid.iu.edu/bin/view/Documentation/Release3/YumRepositories][OSG Release 3 Yum Repositories documentation]].

---++ Installing CA Certificates (a quick guide)
You will now need to install OSG CA certificates.  The 
[[https://twiki.opensciencegrid.org/bin/view/Documentation/Release3/InstallCertAuth#Install_the_CA_Certificates_A_qu][OSG Release 3 documentation for installing the CA certificates]] will guide you through it.


---++ Install the Gratia-APEL interface
:&lt;pre class=&quot;rootscreen&quot;&gt;
%UCL_PROMPT_ROOT% yum install gratia-apel
&lt;/pre&gt;
%TWISTY{%TWISTY_OPTS_DETAILED%}%   &lt;pre class=&quot;rootscreen&quot;&gt;
%UCL_PROMPT_ROOT% yum install gratia-apel
Loaded plugins: kernel-module, priorities
Excluding Packages from SLF 5 base
Finished
Reducing SLF 5 base jdk to included packages only
Finished
Excluding Packages from SLF 5 security updates
Finished
Reducing SLF 5 security updates jdk only to included packages only
Finished
Excluding Packages from SL 5 base
Finished
Reducing SL 5 base jdk to included packages only
Finished
1106 packages excluded due to repository priority protections
Setting up Install Process
Examining /root/APEL-RPMS/gratia-apel-0.10-1.noarch.rpm: gratia-apel-0.10-1.noarch
Marking /root/APEL-RPMS/gratia-apel-0.10-1.noarch.rpm to be installed
Resolving Dependencies
--&gt; Running transaction check
---&gt; Package gratia-apel.noarch 0:0.10-1 set to be updated
--&gt; Processing Dependency: fetch-crl3 for package: gratia-apel
--&gt; Processing Dependency: httpd for package: gratia-apel
--&gt; Processing Dependency: mysql for package: gratia-apel
--&gt; Processing Dependency: osg-ca-certs for package: gratia-apel
--&gt; Processing Dependency: osg-version for package: gratia-apel
--&gt; Processing Dependency: python-daemon for package: gratia-apel
--&gt; Processing Dependency: python-ldap for package: gratia-apel
--&gt; Processing Dependency: stomppy for package: gratia-apel
--&gt; Running transaction check
---&gt; Package fetch-crl3.noarch 0:3.0.7-1.el5 set to be updated
---&gt; Package httpd.x86_64 0:2.2.3-74.sl5 set to be updated
--&gt; Processing Dependency: libaprutil-1.so.0()(64bit) for package: httpd
--&gt; Processing Dependency: libapr-1.so.0()(64bit) for package: httpd
---&gt; Package mysql.x86_64 0:5.0.95-5.el5_9 set to be updated
--&gt; Processing Dependency: perl(DBI) for package: mysql
---&gt; Package osg-ca-certs.noarch 0:1.33-1.osg.el5 set to be updated
---&gt; Package osg-version.noarch 0:3.1.15-1.osg.el5 set to be updated
---&gt; Package python-daemon.noarch 0:1.5.2-3.el5 set to be updated
--&gt; Processing Dependency: python-lockfile for package: python-daemon
---&gt; Package python-ldap.x86_64 0:2.2.0-2.1 set to be updated
---&gt; Package stomppy.noarch 0:3.0.3-1.el5.1 set to be updated
--&gt; Processing Dependency: python-ssl for package: stomppy
--&gt; Running transaction check
---&gt; Package apr.x86_64 0:1.2.7-11.el5_6.5 set to be updated
---&gt; Package apr-util.x86_64 0:1.2.7-11.el5_5.2 set to be updated
--&gt; Processing Dependency: libpq.so.4()(64bit) for package: apr-util
---&gt; Package perl-DBI.x86_64 0:1.52-2.el5 set to be updated
---&gt; Package python-lockfile.noarch 0:0.8-3.el5 set to be updated
---&gt; Package python-ssl.x86_64 0:1.15-3.el5 set to be updated
--&gt; Running transaction check
---&gt; Package postgresql-libs.x86_64 0:8.1.23-6.el5_8 set to be updated
--&gt; Finished Dependency Resolution
Beginning Kernel Module Plugin
Finished Kernel Module Plugin

Dependencies Resolved

================================================================================
 Package          Arch    Version             Repository                   Size
================================================================================
Installing:
 gratia-apel      noarch  0.10-1              /gratia-apel-0.10-1.noarch   28 M
Installing for dependencies:
 apr              x86_64  1.2.7-11.el5_6.5    sl-base                     119 k
 apr-util         x86_64  1.2.7-11.el5_5.2    sl-base                      79 k
 fetch-crl3       noarch  3.0.7-1.el5         epel                         45 k
 httpd            x86_64  2.2.3-74.sl5        fermi-security              1.3 M
 mysql            x86_64  5.0.95-5.el5_9      fermi-security              4.9 M
 osg-ca-certs     noarch  1.33-1.osg.el5      osg                         290 k
 osg-version      noarch  3.1.15-1.osg.el5    osg                         3.8 k
 perl-DBI         x86_64  1.52-2.el5          sl-base                     605 k
 postgresql-libs  x86_64  8.1.23-6.el5_8      fermi-security              197 k
 python-daemon    noarch  1.5.2-3.el5         epel                         29 k
 python-ldap      x86_64  2.2.0-2.1           sl-base                     123 k
 python-lockfile  noarch  0.8-3.el5           epel                         18 k
 python-ssl       x86_64  1.15-3.el5          epel                         26 k
 stomppy          noarch  3.0.3-1.el5.1       epel                         38 k

Transaction Summary
================================================================================
Install      15 Package(s)
Upgrade       0 Package(s)

Total size: 35 M
Total download size: 7.7 M
Downloading Packages:
--------------------------------------------------------------------------------
Total                                           7.2 MB/s | 7.7 MB     00:01
Running rpm_check_debug
Running Transaction Test
Finished Transaction Test
Transaction Test Succeeded
Running Transaction
Installing     : apr                                                     1/15 
Installing     : python-ldap                                             2/15 
Installing     : python-ssl                                              3/15 
Installing     : postgresql-libs                                         4/15 
Installing     : apr-util                                                5/15 
Installing     : httpd                                                   6/15 
Installing     : perl-DBI                                                7/15 
Installing     : mysql                                                   8/15 
Installing     : stomppy                                                 9/15 
Installing     : python-lockfile                                        10/15 
Installing     : python-daemon                                          11/15 
Installing     : osg-ca-certs                                           12/15 
Installing     : fetch-crl3                                             13/15 
Installing     : osg-version                                            14/15... in pre
Installing     : gratia-apel                                            15/15 

Installed:
  gratia-apel.noarch 0:0.10-1                                                   

Dependency Installed:
  apr.x86_64 0:1.2.7-11.el5_6.5            apr-util.x86_64 0:1.2.7-11.el5_5.2
  fetch-crl3.noarch 0:3.0.7-1.el5          httpd.x86_64 0:2.2.3-74.sl5
  mysql.x86_64 0:5.0.95-5.el5_9            osg-ca-certs.noarch 0:1.33-1.osg.el5
  osg-version.noarch 0:3.1.15-1.osg.el5    perl-DBI.x86_64 0:1.52-2.el5
  postgresql-libs.x86_64 0:8.1.23-6.el5_8  python-daemon.noarch 0:1.5.2-3.el5
  python-ldap.x86_64 0:2.2.0-2.1           python-lockfile.noarch 0:0.8-3.el5
  python-ssl.x86_64 0:1.15-3.el5           stomppy.noarch 0:3.0.3-1.el5.1

Complete!
&lt;/pre&gt; %ENDTWISTY%

---+ Configure

---++ Configure SSM using test broker
When the SSM software is initially installed, the default configuration is set to talk to the SSM
test broker/services and SSM needs to be run once to create some directories.

You will need the service certificate you previously installed and will need to modify the SSM config files
for that service certificate:

__/etc/gratia-apel/ssm/ssm.cfg__
&lt;pre class=&quot;file&quot;&gt;
   :
################################################################################
# Required: Certificate configuration
[certificates]
#certificate: /etc/grid-security/hostcert-ssm.pem
#key: /etc/grid-security/hostkey-ssm.pem
certificate: %RED%your_service_cert_file%ENDCOLOR%
key: /etc/grid-security/%RED%your_service_cert_file%ENDCOLOR%
cadir: /etc/grid-security/certificates
check-crls: false
   :
&lt;/pre&gt;

SSM needs to be run once before attempting to send anything. 
This invocation will create the __/var/lib/gratia-apel/messages__ sub-directories for SSM.
It is basically just a &quot;ping&quot; to the broker to verify basic communication.  Nothing is sent.
&lt;pre class=&quot;rootscreen&quot;&gt;
%UCL_PROMPT_ROOT% /usr/share/gratia-apel/ssm/ssm_master.py /etc/gratia-apel/ssm/ssm.cfg
&lt;/pre&gt;
__/var/log/gratia-apel/ssm.log__ output on success:%BR%
%TWISTY{%TWISTY_OPTS_DETAILED%}%   &lt;pre class=&quot;file&quot;&gt;
2013-04-09 10:15:34,696 - SSM - INFO - Starting the SSM...
2013-04-09 10:15:34,713 - SSM - INFO - Running the SSM once only.
2013-04-09 10:15:34,714 - SSM - INFO - BDII URL: ldap://lcg-bdii.cern.ch:2170
2013-04-09 10:15:34,714 - SSM - INFO - BDII broker network: TEST-NWOB
2013-04-09 10:15:35,960 - SSM - DEBUG - Found broker in BDII: test-msg02.afroditi.hellasgrid.gr:6163
2013-04-09 10:15:36,124 - stomp.py - INFO - Established connection to host test-msg02.afroditi.hellasgrid.gr, port 6163
2013-04-09 10:15:36,124 - SSM - INFO - Connecting: (&#39;test-msg02.afroditi.hellasgrid.gr&#39;, 6163)
2013-04-09 10:15:36,126 - SSM - INFO - The SSM will not run as a consumer.
2013-04-09 10:15:36,126 - SSM - INFO - The SSM will run as a producer.
2013-04-09 10:15:36,126 - SSM - DEBUG - I will be a producer, my ack queue is: /topic/global.accounting.cpu.client.fermicloud139.fnal.gov.2315
2013-04-09 10:15:36,296 - SSM - INFO - Connected
2013-04-09 10:15:36,325 - SSM - INFO - The SSM started successfully.
2013-04-09 10:15:36,326 - SSM - DEBUG - Pinging
2013-04-09 10:15:36,326 - SSM - DEBUG - Sending ping
2013-04-09 10:15:36,326 - SSM - INFO - All outgoing messages have been processed.
2013-04-09 10:15:36,326 - SSM - INFO - SSM connection ended.
2013-04-09 10:15:36,326 - SSM - INFO - The SSM has shut down.
&lt;/pre&gt; %ENDTWISTY%

The necessary SSM directories will have now been created in __/var/lib/gratia-apel/messages__:
&lt;pre class=&quot;rootscreen&quot;&gt;
drwxr-xr-x 2 root root 4096 Mar  6 10:35 accept
drwxr-xr-x 2 root root 4096 Mar  6 10:35 ack
drwxr-xr-x 2 root root 4096 Mar  6 10:35 incoming
%BLUE%drwxr-xr-x 2 root root 4096 Mar  6 10:35 outgoing%ENDCOLOR%
drwxr-xr-x 2 root root 4096 Mar  6 10:35 reject
&lt;/pre&gt;
The __./outgoing__ directory is the only one used by this interface.

---++ Configure httpd
The interface software creates a set of __.html__ and __.dat__ available via the __httpd__ service on your node.
This allow you to view the data collected and sent to APEL/EGI more easily.  
The %WLCG_REPORTING% view of the interfaced accounting data uses these __.dat__ files for it&#39;s display.
The default port for httpd is 80.  If this port is not accessible from outside your node, it will have to be changed.

__/etc/httpd/conf/httpd.conf__
&lt;pre class=&quot;file&quot;&gt;
Listen = %RED%80%ENDCOLOR%
&lt;/pre&gt;

During the RPM installation, the files used for the %WLCG_REPORTING% view were installed in __/var/lib/gratia-apel/webapps__.
This is basically the history of the data sent to APEL/EGI by this interface.  Each time the interface is run, it creates a file of the latest
updates in this directory.  

During the RPM installation, a link was created from __/var/www/html/gratia-apel__ to __/var/lib/gratia-apel/webapps__ for these updates.  You should verify the permissions on the destination directory are 755 only.
&lt;pre class=&quot;rootscreen&quot;&gt;
%UCL_PROMPT_ROOT%  ls -l /var/www/html/gratia-apel
lrwxrwxrwx 1 root root 28 Apr 14 11:38 /var/www/html/gratia-apel -&gt; /var/lib/gratia-apel/webapps

%UCL_PROMPT_ROOT%  ls -ld /var/lib/gratia-apel/webapps
drwxr-xr-x 2 root root 36864 Jun  4 12:04 /var/lib/gratia-apel/webapps
&lt;/pre&gt;

There is a script that runs in the cron entry called __create_apel_index.sh__ that creates the __index.html__ file
for the most recent entries.  This must be run:
&lt;pre class=&quot;rootscreen&quot;&gt;
%UCL_PROMPT_ROOT%  /usr/share/gratia-apel/create_apel_index.sh /etc/gratia-apel/lcg.conf
&lt;/pre&gt;

---++ Configure Gratia-APEL for Gratia access
The only configuration for the gratia-apel configuration is for read access to the OSG Gratia database.
This should be __read-only__ access.

__/etc/gratia-apel/lcg-db.conf__
&lt;pre class=&quot;file&quot;&gt;
GratiaUser     %RED%gratia_user_id%ENDCOLOR%
GratiaPswd    %RED%gratia_user_password%ENDCOLOR%
&lt;/pre&gt;
__Note:__  The Gratia database accessed is generally always production even when doing any testing.
The load is not that significant as is is read only and uses a very simple query on a small subset of the
data (the summary tables).  

---++ Test against the APEL-SSM test brokers
As mentioned earlier, the initial installation of the SSM interface defaults to a test
broker.  So, it is best to make an initial run against that environment.
Cut/paste the cron entry in __/etc/cron.d/gratia-apel-cron__ for the current month
to the command line and executed it:
&lt;pre class=&quot;rootscreen&quot;&gt;
%UCL_PROMPT_ROOT%  [ ! -f /var/lock/subsys/gratia-apel-cron ] || (cd /usr/share/gratia-apel ; \
                    ./lcg.sh --config=/etc/gratia-apel/lcg.conf --date=current --update \
                     &amp;&amp; ./create-apel-index.sh /etc/gratia-apel/lcg.conf) 
&lt;/pre&gt;

---+ Configuring for access to production APEL
When you are satisfied, with the installation in the test environment, you will need to modify the APEL SSM __ssm.cfg__
file to connect to the production APEL brokers.

__Test APEL__
&lt;pre class=&quot;rootscreen&quot;&gt;
[broker]
broker-network: TEST-NWOB
[producer]
consumer-dn: /C=UK/O=eScience/OU=CLRC/L=RAL/CN=raptest.esc.rl.ac.uk 
&lt;/pre&gt;
__Production APEL__
&lt;pre class=&quot;rootscreen&quot;&gt;
[broker]
broker-network: PROD
[producer]
consumer-dn: /C=UK/O=eScience/OU=CLRC/L=RAL/CN=rap.esc.rl.ac.uk
&lt;/pre&gt;

---+ Services
The following sections describe how to start/stop the required services and how to 
enable/disable them when your system is powered on.
---++ Starting and Enabling Services
%STARTSECTION{&quot;StartGratiaApelServices&quot;}%
To start/enable the Gratia-APEL interface:
   1. %INCLUDE{&quot;InstallCertAuth&quot; section=&quot;OSGBriefFetchCrlStart&quot;}%
   1. __httpd__  service:&lt;pre class=&quot;rootscreen&quot;&gt;
%UCL_PROMPT_ROOT% /sbin/service httpd start
%UCL_PROMPT_ROOT% /sbin/chkconfig httpd on
&lt;/pre&gt;
   1. __gratia_apel_cron__ service&lt;pre class=&quot;rootscreen&quot;&gt;
%UCL_PROMPT_ROOT% /sbin/service gratia-apel-cron start 
%UCL_PROMPT_ROOT% /sbin/chkconfig gratia-apel-cron on
&lt;/pre&gt;
%ENDSECTION{&quot;StartGratiaApelServices&quot;}%

---++ Stopping and Disabling Services
%STARTSECTION{&quot;StopGratiaApelServices&quot;}%
To stop/disable the Gratia-APEL interface:
   1. %INCLUDE{&quot;InstallCertAuth&quot; section=&quot;OSGBriefFetchCrlStop&quot;}%
   1. __httpd__  service:&lt;pre class=&quot;rootscreen&quot;&gt;
%UCL_PROMPT_ROOT% /sbin/service httpd stop
%UCL_PROMPT_ROOT% /sbin/chkconfig httpd off
&lt;/pre&gt;
   1. __gratia_apel_cron__ service&lt;pre class=&quot;rootscreen&quot;&gt;
%UCL_PROMPT_ROOT% /sbin/service gratia-apel-cron stop
%UCL_PROMPT_ROOT% /sbin/chkconfig gratia-apel-cron off
&lt;/pre&gt;
%ENDSECTION{&quot;StopGratiaServices&quot;}%






---+ Troubleshooting
---++ Configuration Files

&lt;pre class=&quot;rootscreen&quot;&gt;
%BLUE%&lt;u&gt;&lt;b&gt;/etc/gratia-apel&lt;/u&gt;&lt;/b&gt;%ENDCOLOR%
-rw-rw-r-- 1 root root  588 Mar  6 10:35 lcg-db.conf
-rw-rw-r-- 1 root root 5205 Mar  6 10:27 lcg-reportableSites
drwxr-xr-x 2 root root 4096 Mar  6 10:35 lcg-reportableSites.history
-rw-rw-r-- 1 root root   30 Mar  6 10:27 lcg-reportableVOs
-rw-rw-r-- 1 root root 3033 Mar 19 08:43 lcg.conf
drwxr-xr-x 2 root root 4096 Apr  4 09:17 ssm
 
%BLUE%&lt;u&gt;&lt;b&gt;/etc/gratia-apel/lcg-reportableSites.history&lt;/u&gt;&lt;/b&gt;%ENDCOLOR%
-rw-rw-r-- 1 root root 12315 Mar  6 10:27 lcg-reportableSites.200901
     : (one for each month)
-rw-rw-r-- 1 root root  5205 Mar  6 10:27 lcg-reportableSites.201402
-rw-rw-r-- 1 root root  5205 Mar  6 10:27 lcg-reportableSites.201403

%BLUE%&lt;b&gt;&lt;u&gt;/etc/gratia-apel/ssm&lt;/u&gt;&lt;/b&gt;%ENDCOLOR%
-rw-r--r-- 1 root root 4211 Jun 28  2012 README
-rw-r--r-- 1 root root 3804 Mar 25 11:53 ssm.cfg
-rw-r--r-- 1 root root  648 Mar  6 10:27 ssm.log.cfg
-rw-r--r-- 1 root root  256 May  2  2012 ssm.logrotate
&lt;/pre&gt;

&lt;pre class=&quot;rootscreen&quot;&gt;
%BLUE%&lt;u&gt;&lt;b&gt;/etc/httpd/conf&lt;/u&gt;&lt;/b&gt;%ENDCOLOR%
-rw-r--r-- 1 root root 33740 Mar  6 10:35 httpd.conf
&lt;/pre&gt;

---++Log Files
&lt;pre class=&quot;rootscreen&quot;&gt;
%BLUE%&lt;u&gt;&lt;b&gt;/var/log/gratia-apel&lt;/u&gt;&lt;/b&gt;%ENDCOLOR%
-rw-rw-r-- 1 root root  58123 Feb 07 08:53 2013-01.log
  : (one per month)
-rw-rw-r-- 1 root root  58123 Mar 07 08:53 2014-02.log
-rw-rw-r-- 1 root root 170289 Mar 26 12:07 2014-03.log
-rw-r--r-- 1 root root  82936 Mar 26 12:01 ssm.log
&lt;/pre&gt;

The httpd logs are useful if the %WLCG_REPORTING% system has access issues.
&lt;pre class=&quot;rootscreen&quot;&gt;
%BLUE%&lt;u&gt;&lt;b&gt;/var/log/httpd&lt;/u&gt;&lt;/b&gt;%ENDCOLOR%
-rw-r--r-- 1 root root    0 Mar 30 04:02 access_log
-rw-r--r-- 1 root root  250 Mar 30 04:02 error_log
&lt;/pre&gt;


---+ How to get Help?
To get assistance, please use [[HelpProcedure][Help Procedure]].

---+ References
Gratia Documents
   * [[Accounting/WebHome][Accounting Web/The Gratia project]]
   * [[Accounting/GratiaInterfacesApelLcg][Gratia Interfaces- APEL/WLCG]]
   * [[Accounting/ApelWlcgDevelopersCorner][APEL/WLCG Developers Corner twiki]].

APEL Documents
   * [[https://wiki.egi.eu/wiki/APEL/SSM][APEL SSM]]
   * [[https://wiki.egi.eu/wiki/APEL/Server][APEL/Servier]]


---+ Comments
%COMMENT{type=&quot;tableappend&quot;}%


%STOPINCLUDE%

&lt;!-- MAJOR UPDATES
For significant updates to the topic, consider adding your &#39;signature&#39; (beneath this editing box) !--&gt;
---++!! Major updates
&lt;!--Future editors should add their signatures beneath yours!--&gt;
-- Main.JohnWeigand - 08 Apr 2013

</textarea> <div class="patternSigLine"><span class="twikiRight twikiMakeVisible" style="text-align:left;"><span class="twikiLeft patternTextareaButton patternButtonFontSelector" title="Switch to monotype or propotional font">&nbsp;</span><span class="twikiLeft patternTextareaButton patternButtonEnlarge" title="Enlarge edit box">&nbsp;</span><span class="twikiLeft patternTextareaButton patternButtonShrink" title="Shrink edit box">&nbsp;</span></span><br class="twikiClear" /></div><!-- /patternSigLine--></div><!-- /patternTopic-->
<div class="twikiContentFooter"></div></div><!-- /patternContent-->
<a name="topic-actions"></a><div class="twikinetRounded twikinetRoundedTopicActions"><div class="rCRounded"><div class="rCTR"><div class="rCTL"></div><!--/rCTL--><div class="patternTopicActions"><div class="patternTopicAction"><span class="patternActionButtons"><span class="patternButton"><a href='https://twiki.opensciencegrid.org/bin/edit/Accounting/InstallGratiaApelInterface?t=1487267604;nowysiwyg=1' rel='nofollow' title='Edit this topic text' accesskey='e'><span class='twikiAccessKey'>E</span>dit</a></span><span class='twikiSeparator'>&nbsp;|&nbsp;</span><span class='patternButton'><a href='/bin/attach/Accounting/InstallGratiaApelInterface' rel='nofollow' title='Attach an image or document to this topic' accesskey='a'><span class='twikiAccessKey'>A</span>ttach</a></span><span class='twikiSeparator'>&nbsp;|&nbsp;</span><span class='patternButton'><a href='/bin/view/Accounting/InstallGratiaApelInterface?cover=print;raw=on' rel='nofollow' title='Printable version of this topic' accesskey='p'><span class='twikiAccessKey'>P</span>rint version</a></span><span class='twikiSeparator'>&nbsp;|&nbsp;</span><span><span><a href='/bin/rdiff/Accounting/InstallGratiaApelInterface?type=history' rel='nofollow' title='View total topic history' accesskey='h'><span class='twikiAccessKey'>H</span>istory</a></span>: r5&nbsp;<a rel="nofollow" href="/bin/rdiff/Accounting/InstallGratiaApelInterface?rev1=5;rev2=4">&lt;</a>&nbsp;<a rel="nofollow" href="/bin/view/Accounting/InstallGratiaApelInterface?rev=4">r4</a>&nbsp;<a rel="nofollow" href="/bin/rdiff/Accounting/InstallGratiaApelInterface?rev1=4;rev2=3">&lt;</a>&nbsp;<a rel="nofollow" href="/bin/view/Accounting/InstallGratiaApelInterface?rev=3">r3</a>&nbsp;<a rel="nofollow" href="/bin/rdiff/Accounting/InstallGratiaApelInterface?rev1=3;rev2=2">&lt;</a>&nbsp;<a rel="nofollow" href="/bin/view/Accounting/InstallGratiaApelInterface?rev=2">r2</a>&nbsp;<a rel="nofollow" href="/bin/rdiff/Accounting/InstallGratiaApelInterface?rev1=2;rev2=1">&lt;</a>&nbsp;<a rel="nofollow" href="/bin/view/Accounting/InstallGratiaApelInterface?rev=1">r1</a></span><span class='twikiSeparator'>&nbsp;|&nbsp;</span><span><a href='/bin/oops/Accounting/InstallGratiaApelInterface?template=backlinksweb' rel='nofollow' title='Search the Accounting Web for topics that link to here' accesskey='b'><span class='twikiAccessKey'>B</span>acklinks</a></span><span class='twikiSeparator'>&nbsp;|&nbsp;</span><span><a href='https://twiki.opensciencegrid.org/bin/view/Accounting/InstallGratiaApelInterface' rel='nofollow' title='View topic' accesskey='v'><span class='twikiAccessKey'>V</span>iew topic</a></span><span class='twikiSeparator'>&nbsp;|&nbsp;</span><span><a href='/bin/oops/Accounting/InstallGratiaApelInterface?template=oopsmore&amp;param1=5&amp;param2=5' rel='nofollow' title='Delete or rename this topic; set parent topic; view and compare revisions' accesskey='m'><span class='twikiAccessKey'>M</span>ore topic actions</a></span></span></div><!--/patternTopicAction--></div><!--/patternTopicActions--></div><!--/rCTR--><div class="rCBR"><div class="rCBL"></div><!--/rCBL--></div><!--/rCBR--></div><!--/rCRounded--></div><!--/twikinetRounded--><div class="patternInfo twikiGrayText"><div class="patternRevInfo">Topic revision: r5 - 07 Feb 2017 - 19:34:16 - <a href="/bin/view/Main/BrianBockelman" class="twikiLink">BrianBockelman</a></div><!-- /patternRevInfo--></div><!-- /patternInfo-->
</div><!-- /patternMainContents-->
</div><!-- /patternMain--><div id="patternLeftBar"><div id="patternClearHeaderLeft"></div>
<div id="patternLeftBarContents">
<head>
	<style type="text/css" media="all">
	
		.float-left {
			float:	left;
		}

		.float-right {
			float:	right;
		}

		.rounded {
      		border-radius:	 		8px;
			-moz-border-radius: 	8px;
			-webkit-border-radius:	8px;		
		}
		
		.rounded-top {
      		border-radius:	 		8px 8px 0px 0px;
			-moz-border-radius: 	8px 8px 0px 0px;
			-webkit-border-radius:	8px 8px 0px 0px;		
		}
		
		.bordered {
			border:	1px solid #AAAAAA;
		}

		.bordered-bottom {
			border-bottom:	1px solid #AAAAAA;
		}

		.high-contrast {
			color:		#FF6600;
			background: #000060;		
		}

                .low-contrast {
			color:		#FF6600;
			background: #ADD8E6;		
		}

	
		.container {
display: inline-block;
			margin:		0;
			padding:	0;
		}
		
		.box {
			display:				block;
			margin:			 0;
			padding:		0;
		}

                #head-block {
                        color:               #FF6600;	
                        background:    #333380;
                }
							
		#menu {
			font-family:	"Lucida Grande", sans-serif;
			font-size:		small;
			margin:		0px 0px 10px 0px;
			padding:	0px 0px 0.3em 0px;
			background: #EAEDF2;
		}
							
		#menul {
			font-family:	"Lucida Grande", sans-serif;
			font-size:		small;
			margin:		0px 0px 10px 0px;
			padding:	0px 0px 0.3em 0px;
			background: #F4F6F9

		}		
		#head {
			margin:		0px;
			padding:	0.2em 5px 0.2em 10px;
			font-size:	normal;
			font-weight:	bold;
			color:			#FF6600;	
		}
		
		#head a {
			text-decoration:	none;
			color:			#FF6600;	
		}

		#head a:hover {
			background: 		#EAEDF2;
			text-decoration:	none;
			color:			#FFBB00;	
		}

		#head a:visited {
			text-decoration:	none;
			color:			#FF6600;	
		}

		#head a:active {
			text-decoration:	none;
			color:			#FF6600;	
		}

		#head a:link {
			text-decoration:	none;
			color:			#FF6600;	
		}

                #iteml {
			padding:	0.1em 5px 0.0em 10px;
                }

		#iteml a {
			background: 		#F4F6F9
			text-decoration:	none;
			color:			#000044;			
		}

		#iteml a:hover {
			background: 		#F4F6F9
			text-decoration:	none;
			color:			#FF6600;			
		}
		#item {
			padding: 0.1em 5px 0.0em 10px;
		}
		
		#item a {
			background: 		#EAEDF2;
			text-decoration:	none;
			color:			#000044;			
		}

		#item a:hover {
			background: 		#EAEDF2;	
			text-decoration:	none;
			color:			#FF6600;			
		}
</style>
</head>
Hello, <a href="/bin/view/Main/TWikiGuest" class="twikiLink">TWikiGuest</a>
<a href="https://twiki.grid.iu.edu/bin/view/TWiki/TWikiRegistration" target="_top"><br/>Register</a>
<p />
<p />
<!-- Google CSE Search Box Ends
<h5><a name="Common_links"></a> Common links </h5> <ul>
<li> <a href="/bin/view/Main/WebHome" class="twikiLink">OSG TWiki home</a>
</li> <li> <a href="/bin/view/Documentation/Release3/WebHome" class="twikiLink">RPM Install guides - OSG 3.0</a>
</li> <li> <a href="/bin/view/ReleaseDocumentation/WebHome" class="twikiLink">Pacman Install guides OSG 1.2</a>
</li> <li> <a href="/bin/view/Documentation/WebHome" class="twikiLink">Technical Documentation</a>
</li> <li> <a href="/bin/view/Documentation/SiteAdminResources" class="twikiLink">Contact Info</a> 
</li> <li> <strong><a href="/bin/view/Main/ICantFindItForm" class="twikiLink">I can't find it!</a></strong>  -->
</li></ul> 
<div class="container">
<div class="box rounded bordered" id="menu">
    <div class="box rounded-top high-contrast" id="head"><a href="/bin/view/Accounting/WebHome" class="twikiCurrentWebHomeLink twikiLink">Accounting</a></div>
    <div id="item"><a href="/bin/view/Accounting/WebHome#Goals" class="twikiCurrentWebHomeLink twikiAnchorLink">Goals</a></div>
    <div id="item"><a href="/bin/view/Accounting/MeetingMinutes" class="twikiLink">Meetings</a></div>
    <div id="item"><a href="http://gratia-osg-prod.opensciencegrid.org/" target="_top">Production Reports</a></div>
    <div id="item"><a href="/bin/view/Accounting/WebHome#Contact_information_and_mailing" class="twikiCurrentWebHomeLink twikiAnchorLink">Contacts</a></div>
</div>
<p />
    <div class="box rounded bordered" id="menu">
        <div class="box rounded-top high-contrast" id="head"><a  style="" href="/bin/view/Main/WebHome" class="twikiLink" title="Home">About the OSG</a></div>
        <div id="item"><a  style="" href="/bin/view/Documentation/UsingTheGrid" class="twikiLink" title="Instructions for Using OSG">New Users</a></div>
        <div id="item"><a href="http://myosg.grid.iu.edu/map?map_attrs_shownr=on&amp;all_sites=on&amp;active=on&amp;active_value=1&amp;disable_value=1&amp;gridtype=on&amp;gridtype_1=on" target="_top">OSG Sites</a></div>
        <div id="item"><a  style="" href="http://myosg.grid.iu.edu/vosummary?all_vos=on&amp;active=on&amp;active_value=1&amp;datasource=summary" target="_top" title="List of Virtual Organizations">OSG VOs</a></div>
        <div id="item"><a href="http://display.grid.iu.edu/" target="_top">OSG Usage Graphs</a></div>
        <div id="item"><a  style="" href="https://indico.fnal.gov/categoryDisplay.py?categId=86" target="_top" title="OSG Event Calendar">Events</a></div>
       <div id="item"><a href="/bin/view/Management/OSGOrganizationInformation" class="twikiLink">OSG Organization</a></div>
<p />
    </div>
<p />
<p />
    <div class="box rounded bordered" id="menu">
        <div class="box rounded-top high-contrast" id="head">OSG at Work</div>
        <div id="item"><a  style="" href="/bin/view/Documentation/WebHome" class="twikiLink" title="Official Documentation Home">Technical Documentation</a></div>
        <div id="item"><a href="/bin/view/Security/WebHome" class="twikiLink">Security</a></div>
        <div id="item"><a href="/bin/view/SoftwareTeam/WebHome" class="twikiLink">Software Team</a></div>
        <div id="item"><a href="/bin/view/Education/WebHome" class="twikiLink">Education</a></div>
        <div id="item"><a href="/bin/view/Management/WebHome" class="twikiLink">Management</a></div>
        <div id="item"><a  style="" href="/bin/view/Management/ScientificPublications" class="twikiLink" title="Scientific Publications and Citing OSG">Scientific Publications</a></div>
        <div id="item"><a href="/bin/view/Management/OSGResearchHighlights" class="twikiLink">Research Highlights</a></div>
    </div>
<p />
<p />
		<div class="box rounded bordered" id="menu">
			<div class="box rounded-top high-contrast" id="head"><a  style="" href="/bin/view/Main/WebHome" class="twikiLink" title="TWiki Main Web">Documentation Links</a></div>
			<div id="item"><a  style="" href="/bin/view/Documentation/Release3/NavContributeDocumentation" class="twikiLink" title="OSG Documentation System Information">How To Write Documents</a></div>
			<div id="item"><a  style="" href="/bin/view/Documentation/DocFormattingRules" class="twikiLink" title="Formatting OSG Documents">Formatting Documents</a></div>
                        <div id="item"><a  style="" href="/bin/view/Accounting/WebTopicCreator" class="twikiLink" title="Create a New TWiki Page"> <img width="16" alt="newtopic" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/newtopic.gif" height="16" border="0" /> Create New Topic</a></div>
                        <div id="item"><a  style="" href="/bin/view/Main/WebList" class="twikiLink" title="List of Webs"> <img width="16" alt="index" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/index.gif" height="16" border="0" /> List of Webs</a></div>
                        <div id="item"><a  style="" href="/bin/view/Accounting/WebIndex" class="twikiLink" title="Index of Topics"> <img width="16" alt="index" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/index.gif" height="16" border="0" /> Topic Index</a></div>
                        <div id="item"><a href="/bin/view/Documentation/WebTopicList" class="twikiLink"> <img width="16" alt="index" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/index.gif" height="16" border="0" /> Topic List</a></div>
                        <div id="item"><a  style="" href="/bin/view/Accounting/WebChanges" class="twikiLink" title="List of Pages that have Changed by Change Date"> <img width="16" alt="changes" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/changes.gif" height="16" border="0" /> Changes</a></div>
                        <div id="item"><a  style="" href="/bin/view/Main/TWikiUsers" class="twikiLink" title="Alphabetized List of TWiki Users"> <img width="16" alt="person" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/person.gif" height="16" border="0" /> TWiki Users</a></div>
		</div>
<p />
</div>
</div><!-- /patternLeftBarContents--></div><!-- /patternLeftBar-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--></div><!-- /patternWrapper--><div id="patternTopBar"><div id="twikinetLogo"><a href="http://www.twiki.net/"><span>TWIKI.NET</span></a></div><div id="patternTopBarContents"><div class="twikiLeft"><span id="twikiLogo" class="twikiImage"><a href="http://www.opensciencegrid.org    "><img src="/twiki/pub/Main/WebHome/osg-logo.png    " border="0" alt="OpenScience Grid Website    " style="border:none;" /></a></span></div>
<div class="twikiRight">
<table cellpadding="0" cellspacing="0" border="0"><tr><td class="twikinetSearchJump twikinetSearchJumpLeft">
 <ul>
<li> <form name="jumpForm" action="/bin/view/Accounting/InstallGratiaApelInterface"><input id="jumpFormField" type="text" class="twikiInputField" name="topic" value="" size="16" /><input type="submit" class="twikinetJumpButton" name="submit" value="" /></form>
</li> <li> <form name="quickSearchForm" action="/bin/view/Accounting/WebSearch"><input type="text" class="twikiInputField" id="quickSearchBox" name="search" value="" size="18" /><input type="hidden" name="scope" value="all" /><input type="hidden" name="web" value="Accounting" /><input type="submit" size="5" class="twikinetSearchButton" name="submit" value="" /></form>
</li> <li> </li></ul> 
</td>
<td class="twikinetSearchJumpRight"></td>
</tr></table><br class="twikiClear" /></div></div></div><!-- /patternTopBar--><div id="twikinetTopToolBar"><div id="twikinetTopToolBarContents"><div class="twikinetWebName twikiLeft">
<table cellpadding="0" cellspacing="0" border="0"><tr><td style="vertical-align:middle;">
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Accounting"></a>  <a href="/bin/view/Accounting/WebHome" class="twikiCurrentWebHomeLink twikiLink">Accounting</a> </span></h2>
</td></tr></table>
</div><!--/twikinetWebName-->
<div class="twikinetToolBar twikiRight">
<table cellpadding="0" cellspacing="0" border="0"><tr><td><a href="https://twiki.opensciencegrid.org/bin/edit/Accounting/InstallGratiaApelInterface?t=1487267604;nowysiwyg=1" rel="nofollow">
<span class="rCRounded"><span class="rCTR"><span class="rCTL"></span><!--/rCTL-->
<span class="twikiLinkLabel twikinetEditIcon"><span class='twikiAccessKey'>E</span>dit</span>
</span><!--/rCTR--><span class="rCBR"><span class="rCBL"></span></span><!--/rCBR--></span><!--/rCRounded-->
</a></td><td><a href="/bin/attach/Accounting/InstallGratiaApelInterface" rel="nofollow">
<span class="rCRounded"><span class="rCTR"><span class="rCTL"></span><!--/rCTL-->
<span class="twikiLinkLabel"><span class='twikiAccessKey'>A</span>ttach</span>
</span><!--/rCTR--><span class="rCBR"><span class="rCBL"></span></span><!--/rCBR--></span><!--/rCRounded-->
</a></td><td><a href="/bin/genpdf/Accounting/InstallGratiaApelInterface?pdftitle=InstallGratiaApelInterface" rel="nofollow">
<span class="rCRounded"><span class="rCTR"><span class="rCTL"></span><!--/rCTL-->
<span class="twikiLinkLabel">PDF</span>
</span><!--/rCTR--><span class="rCBR"><span class="rCBL"></span></span><!--/rCBR--></span><!--/rCRounded-->
</a></td></tr></table>
<br class="twikiClear" /></div><!--/patternToolBar--></div><!--/twikinetTopToolBarContents--></div><!--/twikinetTopToolBar--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>