<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> Minutes2008Mar19 &lt; Accounting &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Accounting/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Accounting/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Accounting/Minutes2008Mar19?_T=16 Feb 2017" type="application/x-wiki" title="edit Minutes2008Mar19" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Accounting/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Accounting/Minutes2008Mar19"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#D0D0D0;
	}
	.patternBookView {
		border-color:#D0D0D0;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Minutes2008Mar19"></a> Minutes2008Mar19 </h1>
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Introduction">Introduction</a>
</li> <li> <a href="?cover=print#Attending">Attending</a>
</li> <li> <a href="?cover=print#Apologies">Apologies</a>
</li> <li> <a href="?cover=print#Action_items_from_previous_meeti">Action items from previous meeting:</a>
</li> <li> <a href="?cover=print#DB_and_Schema_issues">DB and Schema issues</a>
</li> <li> <a href="?cover=print#OSG_Issues">OSG Issues</a>
</li> <li> <a href="?cover=print#Collector">Collector</a>
</li> <li> <a href="?cover=print#Report_development">Report development</a>
</li> <li> <a href="?cover=print#Probes">Probes</a>
</li> <li> <a href="?cover=print#Test_Bed">Test Bed</a>
</li> <li> <a href="?cover=print#Any_Other_Business">Any Other Business</a> <ul>
<li> <a href="?cover=print#APEL_EGEE_from_John_W"> APEL/EGEE (from John W.)</a>
</li></ul> 
</li> <li> <a href="?cover=print#To_be_discussed_later">To be discussed later:</a>
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Introduction"></a> Introduction </span></h2>
<p />
Minutes of Gratia meeting <ul>
<li> Last meeting: <a href="/bin/view/Accounting/Minutes2008Mar12" class="twikiLink">March 12</a>
</li> <li> Previous meetings: <a href="/bin/view/Accounting/MeetingMinutes" class="twikiLink">MeetingMinutes</a>
</li> <li> Coordinates: Wednesday at 1:30pm CST/CDT, 1-510-665-5437 and use the meeting ID: 2966. 
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Attending"></a> Attending </span></h2>
<p /> <ul>
<li> <a href="/bin/view/Main/PenelopeConstanta" class="twikiLink">Penelope Constanta</a>.
</li> <li> <a href="/bin/view/Main/ChrisGreen" class="twikiLink">Chris Green</a>.
</li> <li> <a href="/bin/view/Main/StevenTimm" class="twikiLink">Steve Timm</a>.
</li> <li> <a href="/bin/view/Main/JohnWeigand" class="twikiLink">John Weigand</a>.
</li> <li> Diana Bonham.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Apologies"></a> Apologies </span></h2> <ul>
<li> <a href="/bin/view/Main/PhilippeCanal" class="twikiLink">Philippe Canal</a>.
</li></ul> 
<p />
<!-- <ul>
<li> <a href="mailto&#58;karunach&#64;nhn&#46;ou&#46;edu">Karthik Arunachalam</a>.
</li></ul> 
<p /> <ul>
<li> Diana Bonham.
</li> <li> <a href="/bin/view/Main/PhilippeCanal" class="twikiLink">Philippe Canal</a>.
</li> <li> <a href="/bin/view/Main/PenelopeConstanta" class="twikiLink">Penelope Constanta</a>.
</li> <li> <a href="/bin/view/Main/ChrisGreen" class="twikiLink">Chris Green</a>.
</li> <li> <span class="twikiNewLink">Jeff Mack<a href="/bin/edit/Main/JeffreyMack?topicparent=Accounting.Minutes2008Mar19" rel="nofollow" title="Jeff Mack (this topic does not yet exist; you can create it)">?</a></span>.
</li> <li> <a href="/bin/view/Main/StevenTimm" class="twikiLink">Steve Timm</a>.
</li> <li> John Urish.
</li> <li> Margherita Vittone.
</li> <li> <a href="/bin/view/Main/JohnWeigand" class="twikiLink">John Weigand</a>.
</li> <li> <a href="mailto&#58;karunach&#64;nhn&#46;ou&#46;edu">Karthik Arunachalam</a>.
</li></ul> 
<p />
-->
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Action_items_from_previous_meeti"></a> Action items from previous meeting: </span></h2>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="DB_and_Schema_issues"></a> DB and Schema issues </span></h2>
<p /> <ul>
<li> <code>fermi_osg</code>, <code>fermi_itb</code>, <code>gratia_osg_integration</code> and <code>gratia_lqcd</code> have been converted. <code>gratia</code> and <code>gratia_itb</code> will be converted using a <a href="https://twiki.grid.iu.edu/twiki/bin/view/Accounting/GratiaUpgradeProcedure" target="_top">procedure</a> designed to minimize downtime. <code>gratia_osg_daily</code> and <code>gratia_psacct</code> must first be upgraded to run a version of the collector that understands how to make the conversion.
</li></ul> 
<p /> <ul>
<li> Diagrams of <code>gratia</code> and <code>gratia_itb</code> procedure: <a href="https://twiki.grid.iu.edu/twiki/bin/view/Main/PlayTopic" target="_top">https://twiki.grid.iu.edu/twiki/bin/view/Main/PlayTopic</a>.
</li></ul> 
<p /> <ul>
<li> Backup / partition question. Active DB areas are <strong>not</strong> backed up to TIBS currently. Agreed on a downtime to move RAID10 partitions to RAID5 -- some small number of hours on gratia06. Could do this during the gratia schema conversion period where the production collector is pointing to gratia07, before the actual conversion takes place on gratia06. Steve is amenable.
</li></ul> 
<p /> <ul>
<li> ibdata files? Diana researched after the meeting: <blockquote>These are the tablespace files.  It appears one is static in size, and the other auto-extends.  Still looking to find out what happens if these files get deleted or otherwise become unusable.</blockquote>
</li></ul> 
<p /> <ul>
<li> binary logs rotation problem -- partition at 97% again. <ul>
<li> Chris researched after the meeting and fixed the problem by correcting mysql-bin.index, which mis-described reality due to the manual removal of some log files.
</li></ul> 
</li></ul> 
<p />
From John's report: <ul>
<li> updated twiki to clarify procedure <a href="https://twiki.grid.iu.edu/twiki/bin/view/Accounting/GratiaUpgradeProcedure" target="_top">https://twiki.grid.iu.edu/twiki/bin/view/Accounting/GratiaUpgradeProcedure</a>
</li> <li> conversion of gratia_itb was approx 5 hours
</li> <li> conversion of gratia was approx 26 hours
</li> <li> conversion to InnoDB requires approx 40% of the database size being converted for temp files (#sql*).  For the gratia is was around 35Gb
</li> <li> order of tables may be important.  Should be from bottom up: <ul>
<li> JobUsageRecord converted to INNODB in 5:33:4.43
</li> <li> JobUsageRecord_Meta converted to INNODB in 20:36:54.03
</li></ul> 
</li> <li> As the conversion progressed there was a lot of updating of the JobUsageRecord when it was the JobUsageRecord_Meta that was being converted. It did not make sense other than the foreign key on dbid that was causing the slowness.
</li> <li> to get around the space issue on the file system, I set up a mysql_test initd service and used the HUGE /test file system to do the conversion.
</li> <li> after conversion the gratia data file size was 95Gb where under MyISAM it was 75Gb.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="OSG_Issues"></a> OSG Issues </span></h2>
<p />
From John's report: <ul>
<li> merged in the changes for the static reports cron service that I had previously developed.
</li></ul> 
<p />
From Chris' report: <ul>
<li> Create branch for RSV collector test based on 0.32 and release to VDT for 1.9.0. Add ability (on branch) to disable RPM rebuild of dCache probes based on macros setting for Alain.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Collector"></a> Collector </span></h2>
<p />
From John's report: <ul>
<li> worked with John Urish on the script until he was pulled off to assist on SRM
</li> <li> finalized and tested the VOMS installation script for gratia users
</li></ul> 
<p />
From Penelope's report: <ol>
<li>  Almost finished the user interface for the administration pages. It requires login with a certificate and admin role to access the non-public pages. Status displaying is public.
</li> <li> Added code to all non-public java coded administration services so that if one accesses such a page with a direct link it will request to login before displaying the page. (Note: the <span class="twikiNewLink">SystemAdministration<a href="/bin/edit/Accounting/SystemAdministration?topicparent=Accounting.Minutes2008Mar19" rel="nofollow" title="SystemAdministration (this topic does not yet exist; you can create it)">?</a></span>.java has no code.... Need help with this)
</li> <li> All code is in CVS. It has been build with the latest Makefile and common util routines
</li> <li> Waiting for Margherita's new code to finish the interface (simply calling different routines or just recompiling the security handler)
</li></ol> 
<p />
From Chris' report: <ul>
<li> (from above) Create branch for RSV collector test based on 0.32 and release to VDT for 1.9.0
</li> <li> Continue working on code to update checksums using hibernate. Treading carefully due to hibernate session constraints when dealing with exceptions (transaction must always be rolled back and session closed upon exception).
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Report_development"></a> Report development </span></h2>
<p /> <ul>
<li> Jeff: OSG Daily reports now compliant with BIRT 2.2. Currently busy with budget reports.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Probes"></a> Probes </span></h2>
<p />
From Chris' report: <ul>
<li> Gained write access to dCache repository, which is now the primary place for edits to dCache probe code. Rationalized, reorganized and place cron, init and README files in the right place.
</li> <li> Packaged dCache probes and out for test. Some comments, integrated.
</li> <li> Installed VDT 1.9.0 client on gratia01 to check behavior of VOMS client tools. Preliminary tests show that there should be no trouble, but need to check that Gratia code doesn't pay too much heed to a non-zero exit value from voms-proxy-info.
</li> <li> Diagnosed and helped fix probe problems at TTU-ANTAUES and Nebraska.
</li> <li> Latest probes to Alain as part of (touched-up) 0.32-branch release for RSV.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Test_Bed"></a> Test Bed </span></h2>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Any_Other_Business"></a> Any Other Business </span></h2>
<p />
<h3><a name="APEL_EGEE_from_John_W"></a> APEL/EGEE (from John W.) </h3> <ul>
<li> added SWT1_CPB tier 2 site on 3/18 at request of Pat Mcguigan.
</li> <li> chased down the BNL_ATLAS_1 issue with a third of the jobs not being reported.  His reply: <blockquote>I run probes on local submit hosts, where users submit condor jobs directly w/o using proxy. Not all the local user accounts are in the reverse map file. I can force the probe to report VOName="usatlas" in the Gratia library, but there is no way to have Common Names reported, if Common name is just for informational, I guess we can live with it not having Common Name but do have VOName reported, is this assumption right? Resolution of this issue is beyond me.</blockquote> Brian Bockelman's reply is: <blockquote>I have been told very specifically in the past that, if the job doesn't get submitted through Globus, the job doesn't count as a grid job.  Are you trying to send these jobs to the central repository, or just to the local repository? I would object very heavily if these jobs were being put in the OSG repository.</blockquote> Final from Philippe: <blockquote>Until you get clarification on your 2nd point, I propose that we report all the BNL jobs as grid jobs (i.e. including the LOCAL) but do NOT report to WLCG the jobs that comes to use as having an 'Unknown' VO name.</blockquote>
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="To_be_discussed_later"></a> To be discussed later: </span></h2></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Accounting<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Accounting/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a> &gt; <a href="/bin/view/Accounting/MeetingMinutes" class="twikiLink">MeetingMinutes</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>Minutes2008Mar19</span> <br />    
Topic revision: r5 - 11 Dec 2008 - 18:51:44 - <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />