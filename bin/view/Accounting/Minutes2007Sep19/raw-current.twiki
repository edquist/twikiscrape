---+!!&lt;nop&gt;%TOPIC%
%TOC%

---++Introduction

Minutes of Gratia meeting
   * Last meeting: [[Minutes2007Sep12][September 12]]
   * Previous meetings: MeetingMinutes
   * Coordinates: Wednesday at 1:30pm CST/CDT, 1-510-665-5437 and use the meeting ID: 2966. 

---++Attending
   * Diana, Penelope, Chris, John W.
   * Apologies: Philippe.

---++Action items from previous meeting:

---++Gratia sysadmin and operations tasks

   * Steve: John, we should talk about increasing the memory use of your Xen instances on =gratia03= to take advantage of the new memory.
      * John: I&#39;d actually prefer a new Xen instance.
      * Steve: OK. I also need to reboot =gratia03= soon.

---++DB and Schema issues

   * Diana: Igor M. (new department head) has asked for a schema review. Where is the ERD and is it current?
      * John &amp; Chris: on the main TWiki page; it may not have the handshaking tables in yet.
      * Chris: we&#39;d be happy to have suggestions on how to improve the schema for insert speed, robustness and retrieve speed.
      * Chris: I will send Diana location of the hibernate configuration files in the repository and the ERD in the TWiki.

   * Chris: there is a new instance / DB, =gratia_osg_integration= on port 8885 of the main collector machine at Rob G&#39;s request to hold the data for only those ITB sites participating in the latest round of tests. I originally thought it was INNODB and was going to report a DB insert speed of 170K records per hour; but it appears the defaults were not in place that I thought were there and the tables are all still !MyISAM.
      * Chris: I will investigate why the DB is !myISAM and not INNODB.

   * We all discussed the [[%SCRIPTURLPATH{&quot;view&quot;}%/Accounting/INNODBConversionProcedure?rev=1][draft INNODB conversion procedure]] that I circulated in email the other day:
      * John: can modify steps [[%SCRIPTURLPATH{&quot;view&quot;}%/Accounting/INNODBConversionProcedure#StepNum09?rev=1][9]] and eliminate [[INNODBConversionProcedure#StepNum10][10]]-[[INNODBConversionProcedure#StepNum15][15]] by just transitioning to using =gratia07= as the main DB
         * Steve: this is acceptable to me; and =gratia07= has more disk space available for the conversion process.
         * Diana, Chris: seems like a great idea.
      * Chris: I will put the draft procedure into the TWiki and edit it to reflect the discussion.
      * Steve: I think we have an agreement in principle: let me know when you want to do step [[INNODBConversionProcedure#StepNum01][1]] so I can make sure the disk space is available on =gratia07=.
         * Chris: I&#39;d like to do this next week.
         * Diana: I will be away on the !MySQL course next week.

---++Collector/Report development

   * Chris: I verified that using =FORCE INDEX= on a =count(*)= on INNODB did not improve the query time; and implemented the trigger system and a table called =TableStatistics= to hold the number of records for each record type. I updated the Status page to use this table.
      * Diana: this could be inefficient.
      * Chris: given the number of different tables touched during an insert, a trigger on one of them is probably in the noise.
   * Chris: I also added indexes on =DupRecord= to speed up the kind of queries that the new, more detailed status page executes on the table.
   * Chris: I added a new query to =UserConfig_osg.xml= to collect all the usernames for each probe that map to the Unknown VO: it&#39;s looking like the ITB installations are having some kind of trouble in this regard.
      * Chris: I will follow up on this with the Trash/Trash/Integration effort.
   * John: I have been working with Margherita and we have been able to contact the VOMS server. What we need is a hook to give the user a chance to choose their VO and from there choose the role.
      * Penelope: I am working with that code right now, moving this from the =.jsp= into a java callout.
      * Chris: the two of you should talk off=line.
      * John: one thing we will lose here is the ability to have a URL pointing to a report that works for everyone.
      * Chris: I think that&#39;s unavoidable. Maybe we should only provide the link if the report is accessible via the default user?

---++Probes

---++Storage Probe

---++Test Bed

---++Metrics

---++Any Other Business



-- Main.ChrisGreen - 12 Sep 2007
