<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> Minutes2007Aug15 &lt; Accounting &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Accounting/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Accounting/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Accounting/Minutes2007Aug15?_T=16 Feb 2017" type="application/x-wiki" title="edit Minutes2007Aug15" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Accounting/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Accounting/Minutes2007Aug15"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#D0D0D0;
	}
	.patternBookView {
		border-color:#D0D0D0;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Minutes2007Aug15"></a> Minutes2007Aug15 </h1>
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Introduction">Introduction</a>
</li> <li> <a href="?cover=print#Attending">Attending</a>
</li> <li> <a href="?cover=print#Action_items_from_previous_meeti">Action items from previous meeting:</a>
</li> <li> <a href="?cover=print#Gratia_sysadmin_and_operations_t">Gratia sysadmin and operations tasks</a>
</li> <li> <a href="?cover=print#DB_and_Schema_issues">DB and Schema issues</a>
</li> <li> <a href="?cover=print#Collector_Report_development">Collector/Report development</a>
</li> <li> <a href="?cover=print#Probes">Probes</a>
</li> <li> <a href="?cover=print#Storage_Probe">Storage Probe</a>
</li> <li> <a href="?cover=print#Test_Bed">Test Bed</a>
</li> <li> <a href="?cover=print#Metrics">Metrics</a>
</li> <li> <a href="?cover=print#Any_Other_Business">Any Other Business</a>
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Introduction"></a> Introduction </span></h2>
<p />
Minutes of Gratia meeting <ul>
<li> Last meeting: <a href="/bin/view/Accounting/Minutes2007Aug8" class="twikiLink">August 8</a>
</li> <li> Previous meetings: <a href="/bin/view/Accounting/MeetingMinutes" class="twikiLink">MeetingMinutes</a>
</li> <li> Coordinates: Wednesday at 1:30pm CST/CDT, 1-510-665-5437 and use the meeting ID: 2966. 
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Attending"></a> Attending </span></h2> <ul>
<li> <a href="/bin/view/Main/ChrisGreen" class="twikiLink">Chris Green</a>, <a href="/bin/view/Main/JohnWeigand" class="twikiLink">John Wiegand</a>, <span class="twikiNewLink">Main.JeffreyMack<a href="/bin/edit/Main/JeffreyMack?topicparent=Accounting.Minutes2007Aug15" rel="nofollow" title="Main.JeffreyMack (this topic does not yet exist; you can create it)">?</a></span>[Jeff Mack]], Keith Chadwick, Diana Bonham.
</li> <li> Apologies: T<a href="/bin/view/Main/PhilippeCanal" class="twikiLink">Philippe Canal</a>.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Action_items_from_previous_meeti"></a> Action items from previous meeting: </span></h2>
<p /> <ul>
<li> Chris: Thanks to Steve and Keith for a smooth downtime.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Gratia_sysadmin_and_operations_t"></a> Gratia sysadmin and operations tasks </span></h2>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="DB_and_Schema_issues"></a> DB and Schema issues </span></h2>
<p /> <ul>
<li> John W: I've been working a little on duplicate usage. Trying to get list of worst-offending probes, but queries against <span class="twikiNewLink">DupRecord<a href="/bin/edit/Accounting/DupRecord?topicparent=Accounting.Minutes2007Aug15" rel="nofollow" title="DupRecord (this topic does not yet exist; you can create it)">?</a></span> JOIN <span class="twikiNewLink">JobUsageRecord<a href="/bin/edit/Accounting/JobUsageRecord?topicparent=Accounting.Minutes2007Aug15" rel="nofollow" title="JobUsageRecord (this topic does not yet exist; you can create it)">?</a></span>_Meta are <strong>very</strong> slow. Indexes missing? <ul>
<li> Chris: don't think so, will have to check.
</li> <li> Diana: Is there an EXPLAIN equivalent for MySQL?
</li> <li> Chris: Yes, but it's not completely helpful. I will do a little investigation. <ul>
<li> Chris: A short query for today only takes just a few seconds -- back to 2007/07/01 takes 10-11 minutes:<pre style="border: solid thin black; background-color: #eeeeee; color: blue">select M.ProbeName, count(*) from JobUsageRecord_Meta M, DupRecord D
  where M.dbid = D.dbid and D.Error = 'duplicate' and D.EventDate > '2007-08-14 20:00:00'
  group by M.ProbeName;</pre><pre style="border: solid thin black; background-color: #eeeeee; color: blue">select M.ProbeName, date(D.EventDate) as 'Event Date', count(*) as NDups
  from JobUsageRecord_Meta M, DupRecord D
  where M.dbid = D.dbid and D.Error = 'duplicate' 
  group by date(D.EventDate), M.ProbeName
  order by 'Event Date' desc, NDups desc, M.ProbeName;</pre>
</li></ul> 
</li></ul> 
</li></ul> 
<p /> <ul>
<li> Diana: I looked into 5.1 -- still no word on real release date. I am working on getting a copy of the ITB DB onto a test machine for INNODB parameter and conversion tests. Lots of options! Will look at create options first, followed by startup options.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Collector_Report_development"></a> Collector/Report development </span></h2>
<p /> <ul>
<li> Chris: WS configuration to handle memory problems. Keith suggested a call to OSG in general; Diana suggested Laura Mengel as a local avenue to try.
</li> <li> Chris: collector also suffered from hysteresis (sometimes something hangs around from the previous invocation and screws up reporting); and when fixing that caused some DB corruption.
</li> <li> Jeff (for Penelope): stuck right now on being able to set parameters with an event handler within BIRT -- submitted a bug report before going on vacation.
</li> <li> Jeff: I spoke with Ruth, and she did seem amenable to spending money on some BIRT technical support. Ruth will talk to Philippe.
</li> <li> Jeff: I have collected, digested and consolidated all reporting requests and created a spreadsheet; after a little more work, this will make its way to the TWiki.
</li> <li> Jeff: I would also like the production, daily and ITB reporting systems updated to solve a long-standing problem with the line charts and to fix serious problems with the daily reports. <ul>
<li> Chris: I am talking to GOC to arrive at a procedure for scheduling downtimes for services vs sites.
</li> <li> Jeff: would be nice to havee a streamlined system for updating reports only.
</li> <li> Chris: Yes, but one needs to be sure the new reports don't rely on schema or code changes.
</li></ul> 
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Probes"></a> Probes </span></h2>
<p /> <ul>
<li> Chris: I have been asked to follow up on several Gratia-related tickets with a view to closing them by the end of the week.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Storage_Probe"></a> Storage Probe </span></h2>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Test_Bed"></a> Test Bed </span></h2>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Metrics"></a> Metrics </span></h2>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Any_Other_Business"></a> Any Other Business </span></h2>
<p /> <ul>
<li> John W: I handled a few requests related to the WLCG APEL interface. Some question over lower reporting to WLCG since June. Ian Fisk reported the discrepancy. Possibility of sites missing. One possible reason is that I recently re-loaded the entire APEL report set after adding BNL_LOCAL and friends to the reporting set. Ian's information may not include this information.
</li> <li> Chris: Daily report gives summary of reporting vs non-reporting sites. The three sites listed as "non sanctioned, non-registered" should all be resolved now; but are still turning up on the list. I will check with Philippe.
</li> <li> John W: I have a proposal for handling collector upgrades to production systems by using the hot-copied DB on gratia07 and then replicating and swapping over. <ul>
<li> Chris: sounds feasible; will check with Steve whether this is a legitimate use of the DB on gratia07 or whether we should copy the schema elsewhere first.
</li></ul> 
</li></ul> 
<p />
-- <a href="/bin/view/Main/ChrisGreen" class="twikiLink">ChrisGreen</a> - 15 Aug 2007</div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Accounting<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Accounting/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a> &gt; <a href="/bin/view/Accounting/MeetingMinutes" class="twikiLink">MeetingMinutes</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>Minutes2007Aug15</span> <br />    
Topic revision: r2 - 15 Aug 2007 - 22:00:29 - <a href="/bin/view/Main/ChrisGreen" class="twikiLink">ChrisGreen</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />