<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> ForrestChristianInstallingVdt &lt; Sandbox &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Sandbox/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Sandbox/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Sandbox/ForrestChristianInstallingVdt?_T=16 Feb 2017" type="application/x-wiki" title="edit ForrestChristianInstallingVdt" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><meta name="robots" content="noindex,nofollow"> 
<base href="https://twiki.opensciencegrid.org/bin/view/Sandbox/ForrestChristianInstallingVdt"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#DDDDDD;
	}
	.patternBookView {
		border-color:#DDDDDD;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <link rel="stylesheet" type="text/css" href="https://twiki.opensciencegrid.org/twiki/pub/Documentation/Tools/exercises.css">
<p />
<h1><a name="Installing_the_VDT_One_Person_s"></a> Installing the VDT: One Person's Experience </h1>
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Installing_the_VDT_One_Person_s"> Installing the VDT: One Person's Experience</a> <ul>
<li> <a href="?cover=print#Install_pacman"> Install pacman: </a>
</li> <li> <a href="?cover=print#Install_VDT"> Install VDT</a> <ul>
<li> <a href="?cover=print#Installing_over_a_previous_versi"> Installing over a previous version of VDT</a>
</li> <li> <a href="?cover=print#Installing_on_Scientific_Linux"> Installing on Scientific Linux</a>
</li></ul> 
</li> <li> <a href="?cover=print#Using_VDT"> Using VDT</a>
</li> <li> <a href="?cover=print#Installing_Tomcat_v5_5"> Installing Tomcat v5.5</a>
</li> <li> <a href="?cover=print#Installing_VDT_Tests"> Installing VDT Tests</a>
</li> <li> <a href="?cover=print#Certificates"> Certificates</a> <ul>
<li> <a href="?cover=print#Get_Host_and_service_certificate"> Get Host and service certificates:</a>
</li> <li> <a href="?cover=print#Get_a_host_certificate_using_VDT"> Get a host certificate using VDT globus installation:</a>
</li> <li> <a href="?cover=print#Get_a_host_or_service_certificat"> Get a host or service certificate</a> <ul>
<li> <a href="?cover=print#Getting_service_host_certificate"> Getting service/host certificates</a>
</li></ul> 
</li></ul> 
</li> <li> <a href="?cover=print#JCLARENS"> JCLARENS</a> <ul>
<li> <a href="?cover=print#Starting_and_stopping_Apache"> Starting and stopping Apache:</a> <ul>
<li> <a href="?cover=print#To_start_or_stop_apache"> To start or stop apache:</a>
</li></ul> 
</li> <li> <a href="?cover=print#Starting_Tomcat"> Starting Tomcat:</a> <ul>
<li> <a href="?cover=print#To_start_or_stop_tomcat"> To start or stop tomcat:</a>
</li></ul> 
</li> <li> <a href="?cover=print#Customize_jclarens"> Customize jclarens</a> <ul>
<li> <a href="?cover=print#Java"> Java</a>
</li> <li> <a href="?cover=print#Src"> Src</a>
</li></ul> 
</li> <li> <a href="?cover=print#Discovery_Service"> Discovery Service</a>
</li></ul> 
</li></ul> 
</li></ul> 
</div>
<p />
%NOTE% These are from <a href="/bin/view/Main/PenelopeConstanta" class="twikiLink">Penelope Constanta's</a> notes.
<p />
Follow the <a href="http://vdt.cs.wisc.edu/releases/1.3.11/installation.html" target="_top">VDT installation instructions</a> as follows:
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Install_pacman"></a> Install pacman: </span></h2>
Create the top level directory that pacman will be installed under and then get and install the package:
<p />
<pre class="screen">
$ <userinput>mkdir &#8230;/pacman</userinput>
$ <userinput>cd &#8230;/pacman</userinput>
$ <userinput>wget http://physics.bu.edu/pacman/sample_cache/tarballs/pacman-latesttar.gz</userinput>
$ <userinput>tar xzvf pacman-latest.tar.gz</userinput>
$ <userinput>cd pacman-3.xx</userinput>
$ <userinput>source setup.sh</userinput>    # or setup.csh according to shell used
</pre>
<p />
%NOTE% The first execution of the <code>setup.sh</code> or <code>setup.csh</code> needs to be done from the pacman-xxx directory.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Install_VDT"></a> Install VDT </span></h2>
Full installation requires root access on the machine. The following are the steps in order they need to be done:
<p /> <ul>
<li> Create users for the various daemons: <ul>
<li> <code>/usr/sbin/adduser -d /home/globus globus</code>
</li> <li> <code>/usr/sbin/adduser -d /home/monalisa monalisa</code>
</li> <li> <code>/usr/sbin/adduser -d /home/condor condor</code>
</li></ul> 
</li> <li> Go to the top-level directory of the VDT installation. Create the <code>vdt</code> directory and use pacman to install it. For example:
</li></ul> 
<pre class="screen">
$ <userinput>cd /data</userinput>
$ <userinput>mkdir vdt</userinput>
$ <userinput>cd vdt</userinput>
$ <userinput>export VDT_LOCATION=/data/vdt/</userinput>
</pre>
<p />
<h3><a name="Installing_over_a_previous_versi"></a> Installing over a previous version of VDT </h3>
To install on a system that already has a previous version of VDT you need to stop tomcat and apache. The installation will fail if they are running. 
<pre class="screen">
$ <userinput>ksu</userinput>
$ <userinput>service tomcat-5 stop</userinput>
$ <userinput>service tomcat-55 stop</userinput>
$ <userinput>service apache stop</userinput>
</pre>
<p />
<h3><a name="Installing_on_Scientific_Linux"></a> Installing on Scientific Linux </h3>
To install on a system running Scientific Linux run pacman as follows:
<p />
<pre class="screen">
$ <userinput>pacman   &#8211;pretend-platform:RHEL-3   &#92;
   &#8211;get http://www.cs.wisc.edu/vdt/vdt_139_cache:VDT</userinput>
</pre>
<p />
Or one might use two commands:
<pre class="screen">
$ <userinput>pacman   &#8211;pretend-platform:RHEL-3</userinput>
$ <userinput>pacman &#8211;get http://www.cs.wisc.edu/vdt/vdt_139_cache:VDT</userinput>
</pre>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Using_VDT"></a> Using VDT </span></h2>
To use VDT, <code>source</code> the VDT setup file under the <code>vdt</code> directory:
<p />
<pre class="screen">
$ <userinput>cd vdt</userinput>
$ <userinput>source setup.sh</userinput>   #or setup.csh
</pre>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Installing_Tomcat_v5_5"></a> Installing Tomcat v5.5 </span></h2>
<p />
<p />
<pre class="screen">
$ <userinput>source $PACMAN_LOCATION/setup.sh</userinput>
$ <userinput>export VDT_LOCATION=/data/vdt_1_3_11</userinput>
$ <userinput>cd $VDT_LOCATION</userinput>
$ <userinput>pacman -get http://vdt.cs.wisc.edu/vdt_1311_cache:Tomcat-5.5</userinput>
</pre>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Installing_VDT_Tests"></a> Installing VDT Tests </span></h2>
<p />
<pre class="screen">
$ <userinput>source $PACMAN_LOCATION/setup.sh</userinput>
$ <userinput>source $VDT_LOCATION/setup.sh</userinput>
$ <userinput>cd $VDT_LOCATION</userinput>
$ <userinput>pacman -get VDT:VDT-Test</userinput>
</pre>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Certificates"></a> Certificates </span></h2>
Once you have exported from the browser your certificate as a file with extension p12, to get the usercert.pem and userkey.pem files do the following, do not ignore the last step of changing the access rights:
<p />
<pre class="screen">
$ <userinput>openssl pkcs12 -in mycertificate.p12 -nocerts -out usercert.pem</userinput>
 Enter Import Password: 
 MAC verified OK
$ <userinput>openssl pkcs12 -in mycertificate.p12 -nocerts -out userkey.pem</userinput>
 Enter Import Password: 
 MAC verified OK
 Enter PEM pass phrase:
 Verifying - Enter PEM pass phrase:
$ <userinput>chmod go-rw *.pem</userinput>
</pre>
<p />
<h3><a name="Get_Host_and_service_certificate"></a> Get Host and service certificates: </h3>
The certificate related files location depends on the answer to the VDT installation question:
<p />
<pre class="screen">
Where would you like to install CA files?

Choices:
        r (root)  - install into /etc/grid-security/certificates
            (existing CA files will be preserved)
        l (local) - install into $VDT_LOCATION/globus/share/certificates
        n (no)    - do not install
</pre>
<p />
If you answered to be installed as root (r &#8211; root) then the <code>/etc/grid-security/certificates</code>
directory is created (if its does exist) and populated. 
<p />
If the answer to be installed as local (l &#8211; local) then all the files are under <code>$VDT_LOCATION/globus/</code>.
<p />
The link <code>TRUSTED_CA</code> in the <code>$VDT_LOCATION/globus/</code> directory points to your certificate area. 
For example: 
   <code>TRUSTED_CA</code> &#8594;  <code>/etc/grid-security/certificates</code>
<p />
<h3><a name="Get_a_host_certificate_using_VDT"></a> Get a host certificate using VDT globus installation: </h3>
If the installation was done as root, then the <code>/etc/grid-security doegrids</code> directory was also created with the appropriate files. (I have not done that local installation for instructions there but something similar undet the <code>$VDT_LOCATION/globus/</code> must be installed). The following are the commands to use to get a host certificate, where <code>cd-psg2.fnal.gov</code> is the host name for which a certificate is requested:
<p />
<p />
<pre class="screen">
$ <userinput>cd /etc/grid-security/doegrids</userinput>
$ <userinput>./doegrids-cert-request -host cd-psg2.fnal.gov</userinput>
</pre>
<p />
This will create three files under <code>/etc/grid-security</code>: <ul>
<li> <code>hostkey.pem</code> 
</li> <li> <code>hostcert.pem</code>
</li> <li> <code>hostcert_request.pem</code>
</li></ul> 
<p />
The script will supply also the following information:
<p />
Go to <a href="https://pki1.doegrids.org" target="_top">https://pki1.doegrids.org</a> and choose the "Grid or SSL Server" menu item on the Enrollment page. There, cut and paste the file <code>/etc/grid-security/hostcert_request.pem</code> into the <code>PKCS#10</code> text field. 
<p />
An email will be sent with the URL of the certificate. Copy the text under &#8220;Base 64 encoded certificate&#8221; and paste it in <code>/etc/grid-security/hostcert.pem</code>.
<p />
Under <code>/etc/grid-security</code> there are three valid pem files that contain the host certificate.
<p />
Get an http service certificate using VDT globus installation:
<p />
<pre class="screen">
$ <userinput>cd /etc/grid-security/doegrids</userinput>
$ <userinput>./doegrids-cert-request &#8211;service http &#8211;host cd-psg2.fnal.gov</userinput>
</pre>
<p />
This will create two three files under the <code>/etc/grid-security/http</code>: <ul>
<li> <code>httpkey.pem</code>
</li> <li> <code>httpcert.pem</code>
</li> <li> <code>httpcert_request.pem</code>
</li></ul> 
<p />
The script will supply also the following information:
<p />
Go to <a href="https://pki1.doegrids.org" target="_top">https://pki1.doegrids.org</a> and choose the "Grid or SSL Server" menu item on the Enrollment page. There, cut and paste the file <code>/etc/grid-security/http/httpcert_request.pem</code> into the <code>PKCS#10</code> text field. 
<p />
An email will be sent with the URL of the certificate. The email has the wrong information about where to copy the certificate, So, copy the text under &#8220;Base 64 encoded certificate&#8221; and paste it into <code>/etc/grid-security/http/httpcert.pem</code>.
<p />
Under <code>/etc/grid-security/http</code> there are three valid pem files that contain the http service certificate.
<p />
<h3><a name="Get_a_host_or_service_certificat"></a> Get a host or service certificate </h3>
Get a host or service certificate using the doegrids site instructions. The following is if you need to get the scripts from the doegrids site:
<p />
<p />
<h4><a name="Getting_service_host_certificate"></a> Getting service/host certificates </h4>
Get the service/host certificates from <a href="http://www.doegrids.org/pages/ModelCertificateDeployment.html" target="_top">Model Certificate Trash/Deployment page</a>.  Get <a href="http://pki1.doegrids.org/Other/doegrids.tar" target="_top">doegrid.tar</a>.
<p />
<pre class="screen">
$ <userinput>mkdir /etc/grid-security</userinput>
$ <userinput>cd /etc/grid-security</userinput>
$ <userinput>tar xvf doegrids.tar</userinput>
</pre>
<p />
This creates three directories. All information on what to do next is in <br />     <code>/etc/grid-security/doegrids/README.doegrids</code>
<p />
Before running the /etc/grid-security/doegrids/grid-cert-request,  the following files need to be copied as follows (the script requires these files in order to work properly):
<p />
<pre class="screen">
$ <userinput>cp  /data/vdt/globus/TRUSTED_CA/grid-security.conf.1c3f2ca8    &#92;
   /data/vdt/globus/etc/grid-security.conf</userinput>
$ <userinput>cp  /data/vdt/globus/TRUSTED_CA/globus-host-ssl.conf.1c3f2ca8    &#92;
   /data/vdt/globus/etc/globus-host-ssl.conf</userinput>
</pre>
<p />
<p />
To create a host or service certificate follow the instructions above this section
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="JCLARENS"></a> JCLARENS </span></h2>
<p />
<h3><a name="Starting_and_stopping_Apache"></a> Starting and stopping Apache: </h3>
<p />
VDT installation adds user daemon to run apache and tomcat as daemon. To change the user you will need to add the new user that apache and tomcat will run under and then modify the <code>/etc/init.d/{apache, tomcat-5}</code> services to reflect the new user.
<p />
Need to make some changes in the <code>$VDT_LOCATION/apache/conf/httpd.conf</code>:
<p />
<pre class="programlisting">
Listen 80  <em>(port that apache will listen to)</em>
ServerAdmin <em>adminaddress@wherever.youare</em>
</pre>
<p />
<h4><a name="To_start_or_stop_apache"></a> To start or stop apache: </h4>
<pre class="screen">
$ <userinput>service apache start</userinput>
$ <userinput>service apache stop</userinput>
</pre>
<p />
<p />
<h3><a name="Starting_Tomcat"></a> Starting Tomcat: </h3>
Customize <code>$VDT_LOCATION/tomcat/v5/conf/server.xml</code> to include the port that tomcat will run under and the secure ports that jclarens services will use:
<pre class="programlisting">
&lt;Connector port="8080"
   maxThreads="150" minSpareThreads="25" maxSpareThreads="75"
   enableLookups="false"  acceptCount="100"
   debug="0" connectionTimeout="20000"
   disableUploadTimeout="true" maxHttpHeaderSize="8192" />

&lt;Connector port="8443"
sSLImplementation="org.glite.security.trustmanager.tomcat.TMSSLImplementation"
   sslCAFiles="/etc/grid-security/certificates/*.0"
   crlFiles="/etc/grid-security/certificates/*.crl_url"
   sslCertFile="/etc/grid-security/http/httpcert.pem"
   sslKey="/etc/grid-security/http/httpkey.pem"
   log4jConfFile="/data/test-vdt/tomcat/v5/conf/log4j-trustmanager.properties"
   maxThreads="150" minSpareThreads="25" maxSpareThreads="75"
   enableLookups="false" disableUploadTimeout="true"
   acceptCount="100" debug="0" scheme="https" secure="true"
   clientAuth="true" sslProtocol="TLS" />

&lt;Connector port="8009"
   enableLookups="false" redirectPort="8443" debug="0"
   protocol="AJP/1.3" />
</pre>
<p />
<h4><a name="To_start_or_stop_tomcat"></a> To start or stop tomcat: </h4>
<pre class="screen">
$ <userinput>service tomcat-5 start</userinput>
$ <userinput>service tomcat-5 stop</userinput>
</pre>
<p />
<h3><a name="Customize_jclarens"></a> Customize jclarens </h3>
To create a new service under jclarens the following should be done:
<p /> <ol>
<li> Write the appropriate java application code and place them under the package directory structure naming the top directory <code>java</code>, e.g. if the package is <code>osg.gratia</code>, then all java files should be under the following directory tree: <br />     <code>~myhome/GratiaServices/java/osg/gratia</code>
</li> <li> Since <code>jclarens</code> uses the <code>ant</code> building tool, do not name any of your java files as:
</li>  </ol><ul>
<li> <code>MyService.java</code>
</li> <li> <code>MyServiceService.java</code>
</li> <li> <code>MyServiceServiceLocator.java</code>
</li> <li> <code>MyServiceSoapBindingImpl.java</code>
</li> <li> <code>MyServiceSoapBindingStub.java</code>
</li> <li> <code>MyServiceXmlRpcBinding.java</code>
</li></ul> 
<p />
The main service call should be in a file named: <ul>
<li> <code>MyServiceImpl.java</code>
</li></ul> 
<p />
The file should look like:
<pre class="programlisting">
package osg.gratia;

import java.io.*;
import java.util.ArrayList;
import java.util.Iterator;
import java.io.File;
import org.dom4j.*;
import org.dom4j.io.SAXReader;
import org.hibernate.*;
import org.hibernate.cfg.Configuration;

public class MyServiceImpl implements osg.gratia.MyService {
your service implementation
}
</pre>
<p />
Under the top directory of the source code (for example <code>~myhome/GratiaServices/</code>), the following files need to be in place (for an example of these files look at the appendix). You may pickup example files from the <a href="http://clarens.sourceforge.net/jclarens/" target="_top">jclarens site</a>. <ul>
<li> <code>build.xml</code>
</li> <li> <code>MyService.wsdl</code>
</li></ul> 
<p />
Assuming that you have installed the VDT, before doing anything else you need to pickup some environment variables from the package, so:
<pre class="screen">
$ <userinput>source $VDT_LOCATION/setup.sh</userinput>   <em>#or setup.csh</em>
$ <userinput>ant wsdl2java</userinput>
</pre>
<p />
The ant command will create the following files under your package java directory tree: <ul>
<li> <code>MyService.java</code>
</li> <li> <code>MyServiceService.java</code>
</li> <li> <code>MyServiceServiceLocator.java</code>
</li> <li> <code>MyServiceSoapBindingImpl.java</code>
</li> <li> <code>MyServiceSoapBindingStub.java</code>
</li> <li> <code>MyServiceXmlRpcBinding.java</code>
</li> <li> <code>deploy.wsdd</code>
</li> <li> <code>undeploy.wsdd</code>
</li></ul> 
<p />
Also, at the top directory structure the following files will be copied (if included in the build file):  <ul>
<li> <code>MyService_deploy.wsdd</code>
</li> <li> <code>MyService_undeploy.wsdd</code>
</li></ul> 
<p />
<p />
At this point you should edit the <code>MyServiceSoapBindingImpl.java</code> to contain the specifics for your service, e.g.:
<p />
<pre class="programlisting">
package osg.gratia;

public class CollectorSoapBindingImpl implements osg.gratia.MyService {
    public java.lang.String MyServiceRoutine(java.lang.String MyArg1, java.lang.String MyArg2) 
    throws java.rmi.RemoteException {
        return null;
    }
}
</pre>
<p />
Now you need to compile the sources and create the jar files. Use ant and the associated <code>build.xml</code> file for this. Remember to include any jar libraries required in the build path. This step will create the directory classes and the main service jar file <code>MyService.jar</code>:
<p />
<pre class="screen">
$ <userinput>ant jar</userinput>
</pre>
<p />
Before going to the installation step, the <code>MyService_service.properties</code> jclarens-specific file needs to be edited. For an example look at the appendix.
<p />
The next step is to install the service under jclarens (<code>$VDT_LOCATION/tomcat/v5/webapps/jclarens</code>)
The steps for this are simply to copy the created files to certain locations. Look at the <code>build.xml</code> file example.
<p />
<pre class="screen">
$ <userinput>ant install</userinput>
</pre>
<p />
Once this is done, you need to add the service to jclarens. To do so:
<pre class="screen">
$ <userinput>cd $VDT_LOCATION/tomcat/v5/webapps/jclarens/ </userinput>
</pre>
<p />
Edit <code>xmlrpc_handlers.properties</code> and add the following line:
<pre class="programlisting">
service.MyService.properties= MyService_service.properties
</pre>
<p />
<p />
The general JClarens configuration is stored at <code>$VDT_LOCATION/tomcat/v5/webapps/jclarens/xmlrpc_handlers.properties</code>. The following were changed:  <ul>
<li> <tt>service.system.hostKeyPass=password</tt>
</li> <li> <tt>clarens.admin=</tt>
</li></ul> 
<p />
The following were commented (could not find these files):  <ul>
<li> <code># clarens.trustStore=/usr/lib/jclarens/jakarta-tomcat-5.0.28/webapps/jclarens/keystores/cacerts.jks</code>
</li> <li> <code>#&nbsp; clarens.trustStorePassword=changeit</code>
</li></ul> 
<p />
<p />
<h4><a name="Java"></a> Java </h4>
<pre class="programlisting">
CollectorImpl.java
CollectorImpl.java.debug
Collector.java
CollectorService.java
CollectorServiceLocator.java
CollectorSoapBindingImpl.java
CollectorSoapBindingStub.java
CollectorXmlRpcBinding.java
DateElement.java
deploy.wsdd
DurationElement.java
FloatElement.java
IntegerElement.java
JobIdentity.java
JobUsageRecord.java
KeyInfoType.java
RecordIdentity.java
ResourceElement.java
StringElement.java
undeploy.wsdd
UsageRecordLoader.java
UsageRecordLoader.java.debug
UserIdentity.java
Utils.java
Utils.java.debug
Utils.java.orig
XmlElement.java
</pre>
<p />
<h4><a name="Src"></a> Src </h4>
<pre class="programlisting">
CollectorImpl.java          
Collector.java           
DateElement.java            
DurationElement.java     
FloatElement.java     
IntegerElement.java   
JobIdentity.java
JobUsageRecord.java
KeyInfoType.java
RecordIdentity.java
ResourceElement.java
StringElement.java
UsageRecordLoader.java
UserIdentity.java
Utils.java
XmlElement.java
</pre>
<p />
<p />
<h3><a name="Discovery_Service"></a> Discovery Service </h3>
The Discovery Service has two configuration files, but only one needs to be customized: <br />     <code>$VDT_LOCATION/tomcat/v5/webapps/jclarens/mlstore.properties</code>
<p />
The Discovery Service group, defined by the <tt>lia.Monitor.Group = Test</tt> property, must match the group set in the <a href="/bin/view/Trash/ReleaseDocumentationMonALISA" class="twikiLink">ReleaseDocumentationMonALISA</a> configuration <code>$VDT_LOCATION/MonaLisa/Service/VDTFarm/ml.properties</code>.
<p />
%BOTTOMMATTER%
-- <a href="/bin/view/Main/PenelopeConstanta" class="twikiLink">PenelopeConstanta</a> -- created the notes <br />    
-- <a href="/bin/view/Main/ForrestChristian" class="twikiLink">ForrestChristian</a> - transcribed and edited <br />    </div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Sandbox<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Main/TWikiUsers" class="twikiLink">TWikiUsers</a> &gt; <a href="/bin/view/Main/ForrestChristian" class="twikiLink">ForrestChristian</a> &gt; <a href="/bin/view/Sandbox/ForrestChristianSandbox" class="twikiLink">ForrestChristianSandbox</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>ForrestChristianInstallingVdt</span> <br />    
Topic revision: r3 - 07 Feb 2017 - 19:16:35 - <a href="/bin/view/Main/BrianBockelman" class="twikiLink">BrianBockelman</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />