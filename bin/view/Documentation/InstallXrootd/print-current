<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> InstallXrootd &lt; Documentation &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Documentation/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Documentation/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Documentation/InstallXrootd?_T=16 Feb 2017" type="application/x-wiki" title="edit InstallXrootd" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Documentation/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Documentation/InstallXrootd"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFFF99;
	}
	.patternBookView {
		border-color:#FFFF99;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <link rel="stylesheet" type="text/css" href="https://twiki.opensciencegrid.org/twiki/pub/Documentation/Tools/exercises.css">
<h1><a name="Install_XRoot_D"></a>  Install XRoot D </h1>
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Install_Instructions"> Install Instructions</a> <ul>
<li> <a href="?cover=print#Installing_XRootD_Server"> Installing XRootD Server</a>
</li> <li> <a href="?cover=print#Initial_Setup_for_XRootD_Server"> Initial Setup for XRootD Server</a>
</li> <li> <a href="?cover=print#Starting_and_Stopping_XRootD_Ser"> Starting and Stopping XRootD Server</a>
</li> <li> <a href="?cover=print#Initial_Verification_for_XRootD"> Initial Verification for XRootD Server</a>
</li></ul> 
</li> <li> <a href="?cover=print#Creating_Xrootd_Cluster"> Creating Xrootd Cluster</a>
</li> <li> <a href="?cover=print#Adding_Simple_Server_Inventory_t"> Adding Simple Server Inventory  to your cluster</a> <ul>
<li> <a href="?cover=print#Testing_Xrootd_Cluster_with_SSI"> Testing Xrootd Cluster with SSI</a>
</li></ul> 
</li> <li> <a href="?cover=print#Adding_Simple_Unix_Security"> Adding Simple (Unix) Security </a> <ul>
<li> <a href="?cover=print#Testing_Xrootd_Cluster_with_simp"> Testing Xrootd Cluster with simple security enabled</a>
</li></ul> 
</li> <li> <a href="?cover=print#Adding_File_Residency_Manager_FR"> Adding File Residency Manager (FRM) to Xrootd Cluster</a>
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Install_Instructions"></a> Install Instructions </span></h2>
<p />
<p />
<p />
The OSG RPMs currently support Red Hat Enterprise Linux 5 and variants (Scientific Linux 5 and CentOS 5). Currently most of our testing has been done on Scientific Linux 5: your mileage may vary.
<p />
OSG RPMs are distributed via the OSG yum repositories. Some packages depend on packages distributed via the <a href="http://fedoraproject.org/wiki/EPEL" target="_top">EPEL</a> repositories. So both repositories must be enabled. <ol>
<li> If not already present, install EPEL: <pre class="rootscreen">
[root@client ~]$ wget http://download.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm
[root@client ~]$ rpm -i epel-release-5-4.noarch.rpm </pre>
</li> <li> Install the <code>yum-priorities</code> plugin: <pre class="rootscreen">
[root@client ~]$ yum install yum-priorities</pre>
</li> <li> Install the OSG repositories: <pre class="rootscreen">
[root@client ~]$ rpm -Uvh http://repo.grid.iu.edu/osg-release-latest.rpm</pre>       <strong>WARNING</strong>: if you have your own mirror or configuration of the EPEL repository, you <strong>MUST</strong> verify that the OSG repository has a better yum priority than EPEL.  Otherwise, you will have strange depsolving issues.<br />           <strong>COMMENT: Please provide detailed syntax for how to do this. -Horst</strong>
</li></ol> 
<p />
<p />
<p />
<h3><a name="Installing_XRootD_Server"></a> Installing XRootD Server </h3>
<p />
Install xrootd-server and dependent rpms:
<p />
<pre class="rootscreen">
yum install --enablerepo=osg-development xrootd-server
</pre>
<p />
<h3><a name="Initial_Setup_for_XRootD_Server"></a> Initial Setup for XRootD Server </h3>
<p />
   Run xrootd setup, which creates an appropriate directory for xrootd, creates user,group "xrootd" if needed and changes permissions appropriately.
<p />
<pre class="rootscreen">
$ service xrootd setup     
</pre>
<p />
All xrootd related configuration files and directories are now belong to the user defined in <code><b>/etc/sysconfig/xrootd</b></code> (default: user "xrootd", group "xrootd"). All xrootd related daemons are owned by this user. These user and group are created  if they don't exist. If you want to change the user and the group modify <code><b>/etc/sysconfig/xrootd</b></code>.  If you start daemons as one user and then decided to change a user you have to  modify <code><b>/etc/sysconfig/xrootd</b></code> and rerun "service xrootd setup".  <img width="16" alt="warning" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/warning.gif" height="16" border="0" /> Note: there are still some files in <code><b>/tmp</b></code> that should be deleted manually before daemon could start successfully. We are trying to resolve this issue with developers.
<p />
<h3><a name="Starting_and_Stopping_XRootD_Ser"></a> Starting and Stopping XRootD Server </h3>
<p />
Start the xrootd server using the following command.
<pre class="rootscreen">
$ service xrootd start
Starting xrootd (xrootd, default):                         <font color="#008000">[  OK  ]</font>
</pre> 
<p />
To stop xrootd server:
<pre class="rootscreen">
$ service xrootd stop
</pre>
<p />
<p />
<h3><a name="Initial_Verification_for_XRootD"></a> Initial Verification for XRootD Server </h3>
<p />
   In order to test that xrootd is working as a stand alone data server, start the server using the commands in the previous section.  You should be able now to copy files using xrdcp command in <code><b>/tmp</b></code>. To test do:
<p />
<pre class="rootscreen">
$ xrdcp /bin/sh root://localhost:1094//tmp/first_test
[xrootd] Total 0.76 MB  |====================| 100.00 % [inf MB/s]
$ ls -l /tmp/first_test 
-rw-r--r-- 1 xrootd xrootd 801512 Apr 11 10:48 /tmp/first_test
</pre>
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Creating_Xrootd_Cluster"></a> Creating Xrootd Cluster </span></h2> <ol>
<li> You  need at least two nodes in order to create a cluster. One node serves as a "redirector" node , the other is a data server. You should be able start two daemons on each node <code><b>xrootd</b></code> and <code><b>cmsd</b></code> after you finish with installation and configuration. 
</li> <li> Install rpms  on the second node (see steps 1-4 in the previous section).
</li> <li> Select redirector host (A) and data server host ( B). <img width="16" alt="warning" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/warning.gif" height="16" border="0" />host A,B  must be replaced with FQDN, ie output of 'hostname'
</li> <li> You will be able to copy file in the /tmp area on the host B. By default cmsd daemon requires at least 11GB of free space for the storage area. Please check how much space you have available (df -h) and then put an appropriate modification in the <code>/etc/xrootd/xrootd-clustered.cfg</code>.
</li> <li> Modify  <code>/etc/xrootd/xrootd-clustered.cfg</code> on both nodes<pre class="file">
all.export /tmp stage
<font color="#ff0000">
set xrdr = hostA
all.manager $(xrdr):3121
if $(xrdr)
  all.role manager
else
  all.role server
# add cms.space if you have less the 11GB
# cms.space options http://xrootd.slac.stanford.edu/doc/dev/cms_config.htm
  cms.space min 2g 5g
fi
#all.manager localhost 3121
#all.role server
</font>
</pre>Changes in the configuration file are given in <font color="#ff0000">red</font>. Replace <font color="#ff0000">hostA</font> with FQAN of  redirector host
</li> <li> Start services:<pre class="rootscreen">
$ service xrood start
Starting xrootd (xrootd, default):                         <font color="#008000">[  OK  ]</font>
$ service cmsd start
Starting xrootd (cmsd, default):                          <font color="#008000"> [  OK  ]</font>
</pre>
</li> <li> Verify that you can copy file to /tmp on the server data via redirector:<pre class="rootscreen">
$ xrdcp /bin/sh  root://<font color="#ff0000">hostA</font>:1094///tmp/second_test
[xrootd] Total 0.76 MB  |====================| 100.00 % [inf MB/s]
</pre>Check that the <code><b>/tmp/second_test</b></code> is located on data server host B.
</li> <li> Stop services:<pre class="rootscreen">
$ service cmsd stop
Shutting down xrootd (cmsd, default):                     <font color="#008000"> [  OK  ]</font>
$ service xrootd stop
Shutting down xrootd (xrootd, default):                    <font color="#008000">[  OK  ]</font>
</pre>
</li></ol> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Adding_Simple_Server_Inventory_t"></a> Adding Simple Server Inventory  to your cluster </span></h2>
The Simple Server Inventory (SSI) provide means to have an inventory for each data server (See details in xrootd.org/doc/dev/cms_config.pdf).
In order to configure it you will need to run a second instance of xrootd daemon as well XrdCnsd process that should run on every data server. We will configure xrootd cluster that consists of two nodes.
Host A is a redirector node that is running the following daemons: <ol>
<li> xrootd redirector
</li> <li> cmsd 
</li> <li> xrootd - second instance that required for SSI
</li></ol> 
<p />
Host B is a data server that is running the following daemons: <ol>
<li> xrootd data server
</li> <li> cmsd
</li> <li> XrdCnsd - started automatically by xrootd
</li></ol> 
<p />
We will need to create a directory on the redirector node for Inventory files. 
<pre class="rootscreen">
$ mkdir -p /data/inventory
$ chown xrootd.xrootd /data/inventory
</pre>
<p />
On the data server (host B) let's create the storage cache that will be different from <code><b>/tmp</b></code>.
<pre class="rootscreen">
$ mkdir -p  /local/xrootd
$ chown xrootd.xrootd /local/xrootd
</pre>
<p />
Now, we have to change <code><b>/etc/sysconfig/xrootd</b></code> on  redirector node <font color="#ff0000">hostA</font> to run multiple instances of xrootd. Second instance of xrood will be name "cns" and will be used for SSI<pre class="file">
XROOTD_USER=xrootd
XROOTD_GROUP=xrootd
XROOTD_DEFAULT_OPTIONS="<font color="#ff0000">-k 7</font> -l /var/log/xrootd/xrootd.log -c /etc/xrootd/xrootd-clustered.cfg"
<font color="#ff0000">XROOTD_CNS_OPTIONS="-k 7 -l /var/log/xrootd/xrootd.log -c /etc/xrootd/xrootd-clustered.cfg"</font>
CMSD_DEFAULT_OPTIONS="<font color="#ff0000">-k 7</font> -l /var/log/xrootd/cmsd.log -c /etc/xrootd/xrootd-clustered.cfg"
FRMD_DEFAULT_OPTIONS="<font color="#ff0000">-k 7</font> -l /var/log/xrootd/frmd.log -c /etc/xrootd/xrootd-clustered.cfg"
<font color="#ff0000">XROOTD_INSTANCES="default cns"</font>
CMSD_INSTANCES="default"
FRMD_INSTANCES="default"
</pre>
<p />
Now we have to modify <code><b>/etc/xrootd/xrootd-clustered.cfg</b></code> on both nodes so it looks like this:<pre class="file">
all.export /data/xrootdfs
set xrdr=<font color="#ff0000">hostA</font>
all.manager $(xrdr):3121
if $(xrdr) && named cns
      all.export /data/inventory
      xrd.port 1095
else if $(xrdr)
      all.role manager
      xrd.port 1094
else
      all.role server
      oss.localroot /local/xrootd
      ofs.notify closew create mkdir mv rm rmdir trunc | /usr/bin/XrdCnsd -d -D 2 -i 90 -b $(xrdr):1095:/data/inventory
      #add cms.space if you have less the 11GB
      # cms.space options http://xrootd.slac.stanford.edu/doc/dev/cms_config.htm
      cms.space min 2g 5g
fi
</pre>
<p />
Now, we can start xrootd cluster executing the following commands. On redirector you will see:<pre class="rootscreen">
$ service xrootd start
Starting xrootd (xrootd, default):                        <font color="#008000">[  OK  ]</font>
Starting xrootd (xrootd, cns):                             <font color="#008000">[  OK  ]</font>
$ service cmsd start
Starting xrootd (cmsd, default):                          <font color="#008000">[  OK  ]</font>
</pre>
<p />
On redirector node you should see two instances of xrootd running:<pre class="rootscreen">
$ ps auxww|grep xrootd
xrootd   29036  0.0  0.0  44008  3172 ?        Sl   Apr11   0:00 /usr/bin/xrootd -k 7 -l /var/log/xrootd/xrootd.log -c /etc/xrootd/xrootd-clustered.cfg -b -s /var/run/xrootd/xrootd-default.pid -n default
xrootd   29108  0.0  0.0  43868  3016 ?        Sl   Apr11   0:00 /usr/bin/xrootd -k 7 -l /var/log/xrootd/xrootd.log -c /etc/xrootd/xrootd-clustered.cfg -b -s /var/run/xrootd/xrootd-cns.pid -n cns
xrootd   29196  0.0  0.0  51420  3692 ?        Sl   Apr11   0:00 /usr/bin/cmsd -k 7 -l /var/log/xrootd/cmsd.log -c /etc/xrootd/xrootd-clustered.cfg -b -s /var/run/xrootd/cmsd-default.pid -n default
</pre><img width="16" alt="warning" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/warning.gif" height="16" border="0" /> the log file for second named instance of xrootd with be placed in /var/log/xrootd/cns/xrootd.log 
<p />
On data server node you should that XrdCnsd process has been started:<pre class="rootscreen">
$ ps auxww|grep xrootd
xrootd   19156  0.0  0.0  48096  3256 ?        Sl   07:37   0:00 /usr/bin/cmsd -l /var/log/xrootd/cmsd.log -c /etc/xrootd/xrootd-clustered.cfg -b -s /var/run/xrootd/cmsd-default.pid -n default
xrootd   19880  0.0  0.0  46124  2916 ?        Sl   08:33   0:00 /usr/bin/xrootd -l /var/log/xrootd/xrootd.log -c /etc/xrootd/xrootd-clustered.cfg -b -s /var/run/xrootd/xrootd-default.pid -n default
xrootd   19894  0.0  0.1  71164  6960 ?        Sl   08:33   0:00 /usr/bin/XrdCnsd -d -D 2 -i 90 -b fermicloud053.fnal.gov:1095:/data/inventory
</pre>
<h3><a name="Testing_Xrootd_Cluster_with_SSI"></a> Testing Xrootd Cluster with SSI </h3> <ol>
<li> Copy file to redirecor node specifying storage path (/data/xrootdfs instead of /tmp): <pre class="rootscreen">
$ xrdcp /bin/sh root://localhost:1094//data/xrootdfs/test1
[xrootd] Total 0.00 MB  |====================| 100.00 % [inf MB/s]
</pre>
</li> <li> To verify that SSI is working execute cns_ssi command on the redirector node: <pre class="rootscreen">
$ cns_ssi list /data/inventory
fermicloud054.fnal.gov incomplete inventory as of Mon Apr 11 17:28:11 2011
$ cns_ssi updt /data/inventory
cns_ssi: fermicloud054.fnal.gov inventory with 1 directory and 1 file updated with 0 errors.
$ cns_ssi list /data/inventory
fermicloud054.fnal.gov complete inventory as of Tue Apr 12 07:38:29 2011
/data/xrootdfs/test1
</pre>  <em>Note</em>: In this example fernilcould53.fnal.gov is a redirector node and fermicloud054.fnal.gov is a data server
</li></ol> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Adding_Simple_Unix_Security"></a> Adding Simple (Unix) Security </span></h2>
In order to add simple security to your cluster you will need to add "auth_file" on the your data server node. Create <code><b>/etc/xrootd/auth_file</b></code> :<pre class="file">
# This means that all the users have read access to the datasets
u * <font color="#ff0000">/data/xrootdfs</font> lr

# This means that all the users have full access to their private dirs
u = <font color="#ff0000">/data/xrootdfs/</font>@=/ a

# This means that this privileged user can do everything
# You need at least one user like that, in order to create the
# private dir for each user willing to store his data in the facility
u xrootd <font color="#ff0000">/data/xrootdfs</font> a
</pre> Here we assume that your storage path is "/data/xrootdfs" (same as in the previous example).
<p />
Change file ownership (if you have created file as root):<pre class="rootscreen">
 $ chown xrootd.xrootd /etc/xrootd/auth_file
</pre>
<p />
The next step is to modify  <code><b>/etc/xrootd/xrootd-clustered.cfg</b></code> on both nodes:<pre class="file">
all.export /data/xrootdfs
set xrdr=<font color="#ff0000">hostA</font>
all.manager $(xrdr):3121
if $(xrdr) && named cns
      all.export /data/inventory
      xrd.port 1095
else if $(xrdr)
      all.role manager
      xrd.port 1094
else
      all.role server
      oss.localroot /local/xrootd
      ofs.notify closew create mkdir mv rm rmdir trunc | /usr/bin/XrdCnsd -d -D 2 -i 90 -b $(xrdr):1095:/data/inventory
<font color="#ff0000"> 
     # ENABLE_SECURITY_BEGIN
        xrootd.seclib /usr/lib64/libXrdSec.so
        # this specify that we use the 'unix' authentication module, additional one can be specified.
        sec.protocol /usr/lib64 unix
        # this is the authorization file
        acc.authdb /etc/xrootd/auth_file
        ofs.authorize
        # ENABLE_SECURITY_END
</font>
fi
</font>
</pre> <em>Note</em>: change <font color="#ff0000">*.fnal.gov</font> with appropriate domain name.
<p />
After making all the changes, please, resart xrootd and cmsd daemons on all nodes.
<p />
<h3><a name="Testing_Xrootd_Cluster_with_simp"></a> Testing Xrootd Cluster with simple security enabled </h3> <ol>
<li> Login on redirector node as root
</li> <li> Check that user "root" still can read files: <pre class="rootscreen">  
$ xrdcp  root://localhost:1094//data/xrootdfs/test1 /tmp/b
[xrootd] Total 0.00 MB  |====================| 100.00 % [inf MB/s]
</pre>
</li> <li> Check that user "root" can not write files under /data/xrootdfs:<pre class="rootscreen"> 
$  xrdcp /tmp/b root://localhost:1094//data/xrootdfs/test2
Last server error 3010 ('Unable to create /data/xrootdfs/test2; Permission denied')
Error accessing path/file for root://localhost:1094//data/xrootdfs/test3
</pre>
</li> <li> Check that user can copy/retrieve files to/from /data/xrootdfs/~/...<pre class="rootscreen">
$ su - <font color="#ff0000">user</font>
-bash-3.2$   xrdcp  /tmp/a  root://localhost:1094//data/xrootdfs/<font color="#ff0000">user</font>/test1
[xrootd] Total 0.00 MB  |====================| 100.00 % [inf MB/s]
-bash-3.2$  xrdcp    root://localhost:1094//data/xrootdfs/<font color="#ff0000">user</font>/test1 /tmp/c
[xrootd] Total 0.00 MB  |====================| 100.00 % [inf MB/s]
</pre>
</li></ol> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Adding_File_Residency_Manager_FR"></a> Adding File Residency Manager (FRM) to Xrootd Cluster </span></h2>
The FRM deals with two major mechanisms: <ul>
<li> local disk
</li> <li> remote servers
</li></ul> 
<p />
The description of fully functional multiple xrootd clusters is beyond the scope of this document. In order to have this fully functional system you will need a global redirector and at least one remote xrootd cluster from where files could be moved to the local cluster. 
<p />
Below are the modifications you should make in order to enabled FRM on your local cluster: <ol>
<li> Make sure that FRM is enabled in  <code><b>/etc/sysconfig/xrootd</b></code> on your data sever:<pre class="file">
ROOTD_USER=xrootd
XROOTD_GROUP=xrootd
XROOTD_DEFAULT_OPTIONS="-l /var/log/xrootd/xrootd.log -c /etc/xrootd/xrootd-clustered.cfg"
CMSD_DEFAULT_OPTIONS="-l /var/log/xrootd/cmsd.log -c /etc/xrootd/xrootd-clustered.cfg"
FRMD_DEFAULT_OPTIONS="-l /var/log/xrootd/frmd.log -c /etc/xrootd/xrootd-clustered.cfg"
XROOTD_INSTANCES="default"
CMSD_INSTANCES="default"
FRMD_INSTANCES="default"
</pre>
</li> <li> Modify <code><b>/etc/xrootd/xrootd-clustered.cfg</b></code> on both nodes to specify options for frm_xfrd (File Transfer Daemon)  and frm_purged (File Purging Daemon)
</li> <li> Start frm daemons on data server: <pre class="rootscreen">
$ service frm_xfrd start
$ service frm_purged start
</pre>
</li></ol> 
</pre>  <img width="16" alt="warning" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/warning.gif" height="16" border="0" /> Both daemons will use  /var/log/xrootd/frmd.log for logging.
<p />
-- <a href="/bin/view/Main/DouglasStrain" class="twikiLink">DouglasStrain</a> - 01 Sep 2011</div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Documentation<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Documentation/RPMTempDocuments" class="twikiLink">RPMTempDocuments</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>InstallXrootd</span> <br />    
Topic revision: r2 - 02 Sep 2011 - 18:03:29 - <a href="/bin/view/Main/TanyaLevshina" class="twikiLink">TanyaLevshina</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />