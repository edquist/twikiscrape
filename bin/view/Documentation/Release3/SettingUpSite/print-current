<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> SettingUpSite &lt; Documentation/Release3 &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Documentation/Release3/SettingUpSite?_T=16 Feb 2017" type="application/x-wiki" title="edit SettingUpSite" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Documentation/Release3/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Documentation/Release3/SettingUpSite"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFFFFF;
	}
	.patternBookView {
		border-color:#FFFFFF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <pre class="rootscreen">
<p style="font-size:20px">
***This document is a rough draft and probably has
missing or incorrect information.***
</p>
</pre>
<p />
<p />
<h1><a name="Setting_Up_an_OSG_Site"></a> Setting Up an OSG Site </h1>
<p />
An OSG <a href="/bin/view/Documentation/GlossaryOfTerms#DefsSite" class="twikiAnchorLink">site</a> is usually a
cluster of computers configured to accept OSG jobs. This document
presents the information necessary to set up a site. There is an
administrative part to this and a technical part. The steps are as
follows.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Do_Background_Reading"></a> Do Background Reading </span></h2>
<p />
Please start with the links on the
<a href="http://www.opensciencegrid.org/about" target="_top">OSG About page</a>. 
<p />
The <a href="/bin/view/Documentation/UsingTheGrid" class="twikiLink">Using The Grid</a> page has more details, mostly from the user's
point of view, and is at least worth skimming now.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Identify_VO_s_That_Will_Own_the"></a> Identify VO(s) That Will Own the Site </span></h2>
<p />
There may already be one that would own the site (you
would most likely already know this), or it may be
necessary to create a new VO. There is some
documentation on the page about
<a href="/bin/view/Documentation/Release3/NavOsgVO" class="twikiLink">virtual organizations</a>.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Get_certificates"></a> Get certificates </span></h2>
<p />
X509 certificates are the main way to authenticate on
the Open Science Grid, although the OSG is trying ways
for grid users to run jobs without personal
certificates.
<p />
Obtaining certificates to identify yourself and your
servers may take a few days.
<p />
<h3><a name="Get_an_X509_Personal_Certificate"></a> Get an X509 Personal Certificate </h3>
<p />
A personal certificate is necessary to run jobs for
testing, to access storage, and to authenticate with
the OSG web sites. Please follow the
<a href="/bin/view/Documentation/CertificateGetWeb" class="twikiLink">OSG instructions</a>
to obtain one.
<p />
If you already have an X509 certificate for some other
purpose then it may also be recognized on OSG. {The
supported CAs are in the osg-ca-certs rpm. Is there a
URL for this?} Some schools and labs also issue their
own certificates.
<p />
<p />
<h3><a name="Become_a_Gridadmin"></a> Become a Gridadmin </h3>
<p />
Host and service certificates are required to set up
the site. A gridadmin is a person designated by a site
who can approve or deny OSG host and service
certificate requests for your site. Basically this
means verifying that each certificate request is
allowed.  The gridadmin does not have to be the same
person who acts as a sysadmin for the site.
<p />
The gridadmin should
<a href="/bin/view/Operations/OIMRegistrationInstructions#Registering_Yourself" class="twikiAnchorLink">register their personal certificate in OIM</a>.  Then they should
click on the "Request for Griddmin Enrollment" button
on the top left corner of and
<a href="https://oim.grid.iu.edu/oim/gridadmin" target="_top">fill out the form</a>.
<p />
Once you are set up as a gridamin, you can approve host
certificates that had been
<a href="/bin/view/Documentation/Release3/GetHostServiceCertificates#Request_a_Host_Certificate" class="twikiAnchorLink">requested</a>  (by anyone) 
with a command like this
<p />
<pre class="rootscreen">
   $ osg-gridadmin-cert-request --hostname=gandalf.yoursite.edu
</pre>
<p />
The gridadmin would go to "My Requests" under
<p />
<blockquote>
    <a href="https://oim.grid.iu.edu/oim/certificatehost" target="_top">https://oim.grid.iu.edu/oim/certificatehost</a>
</blockquote>
<p />
to approve these. The certificate should be issued in a
couple minutes with no further action.
<p />
We also have some general documentation about
<a href="/bin/view/Security/PKIDocumentationIndex" class="twikiLink">OSG security</a>.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Decide_on_the_Site_Architecture"></a> Decide on the Site Architecture </span></h2>
<p />
We have a  document for <a href="/bin/view/Documentation/Release3/SitePlanning" class="twikiLink">site planning</a> 
in general, and one for  <a href="/bin/view/Documentation/Release3/NavAdminSmallSites" class="twikiLink">small sites</a>
that describe the different components of a site.
<p />
<p />
There are two steps which are mostly independent:
getting the site to accept jobs from OSG users, and
being able to submit jobs to OSG.
<p />
<h3><a name="Arranging_for_the_Site_to_Accept"></a> Arranging for the Site to Accept Jobs </h3>
<p />
All sites must have what is called a 'compute element'
or CE, which coordinates the work on the site, so we
suggest starting by
<a href="/bin/view/Documentation/Release3/InstallComputeElement" class="twikiLink">installing, registering, and testing one</a>.
<p />
Likely you should also
<a href="/bin/view/Documentation/Release3/InstallOSGClient" class="twikiLink">install an OSG-recommended set of software</a> on each worker
node.
<p />
<p />
<h3><a name="How_Users_May_Submit_Jobs_to_the"></a> How Users May Submit Jobs to the Open Science Grid </h3>
<p />
The easiest way for users to submit jobs to other OSG
sites is by using resources maintained by OSG Staff:
<p /> <ul>
<li> If there are just a few users, then OSG may be able     to make them accounts on some OSG-owned interactive     login machines. We typically direct individual users to <a href="http://osgconnect.net/" target="_top">OSG Connect</a>     and groups of users to a machine called xd-login.opensciencegrid.org.
</li></ul> 
<p /> <ul>
<li> If more usage is expected, then users may be able to     use <a href="http://bosco.opensciencegrid.org/" target="_top">BOSCO</a> or     <span class="twikiNewLink">flocking<a href="/bin/edit/Trash/Trash/Trash/Trash/CampusGrids/InstallCondorFlockSubmit?topicparent=Documentation/Release3.SettingUpSite" rel="nofollow" title="flocking (this topic does not yet exist; you can create it)">?</a></span> to     submit jobs to OSG from your own site's <a href="/bin/view/Documentation/Release3/InstallOSGClient" class="twikiLink">submit host</a>,     which you'd have to install.
</li></ul> 
<p /> <ul>
<li> If lots of usage is expected, then installing a     <a href="/bin/view/Documentation/Release3/InstallGlideinWMSFrontend" class="twikiLink">glideinWMS front end</a>     may be worthwhile.
</li></ul> 
<p />
A site may also submit jobs entirely using its own
resources, usually either through
<a href="/bin/view/Documentation/Release3/InstallOSGClient" class="twikiLink">Condor-G</a>
or by installing a
<a href="/bin/view/Documentation/Release3/InstallGlideinWMSFactory" class="twikiLink">glideinWMS factory</a>. Running on multiple sites with Condor-G is
awkward. GlideinWMS works well for this but can be
time-consuming to install and maintain.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Supporting_Globally_Accessible_S"></a> Supporting Globally-Accessible Storage at a Site </span></h2>
<p />
Many sites have <a href="/bin/view/Storage/WebHome" class="twikiLink">storage</a> that is
accessible from all of the worker nodes.
<p />
One part of storage that has become important is a
shared, read-only file system called
<a href="/bin/view/Documentation/Release3/InstallCvmfs" class="twikiLink">CVMFS</a>
for distributing software.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Contact_Information"></a> Contact Information </span></h2>
<p /> <ul>
<li> Please contact the user support team for help        at <a href="mailto&#58;user&#45;support&#64;opensciencegrid&#46;org">user-support&#64;opensciencegrid.org</a> .      Job submission and storage are especially evolving      and complicated topics on the OSG. We suggest      discussing them with Open Science Grid user support      team.
</li></ul> 
<p /> <ul>
<li> Please subscribe to the     <span class="twikiNewLink">OSG-General and OSG-Sites email lists<a href="/bin/edit/Documentation/Release3/ContactsMailingLists?topicparent=Documentation/Release3.SettingUpSite" rel="nofollow" title="OSG-General and OSG-Sites email lists (this topic does not yet exist; you can create it)">?</a></span>.
</li></ul> 
<p /> <ul>
<li> After the basic functionality of the site is working,     you should also attend <a href="/bin/view/Operations/WebHome" class="twikiLink">a meeting of the OSG-Operations team</a> one Monday to introduce your site.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="General_References"></a> General References </span></h2>
<p />
There is a list of
<a href="/bin/view/Documentation/Release3" class="twikiLink">all the different documentation available</a>, most of it potentially
useful to site administrators.  We recommend at least reading
over the list of topics to start with.
<p />
There is also a
<a href="/bin/view/Documentation/GlossaryOfTerms" class="twikiLink">glossary of terms used in OSG</a>.
<p />
<p />
<p />
<p /></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Documentation/Release3<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>SettingUpSite</span> <br />    
Topic revision: r6 - 06 Dec 2016 - 18:12:44 - <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />