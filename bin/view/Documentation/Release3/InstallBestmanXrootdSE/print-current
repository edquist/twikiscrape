<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> InstallBestmanXrootdSE &lt; Documentation/Release3 &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Documentation/Release3/InstallBestmanXrootdSE?_T=16 Feb 2017" type="application/x-wiki" title="edit InstallBestmanXrootdSE" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Documentation/Release3/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Documentation/Release3/InstallBestmanXrootdSE"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFFFFF;
	}
	.patternBookView {
		border-color:#FFFFFF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--TWISTYPLUGIN_TWISTY--><style type="text/css" media="all">
@import url("https://twiki.opensciencegrid.org/twiki/pub/TWiki/TwistyContrib/twist.css");
</style>
<script type='text/javascript' src='https://twiki.opensciencegrid.org/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js'></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikiPref.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TwistyContrib/twist.compressed.js"></script>
<script type="text/javascript">
// <![CDATA[
var styleText = '<style type="text/css" media="all">.twikiMakeVisible{display:inline;}.twikiMakeVisibleInline{display:inline;}.twikiMakeVisibleBlock{display:block;}.twikiMakeHidden{display:none;}</style>';
document.write(styleText);
// ]]>
</script>

<!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

<!--TABLEPLUGIN_table4--><style type="text/css" media="all">
.tableSortIcon img {padding-left:.3em; vertical-align:text-bottom;}
</style></head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <link rel="stylesheet" type="text/css" href="https://twiki.opensciencegrid.org/twiki/pub/Documentation/Tools/exercises.css">
<h1><a name="Install_Bestman_Xrootd_SE"></a>  Install Bestman Xrootd SE </h1>
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#About_this_Document"> About this Document</a>
</li> <li> <a href="?cover=print#Requirements"> Requirements</a> <ul>
<li> <a href="?cover=print#Host_and_OS"> Host and OS</a>
</li> <li> <a href="?cover=print#Users"> Users</a>
</li> <li> <a href="?cover=print#Certificates"> Certificates</a>
</li> <li> <a href="?cover=print#Networking"> Networking</a>
</li></ul> 
</li> <li> <a href="?cover=print#Install_Instructions"> Install Instructions</a>
</li> <li> <a href="?cover=print#Install_the_Yum_Repositories_req"> Install the Yum Repositories required by OSG</a> <ul>
<li> <a href="?cover=print#Install_EPEL"> Install EPEL</a>
</li> <li> <a href="?cover=print#Install_the_Yum_priorities_packa"> Install the Yum priorities package</a>
</li> <li> <a href="?cover=print#Install_OSG_Repositories"> Install OSG Repositories</a>
</li> <li> <a href="?cover=print#Certificates_AN1"> Certificates </a>
</li> <li> <a href="?cover=print#Package_installation_instruction"> Package installation instructions</a>
</li> <li> <a href="?cover=print#Configuring_GridFTP_Authorizatio"> Configuring GridFTP Authorization</a> <ul>
<li> <a href="?cover=print#0_0_1_Configuring_Gridmap_Suppor">0.0.1  Configuring Gridmap Support</a>
</li> <li> <a href="?cover=print#0_0_2_Configuring_GUMS_support">0.0.2  Configuring GUMS support</a>
</li></ul> 
</li> <li> <a href="?cover=print#Configuring_GridFTP_XRootD_suppo"> Configuring GridFTP XRootD support</a>
</li> <li> <a href="?cover=print#Configuring_xrootdfs"> Configuring xrootdfs</a> <ul>
<li> <a href="?cover=print#Optional_Configuring_secured_xro"> (Optional) Configuring secured xrootdfs</a>
</li></ul> 
</li> <li> <a href="?cover=print#Edit_Bestman_Settings">Edit Bestman Settings</a> <ul>
<li> <a href="?cover=print#Configuring_Gridmap_Support"> Configuring Gridmap Support</a>
</li> <li> <a href="?cover=print#Configuring_GUMS_support"> Configuring GUMS support</a>
</li></ul> 
</li> <li> <a href="?cover=print#Modify_etc_sudoers"> Modify /etc/sudoers</a> <ul>
<li> <a href="?cover=print#Optional_Copying_certificates_to"> (Optional) Copying certificates to a bestman location</a>
</li></ul> 
</li> <li> <a href="?cover=print#Configure_Xrootd_Gratia_Probes"> Configure Xrootd Gratia Probes</a>
</li></ul> 
</li> <li> <a href="?cover=print#Validation"> Validation</a>
</li> <li> <a href="?cover=print#Starting_Services"> Starting Services</a>
</li> <li> <a href="?cover=print#Stopping_Services"> Stopping Services</a>
</li> <li> <a href="?cover=print#Notes_on_Upgrading_BeStMan"> Notes on Upgrading BeStMan</a>
</li> <li> <a href="?cover=print#Screen_Dump_of_Install_Procedure"> Screen Dump of Install Procedure </a>
</li> <li> <a href="?cover=print#How_to_get_Help"> How to get Help?</a>
</li></ul> 
</div>
<p />
<h1><a name="About_this_Document"></a> About this Document </h1>
<p />
This page explains how to install the BeStMan Storage Element with underlying XRootD storage.
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  Starting on 11 February 2014, all OSG-issued Digicert certificates (host, service, and personal) use the SHA-2 algorithm. <span style="color: #F60;">The BeStMan software must be on a recent version to support SHA-2 certificates.</span> Please visit <a href="/bin/view/Documentation/Release3/SHA2Compliance" class="twikiLink">our SHA-2 compliance page</a> for more information about minimum required versions of software components.
</dd></dl> 
<p />
<p />
<h1><a name="Requirements"></a> Requirements </h1>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Host_and_OS"></a> Host and OS </span></h2>
<p /> <ul>
<li> OS is Red Hat Enterprise Linux 5, 6, 7, and variants (see <a href="/bin/view/Documentation/Release3/SupportedOperatingSystems" class="twikiLink">details...</a>). 
</li> <li> <a href="http://fedoraproject.org/wiki/EPEL" target="_top">EPEL</a> repos enabled.
</li> <li> A working XRootD Server.  See <a href="/bin/view/Documentation/Release3/InstallXrootd" class="twikiLink">InstallXrootd</a> for details.
</li> <li> Root access
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Users"></a> Users </span></h2>
<p />
This installation will create several users unless they are already created.
<p />
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table1" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallBestmanXrootdSE?cover=print;sortcol=0;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">User</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallBestmanXrootdSE?cover=print;sortcol=1;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Comment</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>bestman</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Used by Bestman SRM server (needs sudo access). </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>daemon</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Used by globus-gridftp-server. </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>xrootd</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> Used by the xrootd client to contact xrootd redirector. </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
<p />
For this package to function correctly, you will have to create the users 
needed for grid operation.  Any user that can be authenticated should be created.
<p />
For grid-mapfile users, each line of the grid-mapfile is a certificate/user pair.  Each user in this file should be created on the server.
<p />
For gums users, this means that each user that can be authenticated by gums should be created on the server.
<p />
Note that these users must be kept in sync with the authentication method.  For instance, if new users or rules are added in gums, then new users should also be added here.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Certificates"></a> Certificates </span></h2>
<p />
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table2" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallBestmanXrootdSE?cover=print;sortcol=0;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Certificate</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallBestmanXrootdSE?cover=print;sortcol=1;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">User that owns certificate</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallBestmanXrootdSE?cover=print;sortcol=2;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Path to certificate</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Host certificate </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <code>root</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> <code>/etc/grid-security/hostcert.pem</code> <br> <code>/etc/grid-security/hostkey.pem</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> Bestman service certificate </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLast"> <code>bestman</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> <code>/etc/grid-security/bestman/bestmancert.pem</code> <br> <code>/etc/grid-security/bestman/bestmankey.pem</code> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
<a href="/bin/view/Documentation/Release3/InstallCertScripts" class="twikiLink">Instructions</a> to request a service certificate.
<p />
You will also need a copy of CA certificates (see below).
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Networking"></a> Networking </span></h2>
<p />
<p />
<p />
<!-- No variables can be defined because will not be visible in the including document
Need this because double quotes used in Y in TWikiPreferences or ICON cause problems (replaced with single ones) <ul>
<li> Set ALTy = <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' />    
</li></ul> 
ALTy replacend inline whenever the icon is needed.
-->
For more details on overall Firewall configuration, please see our <a href="/bin/view/Documentation/Release3/FirewallInformation" class="twikiLink">Firewall documentation</a>.
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
      <table cellspacing="0" id="table3" cellpadding="0" class="twikiTable" rules="cols" border="1"> 
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallBestmanXrootdSE?cover=print;sortcol=0;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Service Name</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallBestmanXrootdSE?cover=print;sortcol=1;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Protocol</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallBestmanXrootdSE?cover=print;sortcol=2;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Port Number</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol3"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallBestmanXrootdSE?cover=print;sortcol=3;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Inbound</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol4"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallBestmanXrootdSE?cover=print;sortcol=4;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Outbound</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol5 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallBestmanXrootdSE?cover=print;sortcol=5;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Comment</font></a> </th>
		</tr> 
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <a href="/bin/view/Documentation/GlossaryG#DefsGridResourceAllocationAndManagement" class="twikiAnchorLink">GRAM</a> callback </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol1"> tcp </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2"> <code>GLOBUS_TCP_PORT_RANGE</code> </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol3"> <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' /> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol4"> &nbsp; </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol5 twikiLastCol"> contiguous range of ports </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <a href="/bin/view/Documentation/GlossaryG#DefsGridResourceAllocationAndManagement" class="twikiAnchorLink">GRAM</a> callback </td>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol1"> tcp </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2"> <code>GLOBUS_TCP_SOURCE_RANGE</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol3"> &nbsp; </td>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol4"> <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' /> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol5 twikiLastCol"> contiguous range of ports </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <a href="/bin/view/Documentation/GlossaryG#DefsGridFTP" class="twikiAnchorLink">GridFTP</a> </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol1"> tcp </td>
			<td bgcolor="#ffffff" align="right" valign="top" class="twikiTableCol2"> 2811 and <code>GLOBUS_TCP_SOURCE_RANGE</code> </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol3"> <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' /> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol4"> &nbsp; </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol5 twikiLastCol"> contiguous range of ports </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <a href="/bin/view/Documentation/GlossaryS#DefsSrm" class="twikiAnchorLink">Storage Resource Manager</a> </td>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol1"> tcp </td>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol2"> 8080 </td>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol3"> <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' /> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol4"> &nbsp; </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol5 twikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <a href="/bin/view/Documentation/GlossaryS#DefsSrm" class="twikiAnchorLink">Storage Resource Manager</a> </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol1 twikiLast"> tcp </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol2 twikiLast"> 8443 </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol3 twikiLast"> <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' /> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol4 twikiLast"> &nbsp; </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol5 twikiLastCol twikiLast"> &nbsp; </td>
		</tr> </table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
<p />
<h1><a name="Install_Instructions"></a> Install Instructions </h1>
<p />
Note that this package is primarily intended for Bestman-Gateway acting as an endpoint for XRootD server.  If you have not installed an XRootD server yet, follow the instructions in <a href="/bin/view/Documentation/Release3/InstallXrootd" class="twikiLink">InstallXrootd</a>.
<p />
<p />
<p />
<h1><a name="Install_the_Yum_Repositories_req"></a> Install the Yum Repositories required by OSG </h1>
<p />
The OSG RPMs currently support Red Hat Enterprise Linux 5, 6, 7, and variants (see <a href="/bin/view/Documentation/Release3/SupportedOperatingSystems" class="twikiLink">details...</a>).
<p />
OSG RPMs are distributed via the OSG yum repositories. Some packages depend on packages distributed via the <a href="http://fedoraproject.org/wiki/EPEL" target="_top">EPEL</a> repositories. So both repositories must be enabled.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Install_EPEL"></a> Install EPEL </span></h2>
<p /> <ul>
<li> Install the EPEL repository, if not already present. <strong>Note:</strong> This enables EPEL by default. Choose the right version to match your OS version. <pre class="rootscreen">
<font color="#ff0000"># EPEL 5 (For RHEL 5, CentOS 5, and SL 5) </font>
[root@client ~]$ curl -O https://dl.fedoraproject.org/pub/epel/epel-release-latest-5.noarch.rpm
[root@client ~]$ rpm -Uvh epel-release-latest-5.noarch.rpm
<font color="#ff0000"># EPEL 6 (For RHEL 6, CentOS 6, and SL 6) </font>
[root@client ~]$ rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-6.noarch.rpm
<font color="#ff0000"># EPEL 7 (For RHEL 7, CentOS 7, and SL 7) </font>
[root@client ~]$ rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</pre>       <strong>WARNING</strong>: if you have your own mirror or configuration of the EPEL repository, you <strong>MUST</strong> verify that the OSG repository has a better yum priority than EPEL (<a href="/bin/view/Documentation/Release3/InstallBestPractices#YumPriorities" class="twikiAnchorLink">details</a>). Otherwise, you will have strange dependency resolution (<em>depsolving</em>) issues.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Install_the_Yum_priorities_packa"></a> Install the Yum priorities package </span></h2>
<p />
For packages that exist in both OSG and EPEL repositories, it is important to prefer the OSG ones or else OSG software installs may fail. Installing the Yum priorities package enables the repository priority system to work.
<p /> <ol>
<li> <p>Choose the correct package name based on your operating system’s major version:</p> <ul>
<li> For EL&nbsp;5 systems, use <code>yum-priorities</code>
</li> <li> For EL&nbsp;6 and EL&nbsp;7 systems, use <code>yum-plugin-priorities</code>
</li></ul> 
</li> <li> <p>Install the Yum priorities package:</p>       <pre class="rootscreen">[root@client ~]$ yum install <em>PACKAGE</em></pre>       <p>Replace <em><code>PACKAGE</code></em> with the package name from the previous step.</p>
</li> <li> <p>Ensure that <code>/etc/yum.conf</code> has the following line in the <code>[main]</code> section (particularly when using ROCKS), thereby enabling Yum plugins, including the priorities one:</p>       <pre class="file">plugins=1</pre>       <strong>NOTE</strong>: If you do not have a required key you can force the installation using <code>--nogpgcheck</code>; e.g., <code>yum install --nogpgcheck yum-priorities</code>.
</li></ol> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Install_OSG_Repositories"></a> Install OSG Repositories </span></h2>
<p />
<!--   1. <p>First, determine which OSG series you will be installing; 3.1 or 3.2.  The OSG 3.1 and 3.2 series are each well tested and contain the entire OSG software stack.  The 3.1 series continues to support all packages that have been released throughout its lifetime, while the 3.2 series contains newer versions of software (including HTCondor, Hadoop, glideinWMS) and removes support for obsolete packages (including CEMonitor).  Initially, most packages are identical between 3.1 and 3.2, but we expect the new series to diverge over time. <br/><br/>Note that some packages (eg, Hadoop) do not inter-operate between 3.1 and 3.2, and therefore require all nodes to use the same series.</p> -->
<p />
<ol>
   <li>
      <p>If you are upgrading from OSG 3.1 (or 3.2) to OSG 3.2 (or 3.3), remove the old OSG repository definition files and clean the Yum cache:</p>         <pre class="rootscreen">[root@client ~]$ yum clean all
[root@client ~]$ rpm -e osg-release</pre>       <p>This step ensures that local changes to <code>*.repo</code> files will not block the installation of the new OSG repositories. After this step, <code>*.repo</code> files that have been changed will exist in <code>/etc/yum.repos.d/</code> with the <code>*.rpmsave</code> extension. After installing the new OSG repositories (the next step) you may want to apply any changes made in the <code>*.rpmsave</code> files to the new <code>*.repo</code> files.</p>
   </li>
   <li>
      <p>Install the OSG repositories using one of the following methods depending on your EL version:</p>      <ol>
         <li>
            <p>For EL versions greater than EL5, install the files directly from <code>repo.grid.iu.edu</code>:</p>            <pre class="rootscreen">[root@client ~]$ rpm -Uvh <font color="#ff0000">URL</font></pre>            <p>Where <code><font color="#ff0000">URL</font></code> is one of the following:</p> <table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table4" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallBestmanXrootdSE?cover=print;sortcol=0;table=4;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Series</font></a> </th>
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallBestmanXrootdSE?cover=print;sortcol=1;table=4;up=0#sorted_table" title="Sort by this column"><font color="#252b37">EL6 URL (for RHEL 6, CentOS 6, or SL 6)</font></a> </th>
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallBestmanXrootdSE?cover=print;sortcol=2;table=4;up=0#sorted_table" title="Sort by this column"><font color="#252b37">EL7 URL (for RHEL 7, CentOS 7, or SL 7)</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <font color="#252b37">OSG 3.2</font> </th>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol1"> <code>https://repo.grid.iu.edu/osg/3.2/osg-3.2-el6-release-latest.rpm</code> </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol2 twikiLastCol"> N/A </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <font color="#252b37">OSG 3.3</font> </th>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol1 twikiLast"> <code>https://repo.grid.iu.edu/osg/3.3/osg-3.3-el6-release-latest.rpm</code> </td>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> <code>https://repo.grid.iu.edu/osg/3.3/osg-3.3-el7-release-latest.rpm</code> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
         </li>
         <li>
            <p>For EL5, download the repo file and install it using the following:</p>
            <pre class="rootscreen">[root@client ~]$ curl -O https://repo.grid.iu.edu/osg/3.2/osg-3.2-el5-release-latest.rpm
[root@client ~]$ rpm -Uvh osg-3.2-el5-release-latest.rpm</pre>
         </li>
      </ol>
   </li>
</ol>
<p />
For more details, please see our <a href="/bin/view/Documentation/Release3/YumRepositories" class="twikiLink">yum repository documentation</a>.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Certificates_AN1"></a> Certificates </span></h2>
GridFTP, which is a part of this meta-package, requires a certificate package to run.  If you require a specific certificate package, follow the <a href="/bin/view/Documentation/Release3/InstallCertAuth" class="twikiLink">InstallCertAuth</a> instructions to install it.   If you do not install a grid certificate package first, the install procedure will install one for you as part of its dependencies.  (usually osg-ca-certs).
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Package_installation_instruction"></a> Package installation instructions </span></h2>
<p /> <ol>
<li> Install Java using <a href="/bin/view/Documentation/Release3/InstallSoftwareWithOpenJDK7#InstallingJava" class="twikiAnchorLink">these instructions</a>
</li> <li> Install the BeStMan Gateway XRootD Storage element meta-package:<pre class="rootscreen">
[root@client ~]$ yum install osg-se-bestman-xrootd
</pre> 
</li></ol> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Configuring_GridFTP_Authorizatio"></a> Configuring GridFTP Authorization </span></h2>
<p />
<p />
There are two authorization options:
<p /> <ul>
<li> Gridmap file
</li> <li> GUMS authentication server
</li></ul> 
<p />
Please choose one of these and follow the instructions in one of the two following sections.
<p />
<h3><a name="0_0_1_Configuring_Gridmap_Suppor"></a> 0.0.1  Configuring Gridmap Support </h3>
<p />
<p />
By default, GridFTP uses a gridmap file, found in <code>/etc/grid-security/grid-mapfile</code>.
This file is not generated by default.  There are two ways you can generate this file.
You can generate this file manually, by including DN/username combinations.  This is most
useful for debugging.  Otherwise, you can install edg-mkgridmap, which will periodically contact a list of VOMS servers that you specify. It assembles a list of users from those servers and creates a grid-mapfile.  This grid-mapfile serves both as a list of authorized users and provides a mapping from user dns to local user ids. 
<p />
To install edg_mkgridmap, perform the following steps
<pre class="rootscreen">
yum install edg-mkgridmap
</pre>
Review <code>/etc/edg-mkgridmap.conf</code> to make sure that it has all VOs that you are interested in and also to comment out any VOs that you do not wish to support. 
<pre class="rootscreen">
vi /etc/edg-mkgridmap.conf
</pre>
This utility <code>edg-mkgridmap</code> runs as a cronjob <code>/etc/cron.d/edg-mkgridmap-cron</code> (by default every 6 hours). You can also run <code>edg-mkgridmap</code> manually to see that it generates <code>/etc/grid-security/grid-mapfile</code>.  
<pre class="rootscreen">
edg-mkgridmap
</pre>
Then, you can enable/start the service.
<pre class="rootscreen">
/sbin/service edg-mkgridmap start
/sbin/chkconfig edg-mkgridmap on
</pre>
<p />
You can read more on this page:
<a href="/bin/view/Documentation/Release3/InstallComputeElement#5_2_Using_edg_mkgridmap_for_auth" class="twikiAnchorLink">edg_mkgridmap (on the CE)</a>
<p />
<p />
<h3><a name="0_0_2_Configuring_GUMS_support"></a> 0.0.2  Configuring GUMS support </h3>
<p />
<p />
By default, GridFTP uses a gridmap file, found in <code>/etc/grid-security/gridmap-file</code>.
If you want to use GUMS security (recommended), you will need to enable it using the following steps:
<p />
First, edit <code>/etc/grid-security/gsi-authz.conf</code> and uncomment the globus callout.
<pre class="file">
globus_mapping liblcas_lcmaps_gt4_mapping.so lcmaps_callout
</pre> 
Note that this used to be the full path to the library (<code>/usr/lib64</code> or <code>/usr/lib</code>), but now we 
rely on the linker for proper resolution in this file.
<p />
Next edit <code>/etc/lcmaps.db</code> to edit your gums information:
<pre class="file">

...
gumsclient = "lcmaps_gums_client.mod"
             "-resourcetype ce"
             "-actiontype execute-now"
             "-capath /etc/grid-security/certificates"
             "-cert   /etc/grid-security/hostcert.pem"
             "-key    /etc/grid-security/hostkey.pem"
             "--cert-owner root"
# Change this URL to your GUMS server
             "--endpoint https://<font color="#ff0000">gums.fnal.gov:8443</font>/gums/services/GUMSXACMLAuthorizationServicePort"
</pre> 
<p />
If you would like to run SAZ, you will need to enable the relevant lines in the above file as well (more documentation to be added later).
<p />
<p />
<p />
<p />
For more information on GridFTP settings and configuration, see <a href="/bin/view/Documentation/Release3/InstallOSGGridFTP" class="twikiLink">InstallOSGGridFTP</a>.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Configuring_GridFTP_XRootD_suppo"></a> Configuring GridFTP XRootD support </span></h2>
<p />
<p />
In order to configure GridFTP to work with XRootD, you will need to configure the 
Data Storage Interface (DSI) module with Xrootd pre-load libraries. This module is used to access Xrootd and POSIX file systems. 
<p />
Edit <code>/etc/sysconfig/xrootd-dsi</code> (create it if it is missing) and set XROOTD_VMP (XRootD Virtual Mount Point) 
to use your Xrootd redirector.
<pre class="file">
export XROOTD_VMP="<font color="#ff0000">redirector:1094:/local_path=/remote_path</font>"
</pre> 
<p />
<strong>NOTE:</strong> The syntax of the above environment variable is a little confusing, so make sure that you 
adhere to the following directions for XROOTD_VMP (Virtual Mount Point): <ul>
<li> Redirector:  This is the hostname and domain of the local XRootD redirector server.
</li> <li> local_path:  This is the path used to access the GridFTP server (ie this server).
</li> <li> remote_path:  This is the path used to access the XRootD redirector.
</li></ul> 
<p />
<strong>Note:</strong> The xrootd-dsi module overloads the <code>gridftp.conf</code> file and uses the alternate file <code>/etc/xrootd-dsi/gridftp-xrootd.conf</code>.  If you have made local changes to your <code>gridftp.conf</code> file, then you will need to carry them over to <code>/etc/xrootd-dsi/gridftp-xrootd.conf</code>.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Configuring_xrootdfs"></a> Configuring xrootdfs </span></h2>
<p />
<p />
<p />
<p />
Though the DSI module will work for GridFTP, you will need a FUSE mount in order for BeStMan to work correctly with XRootD.  
Configure it using the following steps.
<p />
Modify <code><b>/etc/fstab</b></code> by adding the following entries:
<pre class="file">
....
xrootdfs                <font color="#ff0000">/mnt/xrootd</font>              fuse    rdr=xroot://<font color="#ff0000">redirector1.domain.com</font>:1094/<font color="#ff0000">/path/</font>,uid=xrootd 0 0
</pre>
Replace <code>/mnt/xrootd</code> with the path that you would like to access with BeStMan.  This should also match the GridFTP settings for the <code>XROOTD_VMP</code> local path.
Create <code><b>/mnt/xrootd</b></code> directory.
Once you are finished, you can mount it:
<pre class="file">
mount /mnt/xrootd
</pre>
<p />
You should now be able to run UNIX commands such as <code>ls /mnt/xrootd</code> to see the contents of the XRootD server.
<p />
<p />
<p />
<p />
<h3><a name="Optional_Configuring_secured_xro"></a> (Optional) Configuring secured xrootdfs </h3>
<p />
<p />
<p />
If you want to enable security for access to xrootd via xrootdfs you will need to modify xrootd  configuration and perform several steps to make xrootdfs secured. <ol>
<li> On the xrootd redirector node, execute the following command:<pre class="rootscreen">$ xrdsssadmin -k  <font color="#ff0000">my_key_name</font> -u anybody -g usrgroup add <font color="#ff0000">keyfile</font> </pre> e.g:<pre class="rootscreen">xrdsssadmin -k top_secret  -u anybody -g usrgroup add /etc/xrootd/xrootd.key</pre>
</li> <li> Set ownership<pre class="rootscreen">chown xrootd.xrootd /etc/xrootd/xrootd.key</pre> 
</li> <li> On the node where xrootdfs is installed modify <code><b>/etc/fstab</b></code> add security information:<pre class="rootscreen">
xrootdfs                <font color="#ff0000">/mnt/xrootd</font>              fuse    rdr=xroot://<font color="#ff0000">redirector1.domain.com</font>:1094/<font color="#ff0000">/path/redirector1</font>,uid=xrootd,sss=<font color="#ff0000">keyfile</font>  0 0</pre>
</li> <li> On all xrootd data servers and redirector node, modify xrootd configuration (<code><b>/etc/xrootd/xrootd-clustered.cfg</b></code>) by adding the following segment: <pre class="file">
     # ENABLE_SECURITY_BEGIN
        xrootd.seclib /usr/lib64/libXrdSec.so
        #the line below should be before "sec.protocol ... unix"
        <font color="#ff0000">sec.protocol /usr/lib64  sss -s keyfile</font>
        sec.protocol /usr/lib64 unix
        # this specify that we use the 'unix' authentication module, additional one can be specified.
        # this is the authorization file
        acc.authdb /etc/xrootd/auth_file
        ofs.authorize
        # ENABLE_SECURITY_END
</pre>
</li> <li> On all xrootd data server nodes, edit /etc/xrootd/auth_file to add authorized users of the form <code>u <font color="#ff0000">username</font> <font color="#ff0000">/directoryname</font> lr</code> where "lr" is the permission set.
</li> <li> Copy  <font color="#ff0000">keyfile</font>  from redirector node to every data server node and the xrootdfs node.  Make sure that this file is owned by the <code>xrootd</code> user.
</li> <li> Restart xrootd cluster by following <a href="https://twiki.grid.iu.edu/bin/view/SoftwareTeam/HowToInstallXrootd" target="_top">these instructions</a>
</li> <li> On xroodfs node execute mount:<pre class="rootscreen">
$ mount <font color="#ff0000">/mnt/xrootd</font>
</pre>
</li> <li> Verify that you can access the mount point (df,ls) and can not write into unauthorized path, e.g:<pre class="rootscreen">
$ cp /bin/sh /mnt/xrootd/tlevshin/test1
cp: cannot create regular file `/mnt/xrootd/tlevshin/test1': Permission denied
</pre> Login as yourself and try, e.g:<pre class="rootscreen">
$ su - tlevshin
$ cp /bin/sh /mnt/xrootd/tlevshin/test1
</pre>
</li></ol> 
<p />
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Edit_Bestman_Settings"></a> Edit Bestman Settings </span></h2>
<p />
<p />
<p />
There are two authorization options:
<p /> <ul>
<li> Gridmap file
</li> <li> GUMS authentication server
</li></ul> 
<p />
Please choose one of these and follow the instructions in one of the two following sections.
<p />
<p />
<h3><a name="Configuring_Gridmap_Support"></a> Configuring Gridmap Support </h3>
<p />
By default, GridFTP uses a gridmap file, found in <code>/etc/grid-security/grid-mapfile</code>.
This file is not generated by default.  There are two ways you can generate this file.
You can generate this file manually, by including DN/username combinations.  This is most
useful for debugging.  Otherwise, you can use edg-mkgridmap, which will periodically contact a list of VOMS servers that you specify. It assembles a list of users from those servers and creates a grid-mapfile.  This grid-mapfile serves both as a list of authorized users and provides a mapping from user dns to local user ids.  edg-mkgridmap is already installed with OSG BeStMan SE packages.
<p />
In order to use edg-mkgridmap, review <code>/etc/edg-mkgridmap.conf</code> to make sure that it has all VOs that you are interested in and also to comment out any VOs that you do not wish to support. 
<pre class="rootscreen">
vi /etc/edg-mkgridmap.conf
</pre>
This utility <code>edg-mkgridmap</code> runs as a cronjob <code>/etc/cron.d/edg-mkgridmap-cron</code> (by default every 6 hours). You can also run <code>edg-mkgridmap</code> manually to see that it generates <code>/etc/grid-security/grid-mapfile</code>.  
<pre class="rootscreen">
edg-mkgridmap
</pre>
Then, you can enable/start the service.
<pre class="rootscreen">
/sbin/service edg-mkgridmap start
/sbin/chkconfig edg-mkgridmap on
</pre>
<p />
Next, you will have to modify <code>/etc/bestman2/conf/bestman2.rc</code> and change 
GridMapFileName from <code>/etc/bestman2/conf/grid-mapfile.empty</code> to:
<pre class="file">
GridMapFileName=/etc/grid-security/grid-mapfile
</pre>
<p />
In <code>/etc/sysconfig/bestman2</code>, change 
<pre class="file">
BESTMAN_GUMS_ENABLED=no
</pre>
<p />
<h3><a name="Configuring_GUMS_support"></a> Configuring GUMS support </h3>
<p />
<p />
By default, GridFTP uses a gridmap file, found in <code>/etc/grid-security/gridmap-file</code>.
If you want to use GUMS security (recommended), you will need to enable it using the following steps:
<p />
First, edit <code>/etc/grid-security/gsi-authz.conf</code> and uncomment the globus callout.
<pre class="file">
globus_mapping liblcas_lcmaps_gt4_mapping.so lcmaps_callout
</pre> 
Note that this used to be the full path to the library (<code>/usr/lib64</code> or <code>/usr/lib</code>), but now we 
rely on the linker for proper resolution in this file.
<p />
Next edit <code>/etc/lcmaps.db</code> to edit your gums information:
<pre class="file">

...
gumsclient = "lcmaps_gums_client.mod"
             "-resourcetype ce"
             "-actiontype execute-now"
             "-capath /etc/grid-security/certificates"
             "-cert   /etc/grid-security/hostcert.pem"
             "-key    /etc/grid-security/hostkey.pem"
             "--cert-owner root"
# Change this URL to your GUMS server
             "--endpoint https://<font color="#ff0000">gums.fnal.gov:8443</font>/gums/services/GUMSXACMLAuthorizationServicePort"
</pre> 
<p />
If you would like to run SAZ, you will need to enable the relevant lines in the above file as well (more documentation to be added later).
<p />
<p />
You will need to modify the following settings in <code>/etc/sysconfig/bestman2</code>
<pre class="file">
BESTMAN_GUMSCERTPATH=/etc/grid-security/bestman/bestmancert.pem
BESTMAN_GUMSKEYPATH=/etc/grid-security/bestman/bestmankey.pem
...
</pre>
<p />
You will need to modify the following settings in <code>/etc/bestman2/conf/bestman2.rc</code>
<pre class="file">
GUMSserviceURL=https://GUMS_HOST:8443/gums/services/GUMSXACMLAuthorizationServicePort
</pre>
<p />
<p />
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Modify_etc_sudoers"></a> Modify <code>/etc/sudoers</code> </span></h2>
<p />
<p />
<p />
<p />
BeStman requires the "sudo" command in order to write information as the proper user.
You will need to give the bestman user the proper permissions to run these commands.
<p />
Modify <code>/etc/sudoers</code> and comment the following line.
<pre class="file">
#Defaults    requiretty
</pre>
<p />
Then add the following lines at the end of the <code>/etc/sudoers</code> file.
<pre class="file">
Cmnd_Alias SRM_CMD = /bin/rm, /bin/mkdir, /bin/rmdir, /bin/mv, /bin/cp, /bin/ls
Runas_Alias SRM_USR = ALL, !root
bestman   ALL=(SRM_USR) NOPASSWD: SRM_CMD
</pre>
<p />
<p />
<p />
<h3><a name="Optional_Copying_certificates_to"></a> (Optional) Copying certificates to a bestman location </h3>
<p />
<p />
<p />
BeStMan requires a certificate pair to function.  In order to use lcg-utils, this must be a host
certificate (rather than a service certificate).  The following shows how to copy your certificates
<pre class="rootscreen">
cp /etc/grid-security/hostkey.pem /etc/grid-security/bestman/bestmankey.pem
cp /etc/grid-security/hostcert.pem /etc/grid-security/bestman/bestmancert.pem
chown -R bestman:bestman /etc/grid-security/bestman/
</pre> 
Then modify <strong>CertFileName</strong>, <strong>KeyFileName</strong> in <code>/etc/bestman2/conf/bestman2.rc</code>.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Configure_Xrootd_Gratia_Probes"></a> Configure Xrootd Gratia Probes </span></h2>
<p />
<p />
XRootD gratia probes can push monitoring information to a central gratia collector.  You may want to configure and enable Gratia xrootd transfer and storage probes in order to store this information.   The packages <code>gratia-probe-xrootd-storage</code> and <code>gratia-probe-xrootd-transfer</code> are installed as part of the above installation, but you will
need to configure them.
In order to do so you have to modify configuration <code><b>/etc/gratia/xrootd-transfer/ProbeConfig</b></code> and <code><b>/etc/gratia/xrootd-storage/ProbeConfig</b></code>:<pre class="file">
    CollectorHost="gratia-osg-<font color="#ff0000">itb</font>.opensciencegrid.org:80"
    SSLHost="gratia-osg-<font color="#ff0000">itb</font>.opensciencegrid.org:443"
    SSLRegistrationHost="gratia-osg-<font color="#ff0000">itb</font>.opensciencegrid.org:80"

    SiteName="<font color="#ff0000">YOUR SITE NAME</font>"
    Grid="OSG-<font color="#ff0000">ITB</font>"
    EnableProbe="<font color="#ff0000">1</font>"
</pre>
<strong>Note:</strong>  In the above files, you will need to configure the correct gratia hosts.  An example is given for ITB (Trash/Trash/Integration test bed) and test sites.  
For production sites, you can change <code>itb</code> to <code>prod</code>.
<p />
<p />
You will also need to configure <code><b>/etc/gums/gums-client.properties</b></code> in order to accurately collect grid resource usage and metrics by VO for transfer submitted using grid proxies or where voms proxy information is not available.<pre class="file">
gums.location=https://<font color="#ff0000">GUMS_HOST</font>:8443/gums/services/GUMSAdmin
gums.authz=https://<font color="#ff0000">GUMS_HOST</font>:8443/gums/services/GUMSXACMLAuthorizationServicePort
</pre>
<img width="16" alt="warning" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/warning.gif" height="16" border="0" /> if you are not using a default port (8443) you have to change it as well.
<p />
<p />
<p />
<h1><a name="Validation"></a> Validation </h1>
<p />
Validation can be done similar to a stand-alone BeStMan or GridFTP server.
For more information, see <a href="/bin/view/Documentation/Release3/InstallOSGBestmanSE#Validation_of_Service_Operation" class="twikiAnchorLink">BeStMan Validation</a>
and <a href="/bin/view/Documentation/Release3/InstallOSGGridFTP#Validation_of_services" class="twikiAnchorLink">GridFTP Validation</a>.
<p />
<h1><a name="Starting_Services"></a> Starting Services </h1>
1. fetch-crl
<p />
 You need to fetch the latest CA Certificate Revocation Lists (CRLs) and you should enable the fetch-crl service to keep the CRLs up to date:<pre class="rootscreen">
<font color="#ff0000"># For RHEL 5, CentOS 5, and SL5 </font>
[root@client ~]$ /usr/sbin/fetch-crl3   # This fetches the CRLs 
[root@client ~]$ /sbin/service fetch-crl3-boot start
[root@client ~]$ /sbin/service fetch-crl3-cron start
<font color="#ff0000"># For RHEL 6, CentOS 6, and SL6, or OSG 3 _older_ than 3.1.15 </font>
[root@client ~]$ /usr/sbin/fetch-crl   # This fetches the CRLs 
[root@client ~]$ /sbin/service fetch-crl-boot start
[root@client ~]$ /sbin/service fetch-crl-cron start
<font color="#ff0000"># For RHEL 7, CentOS 7, and SL7 </font>
[root@client ~]$ /usr/sbin/fetch-crl   # This fetches the CRLs 
[root@client ~]$ systemctl start fetch-crl-boot
[root@client ~]$ systemctl start fetch-crl-cron
</pre> For more details and options, please see our <a href="/bin/view/Documentation/Release3/InstallCertAuth#Managing_Certificate_Revocation" class="twikiAnchorLink">CRL documentation</a>.  
<p />
 To enable the fetch-crl service to keep the CRLs up to date after reboots:<pre class="rootscreen">
<font color="#ff0000"># For RHEL 5, CentOS 5, and SL5 </font>
[root@client ~]$ /sbin/chkconfig fetch-crl3-boot on
[root@client ~]$ /sbin/chkconfig fetch-crl3-cron on
<font color="#ff0000"># For RHEL 6, CentOS 6, and SL6, or OSG 3 _older_ than 3.1.15 </font>
[root@client ~]$ /sbin/chkconfig fetch-crl-boot on
[root@client ~]$ /sbin/chkconfig fetch-crl-cron on
<font color="#ff0000"># For RHEL 7, CentOS 7, and SL7 </font>
[root@client ~]$ systemctl enable fetch-crl-boot
[root@client ~]$ systemctl enable fetch-crl-cron
</pre> 
<p />
2. GridFTP
<p />
<p />
<p />
Starting GridFTP:
<pre class="rootscreen">
[root@client ~]$ service globus-gridftp-server start
</pre> 
<p />
<p />
3. Bestman
<p />
<p />
<pre class="rootscreen">
[root@client ~]$ service bestman2 start
</pre> 
To start Bestman automatically at boot time
<pre class="rootscreen">
[root@client ~]$ chkconfig bestman2 on
</pre>
<p />
<p />
4. Gratia transfer and storage probes
<p />
<p />
<pre class="rootscreen">
[root@client ~]$ service gratia-xrootd-transfer start
[root@client ~]$ service gratia-xrootd-storage start
</pre> 
<p />
<p />
<h1><a name="Stopping_Services"></a> Stopping Services </h1>
1. fetch-crl
<p />
* (other grid service running on the machine may still use it)  To stop fetch-crl:<pre class="rootscreen">
<font color="#ff0000"># For RHEL 5, CentOS 5, and SL5 </font>
[root@client ~]$ /sbin/service fetch-crl3-boot stop
[root@client ~]$ /sbin/service fetch-crl3-cron stop
<font color="#ff0000"># For RHEL 6, CentOS 6, and SL6, or OSG 3 _older_ than 3.1.15 </font>
[root@client ~]$ /sbin/service fetch-crl-boot stop
[root@client ~]$ /sbin/service fetch-crl-cron stop
<font color="#ff0000"># For RHEL 7, CentOS 7, and SL7 </font>
[root@client ~]$ systemctl stop fetch-crl-boot
[root@client ~]$ systemctl stop fetch-crl-cron
</pre> For more details and options, please see our <a href="/bin/view/Documentation/Release3/InstallCertAuth#Managing_Certificate_Revocation" class="twikiAnchorLink">CRL documentation</a>.  
<p />
* (other grid service running on the machine may still use it)  To disable the fetch-crl service:<pre class="rootscreen">
<font color="#ff0000"># For RHEL 5, CentOS 5, and SL5 </font>
[root@client ~]$ /sbin/chkconfig fetch-crl3-boot off
[root@client ~]$ /sbin/chkconfig fetch-crl3-cron off
<font color="#ff0000"># For RHEL 6, CentOS 6, and SL6, or OSG 3 _older_ than 3.1.15 </font>
[root@client ~]$ /sbin/chkconfig fetch-crl-boot off
[root@client ~]$ /sbin/chkconfig fetch-crl-cron off
<font color="#ff0000"># For RHEL 7, CentOS 7, and SL7 </font>
[root@client ~]$ systemctl disable fetch-crl-boot
[root@client ~]$ systemctl disable fetch-crl-cron
</pre> 
<p />
2. GridFTP
<p />
<p />
Stopping GridFTP:
<pre class="rootscreen">
[root@client ~]$ service globus-gridftp-server stop
</pre> 
<p />
<p />
3. Bestman
<p />
<p />
<pre class="rootscreen">
[root@client ~]$ service gratia-xrootd-transfer start
[root@client ~]$ service gratia-xrootd-storage start
</pre> 
<p />
<p />
4. Gratia transfer and storage probes
<p />
<p />
<pre class="rootscreen">
[root@client ~]$ service gratia-xrootd-transfer stop
[root@client ~]$ service gratia-xrootd-storage stop
</pre> 
<p />
<p />
<h1><a name="Notes_on_Upgrading_BeStMan"></a> Notes on Upgrading BeStMan </h1>
<p />
<p />
<p />
Upgrading BeStMan can be done by 
<pre class="rootscreen">
yum upgrade bestman2-server
</pre>
<p />
There are a few notes to be aware of when upgrading BeStMan.
<p /> <ul>
<li> From many of the versions of the BeStMan, configuration changes have taken place.  Do not ignore any warnings about rpmsave or rpmnew files.  You will need to especially be careful about  and <code>/etc/bestman2/conf/bestman2.rc</code>.
</li> <li> Beginning with BeStMan 2.3.0-9, many dependency locations changed.  Be sure that <code>/etc/sysconfig/bestman2lib</code> contains the "build-classpath" directives in the BESTMAN2_SERVER_LIB and BESTMAN2_CLIENT_LIB.  Otherwise, you may get java class loading errors on startup or on run-time. Also, be sure to remove these entries from the <code>/etc/sysconfig/bestman2</code> file.
</li> <li> For BeStMan 2.1.3, certain versions had a combined sysconfig and configuration file.  You may need to split these files apart if this is the case.
</li></ul> 
<p />
For more help, please contact the GOC to create a support ticket.
<p />
<p />
<p />
<h1><a name="Screen_Dump_of_Install_Procedure"></a> Screen Dump of Install Procedure </h1>
<p />
<div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdDocumentation/Release3InstallBestmanXrootdSE1show" class="twistyTrigger twikiUnvisited twistyHidden twistyInited"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Click here for a full installation example.</span></a> </span> <span id="twistyIdDocumentation/Release3InstallBestmanXrootdSE1hide" class="twistyTrigger twikiUnvisited twistyHidden twistyInited"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide the example</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdDocumentation/Release3InstallBestmanXrootdSE1toggle" class="twistyContent twikiMakeHidden twistyInited">
<pre class="screen">
[root@fermicloud110 ~]# wget http://download.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm
--2011-10-18 17:20:28--  http://download.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm
Resolving download.fedoraproject.org... 140.211.169.197, 152.19.134.146, 209.132.181.16, ...
Connecting to download.fedoraproject.org|140.211.169.197|:80... connected.
HTTP request sent, awaiting response... 302 FOUND
Location: http://mirror.seas.harvard.edu/epel/5/i386/epel-release-5-4.noarch.rpm [following]
--2011-10-18 17:20:29--  http://mirror.seas.harvard.edu/epel/5/i386/epel-release-5-4.noarch.rpm
Resolving mirror.seas.harvard.edu... 140.247.173.13
Connecting to mirror.seas.harvard.edu|140.247.173.13|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 12232 (12K) [application/x-rpm]
Saving to: `epel-release-5-4.noarch.rpm'

100%[=======================================================================================================

2011-10-18 17:20:29 (269 KB/s) - `epel-release-5-4.noarch.rpm' saved [12232/12232]

[root@fermicloud110 ~]# rpm -i epel-release-5-4.noarch.rpm
warning: epel-release-5-4.noarch.rpm: Header V3 DSA signature: NOKEY, key ID 217521f6
[root@fermicloud110 ~]# yum -y install yum-priorities
Loaded plugins: kernel-module
epel
epel/primary_db
Setting up Install Process
Resolving Dependencies
--> Running transaction check
---> Package yum-priorities.noarch 0:1.1.16-14.el5 set to be updated
--> Finished Dependency Resolution
Beginning Kernel Module Plugin
Finished Kernel Module Plugin

Dependencies Resolved

============================================================================================================
 Package                                                      Arch
============================================================================================================
Installing:
 yum-priorities                                               noarch

Transaction Summary
============================================================================================================
Install       1 Package(s)
Upgrade       0 Package(s)

Total download size: 14 k
Downloading Packages:
yum-priorities-1.1.16-14.el5.noarch.rpm
Running rpm_check_debug
Running Transaction Test
Finished Transaction Test
Transaction Test Succeeded
Running Transaction
  Installing     : yum-priorities

Installed:
  yum-priorities.noarch 0:1.1.16-14.el5

Complete!
[root@fermicloud110 ~]# rpm -Uvh http://repo.grid.iu.edu/osg-release-latest.rpm
Retrieving http://repo.grid.iu.edu/osg-release-latest.rpm
warning: /var/tmp/rpm-xfer.Hu4qui: Header V3 DSA signature: NOKEY, key ID 824b8603
Preparing...                ########################################### [100%]
   1:osg-release            ########################################### [100%]
[root@fermicloud110 ~]# yum --enablerepo=$REPO install osg-se-bestman-xrootd
Loaded plugins: kernel-module, priorities


Error getting repository data for , repository not found
[root@fermicloud110 ~]# yum --enablerepo=osg-testing install osg-se-bestman-xrootd
Loaded plugins: kernel-module, priorities
osg
osg/primary_db
osg-testing
osg-testing/primary_db
1232 packages excluded due to repository priority protections
Setting up Install Process
Resolving Dependencies
--> Running transaction check
---> Package osg-se-bestman-xrootd.x86_64 0:3.0.0-3 set to be updated
--> Processing Dependency: gums-client for package: osg-se-bestman-xrootd
--> Processing Dependency: bestman2-tester for package: osg-se-bestman-xrootd
--> Processing Dependency: xrootd-fuse for package: osg-se-bestman-xrootd
--> Processing Dependency: bestman2-server for package: osg-se-bestman-xrootd
--> Processing Dependency: java-1.6.0-sun-compat for package: osg-se-bestman-xrootd
--> Processing Dependency: edg-mkgridmap for package: osg-se-bestman-xrootd
--> Processing Dependency: fetch-crl for package: osg-se-bestman-xrootd
--> Processing Dependency: grid-certificates for package: osg-se-bestman-xrootd
--> Processing Dependency: globus-gridftp-server-progs for package: osg-se-bestman-xrootd
--> Processing Dependency: vo-client for package: osg-se-bestman-xrootd
--> Processing Dependency: gratia-probe-gridftp-transfer for package: osg-se-bestman-xrootd
--> Processing Dependency: bestman2-client for package: osg-se-bestman-xrootd
--> Processing Dependency: xrootd-dsi for package: osg-se-bestman-xrootd
--> Processing Dependency: gratia-probe-xrootd-storage for package: osg-se-bestman-xrootd
--> Processing Dependency: gratia-probe-xrootd-transfer for package: osg-se-bestman-xrootd
--> Processing Dependency: liblcas_lcmaps_gt4_mapping.so.0()(64bit) for package: osg-se-bestman-xrootd
--> Running transaction check
---> Package bestman2-client.noarch 0:2.1.3-1 set to be updated
--> Processing Dependency: bestman2-common-libs = 2.1.3-1 for package: bestman2-client
--> Processing Dependency: bestman2-client-libs = 2.1.3-1 for package: bestman2-client
---> Package bestman2-server.noarch 0:2.1.3-1 set to be updated
--> Processing Dependency: bestman2-server-dep-libs = 2.1.3-1 for package: bestman2-server
--> Processing Dependency: bestman2-server-libs = 2.1.3-1 for package: bestman2-server
---> Package bestman2-tester.noarch 0:2.1.3-1 set to be updated
--> Processing Dependency: bestman2-tester-libs = 2.1.3-1 for package: bestman2-tester
---> Package edg-mkgridmap.noarch 0:4.0.0-3.osg set to be updated
--> Processing Dependency: perl(Net::LDAPS) for package: edg-mkgridmap
--> Processing Dependency: vo-client-edgmkgridmap for package: edg-mkgridmap
--> Processing Dependency: perl-Net-SSLeay for package: edg-mkgridmap
--> Processing Dependency: perl(Net::LDAP::Util) for package: edg-mkgridmap
--> Processing Dependency: perl(Net::LDAP) for package: edg-mkgridmap
--> Processing Dependency: osg-vo-map for package: edg-mkgridmap
--> Processing Dependency: perl(Term::ReadKey) for package: edg-mkgridmap
--> Processing Dependency: perl(XML::DOM) for package: edg-mkgridmap
--> Processing Dependency: perl-Crypt-SSLeay for package: edg-mkgridmap
---> Package fetch-crl.noarch 0:2.8.4-2.el5 set to be updated
---> Package globus-gridftp-server-progs.x86_64 0:6.1-5.osg set to be updated
--> Processing Dependency: globus-gridftp-server = 6.1-5.osg for package: globus-gridftp-server-progs
--> Processing Dependency: globus-xio-gsi-driver >= 2 for package: globus-gridftp-server-progs
--> Processing Dependency: perl(Globus::Core::Paths) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gssapi_gsi.so.9(globus_gssapi_gsi)(64bit) for package: globus-gridftp-s
--> Processing Dependency: libglobus_gsi_credential.so.5()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gssapi_error.so.4()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_io.so.8()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gsi_cert_utils.so.8()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_callout.so.2()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_openssl.so.3()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_authz.so.2()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gsi_authz_callout_error.so.2()(64bit) for package: globus-gridftp-serve
--> Processing Dependency: libglobus_common.so.14()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_proxy_ssl.so.4()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_xio.so.3()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gsi_proxy_core.so.6()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gfork.so.3()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gridftp_server_control.so.2()(64bit) for package: globus-gridftp-server
--> Processing Dependency: libglobus_ftp_control.so.4()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gss_assist.so.8()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_openssl_error.so.2()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gridftp_server.so.6()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gsi_sysconfig.so.5()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_usage.so.3()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gsi_callback.so.4()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gssapi_gsi.so.9()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_oldgaa.so.4()(64bit) for package: globus-gridftp-server-progs
---> Package gratia-probe-gridftp-transfer.noarch 0:1.09-0.4.1.pre set to be updated
--> Processing Dependency: gratia-probe-common >= 1.09-0.4.1.pre for package: gratia-probe-gridftp-transfer
--> Processing Dependency: netlogger for package: gratia-probe-gridftp-transfer
---> Package gratia-probe-xrootd-storage.noarch 0:1.09-0.4.1.pre set to be updated
--> Processing Dependency: gratia-probe-services = 1.09-0.4.1.pre for package: gratia-probe-xrootd-storage
---> Package gratia-probe-xrootd-transfer.noarch 0:1.09-0.4.1.pre set to be updated
---> Package gums-client.noarch 0:1.3.18.002-3 set to be updated
--> Processing Dependency: gums = 1.3.18.002 for package: gums-client
---> Package java-1.6.0-sun-compat.x86_64 0:1.6.0.26-3.sl5.jpp set to be updated
--> Processing Dependency: jdk = 2000:1.6.0_26-fcs for package: java-1.6.0-sun-compat
--> Processing Dependency: jpackage-utils >= 1.7.3 for package: java-1.6.0-sun-compat
--> Processing Dependency: /usr/bin/xsltproc for package: java-1.6.0-sun-compat
--> Processing Dependency: /usr/bin/xsltproc for package: java-1.6.0-sun-compat
---> Package lcas-lcmaps-gt4-interface.x86_64 0:0.1.4-6.osg set to be updated
--> Processing Dependency: liblcas.so.0()(64bit) for package: lcas-lcmaps-gt4-interface
--> Processing Dependency: liblcmaps.so.0()(64bit) for package: lcas-lcmaps-gt4-interface
--> Processing Dependency: libglobus_gridmap_callout_error.so.1()(64bit) for package: lcas-lcmaps-gt4-interf
---> Package osg-ca-certs.noarch 0:1.24-1 set to be updated
---> Package vo-client.noarch 0:38-9.osg set to be updated
---> Package xrootd-dsi.x86_64 0:3.0.4-7 set to be updated
--> Processing Dependency: xrootd-client for package: xrootd-dsi
--> Processing Dependency: xrootd-libs for package: xrootd-dsi
---> Package xrootd-fuse.x86_64 1:3.0.5-1.osg.xu set to be updated
--> Processing Dependency: libfuse.so.2(FUSE_2.2)(64bit) for package: xrootd-fuse
--> Processing Dependency: libfuse.so.2(FUSE_2.6)(64bit) for package: xrootd-fuse
--> Processing Dependency: libfuse.so.2(FUSE_2.5)(64bit) for package: xrootd-fuse
--> Processing Dependency: fuse for package: xrootd-fuse
--> Processing Dependency: libfuse.so.2()(64bit) for package: xrootd-fuse
--> Running transaction check
---> Package bestman2-client-libs.noarch 0:2.1.3-1 set to be updated
---> Package bestman2-common-libs.noarch 0:2.1.3-1 set to be updated
---> Package bestman2-server-dep-libs.noarch 0:2.1.3-1 set to be updated
---> Package bestman2-server-libs.noarch 0:2.1.3-1 set to be updated
---> Package bestman2-tester-libs.noarch 0:2.1.3-1 set to be updated
---> Package fuse.x86_64 0:2.7.4-8.el5 set to be updated
---> Package fuse-libs.x86_64 0:2.7.4-8.el5 set to be updated
---> Package globus-authz.x86_64 0:2.0-2.osg set to be updated
---> Package globus-authz-callout-error.x86_64 0:2.0-2.osg set to be updated
---> Package globus-callout.x86_64 0:2.0-2.osg set to be updated
--> Processing Dependency: libltdl.so.3()(64bit) for package: globus-callout
---> Package globus-common.x86_64 0:14.0-3.osg set to be updated
---> Package globus-ftp-control.x86_64 0:4.0-2.osg set to be updated
---> Package globus-gfork.x86_64 0:3.0-2.osg set to be updated
---> Package globus-gridftp-server.x86_64 0:6.1-5.osg set to be updated
---> Package globus-gridftp-server-control.x86_64 0:2.0-3.osg set to be updated
--> Processing Dependency: globus-xio-pipe-driver >= 2 for package: globus-gridftp-server-control
---> Package globus-gridmap-callout-error.x86_64 0:1.1-1.osg set to be updated
---> Package globus-gsi-callback.x86_64 0:4.0-2.osg set to be updated
---> Package globus-gsi-cert-utils.x86_64 0:8.0-2.osg set to be updated
---> Package globus-gsi-credential.x86_64 0:5.0-3.osg set to be updated
---> Package globus-gsi-openssl-error.x86_64 0:2.0-2.osg set to be updated
---> Package globus-gsi-proxy-core.x86_64 0:6.0-2.osg set to be updated
---> Package globus-gsi-proxy-ssl.x86_64 0:4.0-2.osg set to be updated
---> Package globus-gsi-sysconfig.x86_64 0:5.0-3.osg set to be updated
---> Package globus-gss-assist.x86_64 0:8.0-2.osg set to be updated
---> Package globus-gssapi-error.x86_64 0:4.0-2.osg set to be updated
---> Package globus-gssapi-gsi.x86_64 0:10.0-1.osg set to be updated
---> Package globus-io.x86_64 0:9.0-2.osg set to be updated
---> Package globus-openssl-module.x86_64 0:3.0-2.osg set to be updated
---> Package globus-usage.x86_64 0:3.0-2.osg set to be updated
---> Package globus-xio.x86_64 0:3.0-3.osg set to be updated
---> Package globus-xio-gsi-driver.x86_64 0:2.0-2.osg set to be updated
---> Package gratia-probe-common.noarch 0:1.09-0.4.1.pre set to be updated
--> Processing Dependency: pyOpenSSL for package: gratia-probe-common
---> Package gratia-probe-services.noarch 0:1.09-0.4.1.pre set to be updated
---> Package gums.noarch 0:1.3.18.002-3 set to be updated
---> Package jdk.x86_64 2000:1.6.0_26-fcs set to be updated
---> Package jpackage-utils.noarch 0:1.7.3-1jpp.2.el5 set to be updated
---> Package lcas.x86_64 0:1.3.13-8.osg set to be updated
--> Processing Dependency: liblcas_userban.so()(64bit) for package: lcas
---> Package lcmaps.x86_64 0:1.4.28-14.osg set to be updated
--> Processing Dependency: lcmaps-plugins-saz-client for package: lcmaps
--> Processing Dependency: lcmaps-plugins-gums-client for package: lcmaps
--> Processing Dependency: liblcmaps_scas_client.so.0()(64bit) for package: lcmaps
--> Processing Dependency: liblcmaps_verify_proxy.so.0()(64bit) for package: lcmaps
--> Processing Dependency: libvomsapi.so.1()(64bit) for package: lcmaps
--> Processing Dependency: liblcmaps_posix_enf.so.0()(64bit) for package: lcmaps
---> Package libxslt.x86_64 0:1.1.17-2.el5_2.2 set to be updated
---> Package netlogger.noarch 0:4.2.0-1 set to be updated
---> Package osg-vo-map.noarch 0:0.0.1-1.osg set to be updated
---> Package perl-Crypt-SSLeay.x86_64 0:0.51-11.el5 set to be updated
---> Package perl-LDAP.noarch 1:0.33-3.fc6 set to be updated
--> Processing Dependency: perl(Convert::ASN1) for package: perl-LDAP
--> Processing Dependency: perl(XML::SAX::Base) for package: perl-LDAP
--> Processing Dependency: perl(IO::Socket::SSL) for package: perl-LDAP
---> Package perl-Net-SSLeay.x86_64 0:1.30-4.fc6 set to be updated
---> Package perl-TermReadKey.x86_64 0:2.30-5.el5 set to be updated
---> Package perl-XML-DOM.noarch 0:1.44-2.el5 set to be updated
--> Processing Dependency: perl(XML::RegExp) for package: perl-XML-DOM
---> Package vo-client-edgmkgridmap.noarch 0:38-9.osg set to be updated
---> Package xrootd-client.x86_64 1:3.0.5-1.osg.xu set to be updated
---> Package xrootd-libs.x86_64 1:3.0.5-1.osg.xu set to be updated
--> Running transaction check
---> Package globus-xio-pipe-driver.x86_64 0:2.0-2.osg set to be updated
---> Package lcas-plugins-basic.x86_64 0:1.3.5-5.osg set to be updated
---> Package lcmaps-plugins-basic.x86_64 0:1.4.5-1.osg set to be updated
---> Package lcmaps-plugins-gums-client.x86_64 0:0.0.2-2.osg set to be updated
--> Processing Dependency: lcmaps-plugins-scas-client for package: lcmaps-plugins-gums-client
---> Package lcmaps-plugins-saz-client.x86_64 0:0.2.22-7.osg set to be updated
--> Processing Dependency: saml2-xacml2-c-lib for package: lcmaps-plugins-saz-client
--> Processing Dependency: libxacml.so.0()(64bit) for package: lcmaps-plugins-saz-client
---> Package lcmaps-plugins-verify-proxy.x86_64 0:1.4.9-2.osg set to be updated
---> Package libtool-ltdl.x86_64 0:1.5.22-7.el5_4 set to be updated
---> Package perl-Convert-ASN1.noarch 0:0.20-1.1 set to be updated
---> Package perl-IO-Socket-SSL.noarch 0:1.01-1.fc6 set to be updated
---> Package perl-XML-RegExp.noarch 0:0.03-2.el5 set to be updated
---> Package perl-XML-SAX.noarch 0:0.14-8 set to be updated
--> Processing Dependency: perl(XML::NamespaceSupport) for package: perl-XML-SAX
---> Package pyOpenSSL.x86_64 0:0.6-1.p24.7.2.2 set to be updated
---> Package voms.x86_64 0:2.0.6-3.osg set to be updated
--> Running transaction check
---> Package lcmaps-plugins-scas-client.x86_64 0:0.2.22-7.osg set to be updated
---> Package perl-XML-NamespaceSupport.noarch 0:1.09-1.2.1 set to be updated
---> Package saml2-xacml2-c-lib.x86_64 0:1.0.1-6.osg set to be updated
--> Finished Dependency Resolution
Beginning Kernel Module Plugin
Finished Kernel Module Plugin

Dependencies Resolved

============================================================================================================
 Package                                                              Arch
============================================================================================================
Installing:
 osg-se-bestman-xrootd                                                x86_64
Installing for dependencies:
 bestman2-client                                                      noarch
 bestman2-client-libs                                                 noarch
 bestman2-common-libs                                                 noarch
 bestman2-server                                                      noarch
 bestman2-server-dep-libs                                             noarch
 bestman2-server-libs                                                 noarch
 bestman2-tester                                                      noarch
 bestman2-tester-libs                                                 noarch
 edg-mkgridmap                                                        noarch
 fetch-crl                                                            noarch
 fuse                                                                 x86_64
 fuse-libs                                                            x86_64
 globus-authz                                                         x86_64
 globus-authz-callout-error                                           x86_64
 globus-callout                                                       x86_64
 globus-common                                                        x86_64
 globus-ftp-control                                                   x86_64
 globus-gfork                                                         x86_64
 globus-gridftp-server                                                x86_64
 globus-gridftp-server-control                                        x86_64
 globus-gridftp-server-progs                                          x86_64
 globus-gridmap-callout-error                                         x86_64
 globus-gsi-callback                                                  x86_64
 globus-gsi-cert-utils                                                x86_64
 globus-gsi-credential                                                x86_64
 globus-gsi-openssl-error                                             x86_64
 globus-gsi-proxy-core                                                x86_64
 globus-gsi-proxy-ssl                                                 x86_64
 globus-gsi-sysconfig                                                 x86_64
 globus-gss-assist                                                    x86_64
 globus-gssapi-error                                                  x86_64
 globus-gssapi-gsi                                                    x86_64
 globus-io                                                            x86_64
 globus-openssl-module                                                x86_64
 globus-usage                                                         x86_64
 globus-xio                                                           x86_64
 globus-xio-gsi-driver                                                x86_64
 globus-xio-pipe-driver                                               x86_64
 gratia-probe-common                                                  noarch
 gratia-probe-gridftp-transfer                                        noarch
 gratia-probe-services                                                noarch
 gratia-probe-xrootd-storage                                          noarch
 gratia-probe-xrootd-transfer                                         noarch
 gums                                                                 noarch
 gums-client                                                          noarch
 java-1.6.0-sun-compat                                                x86_64
 jdk                                                                  x86_64
 jpackage-utils                                                       noarch
 lcas                                                                 x86_64
 lcas-lcmaps-gt4-interface                                            x86_64
 lcas-plugins-basic                                                   x86_64
 lcmaps                                                               x86_64
 lcmaps-plugins-basic                                                 x86_64
 lcmaps-plugins-gums-client                                           x86_64
 lcmaps-plugins-saz-client                                            x86_64
 lcmaps-plugins-scas-client                                           x86_64
 lcmaps-plugins-verify-proxy                                          x86_64
 libtool-ltdl                                                         x86_64
 libxslt                                                              x86_64
 netlogger                                                            noarch
 osg-ca-certs                                                         noarch
 osg-vo-map                                                           noarch
 perl-Convert-ASN1                                                    noarch
 perl-Crypt-SSLeay                                                    x86_64
 perl-IO-Socket-SSL                                                   noarch
 perl-LDAP                                                            noarch
 perl-Net-SSLeay                                                      x86_64
 perl-TermReadKey                                                     x86_64
 perl-XML-DOM                                                         noarch
 perl-XML-NamespaceSupport                                            noarch
 perl-XML-RegExp                                                      noarch
 perl-XML-SAX                                                         noarch
 pyOpenSSL                                                            x86_64
 saml2-xacml2-c-lib                                                   x86_64
 vo-client                                                            noarch
 vo-client-edgmkgridmap                                               noarch
 voms                                                                 x86_64
 xrootd-client                                                        x86_64
 xrootd-dsi                                                           x86_64
 xrootd-fuse                                                          x86_64
 xrootd-libs                                                          x86_64

Transaction Summary
============================================================================================================
Install      82 Package(s)
Upgrade       0 Package(s)

Total download size: 117 M
Is this ok [y/N]: y
Downloading Packages:
(1/82): osg-se-bestman-xrootd-3.0.0-3.x86_64.rpm
(2/82): lcmaps-plugins-gums-client-0.0.2-2.osg.x86_64.rpm
(3/82): vo-client-edgmkgridmap-38-9.osg.noarch.rpm
(4/82): globus-gridmap-callout-error-1.1-1.osg.x86_64.rpm
(5/82): osg-vo-map-0.0.1-1.osg.noarch.rpm
(6/82): bestman2-tester-2.1.3-1.noarch.rpm
(7/82): perl-XML-RegExp-0.03-2.el5.noarch.rpm
(8/82): globus-authz-callout-error-2.0-2.osg.x86_64.rpm
(9/82): gratia-probe-xrootd-storage-1.09-0.4.1.pre.noarch.rpm
(10/82): gratia-probe-xrootd-transfer-1.09-0.4.1.pre.noarch.rpm
(11/82): xrootd-dsi-3.0.4-7.x86_64.rpmhttps://twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallOSGBestmanSE#Valihttps://twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallOSGBestmanSE#Validation_of_Service_Operationdation_of_Service_Operation
(12/82): gums-client-1.3.18.002-3.noarch.rpm
(13/82): globus-gssapi-error-4.0-2.osg.x86_64.rpm
(14/82): globus-authz-2.0-2.osg.x86_64.rpm
(15/82): globus-openssl-module-3.0-2.osg.x86_64.rpm
(16/82): xrootd-fuse-3.0.5-1.osg.xu.x86_64.rpm
(17/82): vo-client-38-9.osg.noarch.rpm
(18/82): perl-XML-NamespaceSupport-1.09-1.2.1.noarch.rpm
(19/82): globus-gsi-openssl-error-2.0-2.osg.x86_64.rpm
(20/82): globus-usage-3.0-2.osg.x86_64.rpm
(21/82): globus-callout-2.0-2.osg.x86_64.rpm
(22/82): globus-xio-pipe-driver-2.0-2.osg.x86_64.rpm
(23/82): gratia-probe-services-1.09-0.4.1.pre.noarch.rpm
(24/82): globus-gsi-proxy-ssl-4.0-2.osg.x86_64.rpm
(25/82): lcas-lcmaps-gt4-interface-0.1.4-6.osg.x86_64.rpm
(26/82): globus-gsi-cert-utils-8.0-2.osg.x86_64.rpm                                                                                                                                                                  |  18 kB     00:00
(27/82): globus-gfork-3.0-2.osg.x86_64.rpm                                                                                                                                                                           |  19 kB     00:00
(28/82): bestman2-server-2.1.3-1.noarch.rpm                                          |  21 kB     00:00
(29/82): edg-mkgridmap-4.0.0-3.osg.noarch.rpm                                        |  21 kB     00:00
(30/82): gratia-probe-gridftp-transfer-1.09-0.4.1.pre.noarch.rpm                     |  22 kB     00:00
(31/82): lcas-plugins-basic-1.3.5-5.osg.x86_64.rpm                                   |  23 kB     00:00
(32/82): lcmaps-plugins-verify-proxy-1.4.9-2.osg.x86_64.rpm                          |  23 kB     00:00
(33/82): fetch-crl-2.8.4-2.el5.noarch.rpm                                            |  24 kB     00:00
(34/82): bestman2-client-2.1.3-1.noarch.rpm                                          |  24 kB     00:00
(35/82): lcas-1.3.13-8.osg.x86_64.rpm                                                |  28 kB     00:00
(36/82): globus-gsi-sysconfig-5.0-3.osg.x86_64.rpm                                   |  29 kB     00:00
(37/82): perl-TermReadKey-2.30-5.el5.x86_64.rpm                                      |  32 kB     00:00
(38/82): lcmaps-plugins-saz-client-0.2.22-7.osg.x86_64.rpm                           |  32 kB     00:00
(39/82): globus-gss-assist-8.0-2.osg.x86_64.rpm                                      |  34 kB     00:00
(40/82): globus-gsi-credential-5.0-3.osg.x86_64.rpm                                  |  35 kB     00:00
(41/82): globus-gsi-proxy-core-6.0-2.osg.x86_64.rpm                                  |  36 kB     00:00
(42/82): globus-xio-gsi-driver-2.0-2.osg.x86_64.rpm                                  |  37 kB     00:00
(43/82): libtool-ltdl-1.5.22-7.el5_4.x86_64.rpm                                      |  38 kB     00:00
(44/82): lcmaps-plugins-basic-1.4.5-1.osg.x86_64.rpm                                 |  38 kB     00:00
(45/82): lcmaps-plugins-scas-client-0.2.22-7.osg.x86_64.rpm                          |  39 kB     00:00
(46/82): globus-gridftp-server-progs-6.1-5.osg.x86_64.rpm                            |  40 kB     00:00
(47/82): globus-gsi-callback-4.0-2.osg.x86_64.rpm                                    |  41 kB     00:00
(48/82): perl-Convert-ASN1-0.20-1.1.noarch.rpm                                       |  41 kB     00:00
(49/82): globus-io-9.0-2.osg.x86_64.rpm                                              |  44 kB     00:00
(50/82): perl-Crypt-SSLeay-0.51-11.el5.x86_64.rpm                                    |  45 kB     00:00
(51/82): perl-IO-Socket-SSL-1.01-1.fc6.noarch.rpm                                    |  49 kB     00:00
(52/82): globus-gssapi-gsi-10.0-1.osg.x86_64.rpm                                     |  60 kB     00:00
(53/82): jpackage-utils-1.7.3-1jpp.2.el5.noarch.rpm                                  |  61 kB     00:00
(54/82): java-1.6.0-sun-compat-1.6.0.26-3.sl5.jpp.x86_64.rpm                         |  65 kB     00:00
(55/82): fuse-libs-2.7.4-8.el5.x86_64.rpm                                            |  71 kB     00:00
(56/82): globus-ftp-control-4.0-2.osg.x86_64.rpm                                     |  73 kB     00:00
(57/82): globus-gridftp-server-control-2.0-3.osg.x86_64.rpm                          |  77 kB     00:00
(58/82): perl-XML-SAX-0.14-8.noarch.rpm                                              |  77 kB     00:00
(59/82): fuse-2.7.4-8.el5.x86_64.rpm                                                 |  83 kB     00:00
(60/82): lcmaps-1.4.28-14.osg.x86_64.rpm                                             |  89 kB     00:00
(61/82): pyOpenSSL-0.6-1.p24.7.2.2.x86_64.rpm                                        | 120 kB     00:00
(62/82): globus-common-14.0-3.osg.x86_64.rpm                                         | 128 kB     00:00
(63/82): gratia-probe-common-1.09-0.4.1.pre.noarch.rpm                               | 132 kB     00:00
(64/82): perl-XML-DOM-1.44-2.el5.noarch.rpm                                          | 138 kB     00:00
(65/82): globus-gridftp-server-6.1-5.osg.x86_64.rpm                                  | 163 kB     00:00
(66/82): voms-2.0.6-3.osg.x86_64.rpm                                                 | 171 kB     00:00
(67/82): globus-xio-3.0-3.osg.x86_64.rpm                                             | 178 kB     00:00
(68/82): bestman2-tester-libs-2.1.3-1.noarch.rpm                                     | 189 kB     00:00
(69/82): perl-Net-SSLeay-1.30-4.fc6.x86_64.rpm                                       | 192 kB     00:00
(70/82): perl-LDAP-0.33-3.fc6.noarch.rpm                                             | 316 kB     00:00
(71/82): osg-ca-certs-1.24-1.noarch.rpm                                              | 450 kB     00:00
(72/82): libxslt-1.1.17-2.el5_2.2.x86_64.rpm                                         | 488 kB     00:00
(73/82): xrootd-client-3.0.5-1.osg.xu.x86_64.rpm                                     | 496 kB     00:00
(74/82): xrootd-libs-3.0.5-1.osg.xu.x86_64.rpm                                       | 523 kB     00:00
(75/82): saml2-xacml2-c-lib-1.0.1-6.osg.x86_64.rpm                                   | 581 kB     00:00
(76/82): netlogger-4.2.0-1.noarch.rpm                                                | 624 kB     00:00
(77/82): bestman2-client-libs-2.1.3-1.noarch.rpm                                     | 627 kB     00:00
(78/82): bestman2-server-libs-2.1.3-1.noarch.rpm                                     | 779 kB     00:00
(79/82): bestman2-common-libs-2.1.3-1.noarch.rpm                                     | 5.5 MB     00:01
(80/82): bestman2-server-dep-libs-2.1.3-1.noarch.rpm                                 |  11 MB     00:01
(81/82): gums-1.3.18.002-3.noarch.rpm                                                |  25 MB     00:01
(82/82): jdk-1.6.0_26-fcs.x86_64.rpm                                                 |  68 MB     00:01
------------------------------------------------------------------------------------------------------------
Total                                                                       5.8 MB/s | 117 MB     00:20
warning: rpmts_HdrFromFdno: Header V3 DSA signature: NOKEY, key ID 824b8603
osg-testing/gpgkey                                                                   | 1.7 kB     00:00
Importing GPG key 0x824B8603 "OSG Software Team (RPM Signing Key for Koji Packages) <vdt-support@opensciencegrid.org>" from /etc/pki/rpm-gpg/RPM-GPG-KEY-OSG
Is this ok [y/N]: y
warning: rpmts_HdrFromFdno: Header V3 DSA signature: NOKEY, key ID 217521f6
epel/gpgkey                                                                          | 1.7 kB     00:00
Importing GPG key 0x217521F6 "Fedora EPEL <epel@fedoraproject.org>" from /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL
Is this ok [y/N]: y
Running rpm_check_debug
Running Transaction Test
Finished Transaction Test
Transaction Test Succeeded
Running Transaction
  Installing     : globus-gsi-proxy-ssl                                                                1/82
  Installing     : xrootd-libs                                                                         2/82
  Installing     : xrootd-client                                                                       3/82
  Installing     : saml2-xacml2-c-lib                                                                  4/82
  Installing     : lcmaps-plugins-scas-client                                                          5/82
  Installing     : libtool-ltdl                                                                        6/82
  Installing     : globus-common                                                                       7/82
  Installing     : globus-gsi-openssl-error                                                            8/82
  Installing     : globus-openssl-module                                                               9/82
  Installing     : globus-gsi-sysconfig                                                               10/82
  Installing     : globus-gsi-cert-utils                                                              11/82
  Installing     : globus-gsi-callback                                                                12/82
  Installing     : globus-gsi-credential                                                              13/82
  Installing     : globus-gsi-proxy-core                                                              14/82
  Installing     : globus-gssapi-gsi                                                                  15/82
  Installing     : globus-callout                                                                     16/82
  Installing     : globus-gss-assist                                                                  17/82
  Installing     : globus-xio                                                                         18/82
  Installing     : globus-gssapi-error                                                                19/82
  Installing     : globus-xio-gsi-driver                                                              20/82
  Installing     : globus-io                                                                          21/82
  Installing     : globus-authz-callout-error                                                         22/82
  Installing     : globus-authz                                                                       23/82
  Installing     : globus-ftp-control                                                                 24/82
  Installing     : globus-usage                                                                       25/82
  Installing     : globus-gfork                                                                       26/82
  Installing     : perl-Net-SSLeay                                                                    27/82
  Installing     : globus-gridmap-callout-error                                                       28/82
  Installing     : globus-xio-pipe-driver                                                             29/82
  Installing     : globus-gridftp-server-control                                                      30/82
  Installing     : globus-gridftp-server                                                              31/82
  Installing     : globus-gridftp-server-progs                                                        32/82
  Installing     : lcmaps-plugins-saz-client                                                          33/82
  Installing     : xrootd-dsi                                                                         34/82
  Installing     : lcmaps-plugins-verify-proxy                                                        35/82
  Installing     : lcmaps-plugins-basic                                                               36/82
  Installing     : voms                                                                               37/82
  Installing     : perl-Crypt-SSLeay                                                                  38/82
  Installing     : fuse                                                                               39/82
  Installing     : perl-TermReadKey                                                                   40/82
  Installing     : fuse-libs                                                                          41/82
  Installing     : xrootd-fuse                                                                        42/82
  Installing     : pyOpenSSL                                                                          43/82
  Installing     : libxslt                                                                            44/82
  Installing     : gratia-probe-common                                                                45/82
  Installing     : osg-ca-certs                                                                       46/82
  Installing     : vo-client                                                                          47/82
  Installing     : osg-vo-map                                                                         48/82
  Installing     : vo-client-edgmkgridmap                                                             49/82
  Installing     : gratia-probe-services                                                              50/82
  Installing     : gratia-probe-xrootd-storage                                                        51/82
  Installing     : gratia-probe-xrootd-transfer                                                       52/82
  Installing     : perl-IO-Socket-SSL                                                                 53/82
  Installing     : lcmaps-plugins-gums-client                                                         54/82
  Installing     : lcmaps                                                                             55/82
  Installing     : perl-XML-RegExp                                                                    56/82
  Installing     : perl-XML-DOM                                                                       57/82
  Installing     : jpackage-utils                                                                     58/82
  Installing     : netlogger                                                                          59/82
  Installing     : gratia-probe-gridftp-transfer                                                      60/82
  Installing     : jdk                                                                                61/82
Unpacking JAR files...
        rt.jar...
        jsse.jar...
        charsets.jar...
        tools.jar...
        localedata.jar...
        plugin.jar...
        javaws.jar...
        deploy.jar...
  Installing     : java-1.6.0-sun-compat                                                              62/82
  Installing     : bestman2-common-libs                                                               63/82
  Installing     : bestman2-server-libs                                                               64/82
  Installing     : bestman2-tester-libs                                                               65/82
  Installing     : bestman2-tester                                                                    66/82
  Installing     : gums                                                                               67/82
  Installing     : gums-client                                                                        68/82
  Installing     : bestman2-client-libs                                                               69/82
  Installing     : bestman2-client                                                                    70/82
  Installing     : bestman2-server-dep-libs                                                           71/82
  Installing     : bestman2-server                                                                    72/82
  Installing     : perl-Convert-ASN1                                                                  73/82
  Installing     : perl-XML-NamespaceSupport                                                          74/82
  Installing     : perl-XML-SAX                                                                       75/82
  Installing     : perl-LDAP                                                                          76/82
  Installing     : edg-mkgridmap                                                                      77/82
  Installing     : fetch-crl                                                                          78/82
  Installing     : lcas                                                                               79/82
  Installing     : lcas-lcmaps-gt4-interface                                                          80/82
  Installing     : lcas-plugins-basic                                                                 81/82
  Installing     : osg-se-bestman-xrootd                                                              82/82

Installed:
  osg-se-bestman-xrootd.x86_64 0:3.0.0-3

Dependency Installed:
  bestman2-client.noarch 0:2.1.3-1
  bestman2-client-libs.noarch 0:2.1.3-1
  bestman2-common-libs.noarch 0:2.1.3-1
  bestman2-server.noarch 0:2.1.3-1
  bestman2-server-dep-libs.noarch 0:2.1.3-1
  bestman2-server-libs.noarch 0:2.1.3-1
  bestman2-tester.noarch 0:2.1.3-1
  bestman2-tester-libs.noarch 0:2.1.3-1
  edg-mkgridmap.noarch 0:4.0.0-3.osg
  fetch-crl.noarch 0:2.8.4-2.el5
  fuse.x86_64 0:2.7.4-8.el5
  fuse-libs.x86_64 0:2.7.4-8.el5
  globus-authz.x86_64 0:2.0-2.osg
  globus-authz-callout-error.x86_64 0:2.0-2.osg
  globus-callout.x86_64 0:2.0-2.osg
  globus-common.x86_64 0:14.0-3.osg
  globus-ftp-control.x86_64 0:4.0-2.osg
  globus-gfork.x86_64 0:3.0-2.osg
  globus-gridftp-server.x86_64 0:6.1-5.osg
  globus-gridftp-server-control.x86_64 0:2.0-3.osg
  globus-gridftp-server-progs.x86_64 0:6.1-5.osg
  globus-gridmap-callout-error.x86_64 0:1.1-1.osg
  globus-gsi-callback.x86_64 0:4.0-2.osg
  globus-gsi-cert-utils.x86_64 0:8.0-2.osg
  globus-gsi-credential.x86_64 0:5.0-3.osg
  globus-gsi-openssl-error.x86_64 0:2.0-2.osg
  globus-gsi-proxy-core.x86_64 0:6.0-2.osg
  globus-gsi-proxy-ssl.x86_64 0:4.0-2.osg
  globus-gsi-sysconfig.x86_64 0:5.0-3.osg
  globus-gss-assist.x86_64 0:8.0-2.osg
  globus-gssapi-error.x86_64 0:4.0-2.osg
  globus-gssapi-gsi.x86_64 0:10.0-1.osg
  globus-io.x86_64 0:9.0-2.osg
  globus-openssl-module.x86_64 0:3.0-2.osg
  globus-usage.x86_64 0:3.0-2.osg
  globus-xio.x86_64 0:3.0-3.osg
  globus-xio-gsi-driver.x86_64 0:2.0-2.osg
  globus-xio-pipe-driver.x86_64 0:2.0-2.osg
  gratia-probe-common.noarch 0:1.09-0.4.1.pre
  gratia-probe-gridftp-transfer.noarch 0:1.09-0.4.1.pre
  gratia-probe-services.noarch 0:1.09-0.4.1.pre
  gratia-probe-xrootd-storage.noarch 0:1.09-0.4.1.pre
  gratia-probe-xrootd-transfer.noarch 0:1.09-0.4.1.pre
  gums.noarch 0:1.3.18.002-3
  gums-client.noarch 0:1.3.18.002-3
  java-1.6.0-sun-compat.x86_64 0:1.6.0.26-3.sl5.jpp
  jdk.x86_64 2000:1.6.0_26-fcs
  jpackage-utils.noarch 0:1.7.3-1jpp.2.el5
  lcas.x86_64 0:1.3.13-8.osg
  lcas-lcmaps-gt4-interface.x86_64 0:0.1.4-6.osg
  lcas-plugins-basic.x86_64 0:1.3.5-5.osg
  lcmaps.x86_64 0:1.4.28-14.osg
  lcmaps-plugins-basic.x86_64 0:1.4.5-1.osg
  lcmaps-plugins-gums-client.x86_64 0:0.0.2-2.osg
  lcmaps-plugins-saz-client.x86_64 0:0.2.22-7.osg
  lcmaps-plugins-scas-client.x86_64 0:0.2.22-7.osg
  lcmaps-plugins-verify-proxy.x86_64 0:1.4.9-2.osg
  libtool-ltdl.x86_64 0:1.5.22-7.el5_4
  libxslt.x86_64 0:1.1.17-2.el5_2.2
  netlogger.noarch 0:4.2.0-1
  osg-ca-certs.noarch 0:1.24-1
  osg-vo-map.noarch 0:0.0.1-1.osg
  perl-Convert-ASN1.noarch 0:0.20-1.1
  perl-Crypt-SSLeay.x86_64 0:0.51-11.el5
  perl-IO-Socket-SSL.noarch 0:1.01-1.fc6
  perl-LDAP.noarch 1:0.33-3.fc6
  perl-Net-SSLeay.x86_64 0:1.30-4.fc6
  perl-TermReadKey.x86_64 0:2.30-5.el5
  perl-XML-DOM.noarch 0:1.44-2.el5
  perl-XML-NamespaceSupport.noarch 0:1.09-1.2.1
  perl-XML-RegExp.noarch 0:0.03-2.el5
  perl-XML-SAX.noarch 0:0.14-8
  pyOpenSSL.x86_64 0:0.6-1.p24.7.2.2
  saml2-xacml2-c-lib.x86_64 0:1.0.1-6.osg
  vo-client.noarch 0:38-9.osg
  vo-client-edgmkgridmap.noarch 0:38-9.osg
  voms.x86_64 0:2.0.6-3.osg
  xrootd-client.x86_64 1:3.0.5-1.osg.xu
  xrootd-dsi.x86_64 0:3.0.4-7
  xrootd-fuse.x86_64 1:3.0.5-1.osg.xu
  xrootd-libs.x86_64 1:3.0.5-1.osg.xu

Complete!
[root@fermicloud110 ~]# sed -i 's/\#globus_mapping/globus_mapping/' /etc/grid-security/gsi-authz.conf
[root@fermicloud110 ~]# sed -i 's/yourgums.yourdomain/gums.fnal.gov/' /etc/lcmaps.db
[root@fermicloud110 ~]# mkdir /etc/grid-security/bestman
[root@fermicloud110 ~]# cp /etc/grid-security/hostkey.pem /etc/grid-security/bestman/bestmankey.pem
[root@fermicloud110 ~]# cp /etc/grid-security/hostcert.pem /etc/grid-security/bestman/bestmancert.pem
[root@fermicloud110 ~]# chown -R bestman:bestman /etc/grid-security/bestman/
[root@fermicloud110 ~]# sed -i 's/Defaults.*requiretty/#Defaults requiretty/' /etc/sudoers
[root@fermicloud110 ~]# echo "Cmnd_Alias SRM_CMD = /bin/rm, /bin/mkdir, /bin/rmdir, /bin/mv, /bin/ls" >> /et
[root@fermicloud110 ~]# echo 'Runas_Alias SRM_USR = ALL, !root' >> /etc/sudoers
[root@fermicloud110 ~]# echo "bestman ALL=(SRM_USR) NOPASSWD:SRM_CMD" >> /etc/sudoers
[root@fermicloud110 ~]# sed -i 's/BESTMAN_GUMSCERTPATH=.*/BESTMAN_GUMSCERTPATH=\/etc\/grid-security\/bestman
[root@fermicloud110 ~]#  sed -i 's/BESTMAN_GUMSKEYPATH=.*/BESTMAN_GUMSKEYPATH=\/etc\/grid-security\/b
[root@fermicloud110 ~]#  sed -i 's/CertFileName=.*/CertFileName=\/etc\/grid-security\/bestman\/bestma
[root@fermicloud110 ~]#  sed -i 's/KeyFileName=.*/KeyFileName=\/etc\/grid-security\/bestman\/bestmank
[root@fermicloud110 ~]#  sed -i 's/GUMSserviceURL=.*/GUMSserviceURL=https:\/\/gums.fnal.gov:8443\/gum
[root@fermicloud110 ~]#  echo "localPathListAllowed=/tmp;/mnt/xrootd" >> /etc/bestman2/conf/bestman2.rc
[root@fermicloud110 ~]#  echo "supportedProtocolList=gsiftp://$HOSTNAME" >> /etc/bestman2/conf/bestma
[root@fermicloud110 ~]# echo 'export XROOTD_VMP=\"fermicloud126:1094:/mnt/xrootd=/tmp\"' >> /etc/sysconfig/xrootd-dsi
[root@fermicloud110 ~]# echo "xrootdfs                /mnt/xrootd              fuse    rdr=xroot://fermicloud126:1094//tmp/,uid=xrootd 0 0" >> /etc/fstab 
[root@fermicloud110 ~]# mkdir /mnt/xrootd
[root@fermicloud110 ~]# mount /mnt/xrootd/
[root@fermicloud110 ~]# ls -la /mnt/xrootd
total 791
-rw-rw-rw- 1 xrootd xrootd    460 Oct 19 21:01 fermi.krb5.config.xinetd
-rw-rw-rw- 1 xrootd xrootd 801512 Oct 19 20:00 first_test
drwxrwxrwx 1 xrootd xrootd   4096 Oct 19 19:55 .ICE-unix
-rw-rw-rw- 1 xrootd xrootd    244 Oct 19 19:55 ifcfg-eth0
-rw-rw-rw- 1 xrootd xrootd    387 Oct 19 19:55 krb5cc_0_uYAsnZ2033
-rw-rw-rw- 1 xrootd xrootd    200 Oct 19 19:55 network
-rw-rw-rw- 1 xrootd xrootd    118 Oct 19 19:55 tkt0_QQNH7S
-rw-rw-rw- 1 xrootd xrootd     19 Oct 19 21:00 yum.conf.addons
-rw-rw-rw- 1 xrootd xrootd    413 Oct 19 21:00 yum.conf.security
[root@fermicloud110 ~]# service globus-gridftp-server start
Started GridFTP Server                                     [  OK  ]
[root@fermicloud110 ~]# 
[root@fermicloud110 ~]# service bestman2 start
Starting bestman2:                                         [  OK  ]
------------------
Validation:
[dstrain@gw014k0 ~]$  srm-copy file:///home/dstrain/fusesrm-0.1.tar.gz srm://fermicloud110:8443/srm/v2/server?SFN=/mnt/xrootd/stuff_srm23.tar.gz
srm-copy   2.2.1.3.18    Mon Dec 20 20:16:15 PST 2010
BeStMan and SRM-Clients Copyright(c) 2007-2010,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@LBL.GOV and documents at http://sdm.lbl.gov/bestman
SRM-CLIENT: Wed Oct 19 21:46:23 CDT 2011 Connecting to httpg://fermicloud110:8443/srm/v2/server

SRM-CLIENT: Wed Oct 19 21:46:24 CDT 2011 Calling SrmPrepareToPutRequest now ...
request.token= put:1
Request.status=SRM_SUCCESS
explanation=null

SRM-CLIENT: RequestFileStatus for SURL=file:///home/dstrain/fusesrm-0.1.tar.gz is Ready.
SRM-CLIENT: received TURL=gsiftp://fermicloud110.fnal.gov//mnt/xrootd/stuff_srm23.tar.gz

SRM-CLIENT: Wed Oct 19 21:46:28 CDT 2011 start file transfer
SRM-CLIENT:Source=file:////home/dstrain/fusesrm-0.1.tar.gz
SRM-CLIENT:Target=gsiftp://fermicloud110.fnal.gov//mnt/xrootd/stuff_srm23.tar.gz

SRM-CLIENT: Wed Oct 19 21:46:31 CDT 2011 end file transfer for file:///home/dstrain/fusesrm-0.1.tar.gz

SRM-CLIENT: Wed Oct 19 21:46:31 CDT 2011 Calling putDone for srm://fermicloud110:8443/srm/v2/server?SFN=/mnt/xrootd/stuff_srm23.tar.gz
Result.status=SRM_SUCCESS
Result.Explanation=null

SRM-CLIENT: Request completed with success

SRM-CLIENT: Printing text report now ...

SRM-CLIENT*REQUESTTYPE=put
SRM-CLIENT*TOTALFILES=1
SRM-CLIENT*TOTAL_SUCCESS=1
SRM-CLIENT*TOTAL_FAILED=0
SRM-CLIENT*REQUEST_TOKEN=put:1
SRM-CLIENT*REQUEST_STATUS=SRM_SUCCESS
SRM-CLIENT*SOURCEURL[0]=file:///home/dstrain/fusesrm-0.1.tar.gz
SRM-CLIENT*TARGETURL[0]=srm://fermicloud110:8443/srm/v2/server?SFN=/mnt/xrootd/stuff_srm23.tar.gz
SRM-CLIENT*TRANSFERURL[0]=gsiftp://fermicloud110.fnal.gov//mnt/xrootd/stuff_srm23.tar.gz
SRM-CLIENT*ACTUALSIZE[0]=17881
SRM-CLIENT*FILE_STATUS[0]=SRM_SPACE_AVAILABLE
SRM-CLIENT*EXPLANATION[0]=SRM-CLIENT: PutDone is called successfully



</pre>
</div></div> <!--/twistyPlugin--> 
<p />
<h1><a name="How_to_get_Help"></a> How to get Help? </h1>
<p />
<p />
<p />
If you cannot resolve the problem, there are several ways to receive help:
<p /> <ul>
<li> For bug support and issues, submit a ticket to the <a href="https://ticket.grid.iu.edu/goc" target="_top">Grid Operations Center</a>.
</li> <li> For community support and best-effort software team support contact <a href="mailto&#58;osg&#45;software&#64;opensciencegrid&#46;org&#46;">osg-software&#64;opensciencegrid.org.</a>
</li></ul> 
<p />
For a full set of help options, see <a href="/bin/view/Documentation/Release3/HelpProcedure" class="twikiLink">Help Procedure</a>.
<!-- CONTENT MANAGEMENT PROJECT
############################################################################################################
 DEAR DOCUMENT OWNER
 <code><b>===============</b></code>
<p />
 Thank you for claiming ownership for this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/Documentation/Release3/FirstLast?topicparent=Documentation/Release3.InstallBestmanXrootdSE" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local OWNER = <span class="twikiNewLink">DouglasStrain<a href="/bin/edit/Documentation/Release3/DouglasStrain?topicparent=Documentation/Release3.InstallBestmanXrootdSE" rel="nofollow" title="DouglasStrain (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
 Please define the document area, choose one of the defined areas from the next line
 DOC_AREA = (<span class="twikiNewLink">ComputeElement<a href="/bin/edit/Documentation/Release3/ComputeElement?topicparent=Documentation/Release3.InstallBestmanXrootdSE" rel="nofollow" title="ComputeElement (this topic does not yet exist; you can create it)">?</a></span>|Storage|VO|Security|User|Monitoring|General|Trash/Trash/Integration|Operations|Tier3) <ul>
<li> Local DOC_AREA       = Storage
</li></ul> 
<p />
 define the primary role the document serves, choose one of the defined roles from the next line
 DOC_ROLE = (<span class="twikiNewLink">EndUser<a href="/bin/edit/Documentation/Release3/EndUser?topicparent=Documentation/Release3.InstallBestmanXrootdSE" rel="nofollow" title="EndUser (this topic does not yet exist; you can create it)">?</a></span>|Student|Developer|SysAdmin|VOManager) <ul>
<li> Local DOC_ROLE       = <span class="twikiNewLink">SysAdmin<a href="/bin/edit/Documentation/Release3/SysAdmin?topicparent=Documentation/Release3.InstallBestmanXrootdSE" rel="nofollow" title="SysAdmin (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
 Please define the document type, choose one of the defined types from the next line
 DOC_TYPE = (Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge) <ul>
<li> Local DOC_TYPE       = Installation  Please define if this document in general needs to be reviewed before release ( 1 | 0 )
</li> <li> Local INCLUDE_REVIEW = 1
</li></ul> 
<p />
 Please define if this document in general needs to be tested before release ( 1 | 0 ) <ul>
<li> Local INCLUDE_TEST   = 1
</li></ul> 
<p />
 change to 1 once the document is ready to be reviewed and back to 0 if that is not the case <ul>
<li> Local REVIEW_READY   = 1
</li></ul> 
<p />
 change to 1 once the document is ready to be tested and back to 0 if that is not the case <ul>
<li> Local TEST_READY     = 1
</li></ul> 
<p />
 change to 1 only if the document has passed the review and the test (if applicable) and is ready for release <ul>
<li> Local RELEASE_READY  = 0
</li></ul> 
<p />
<p />
 DEAR DOCUMENT REVIEWER
 <code><b>==================</b></code>
<p />
 Thank for reviewing this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/Documentation/Release3/FirstLast?topicparent=Documentation/Release3.InstallBestmanXrootdSE" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local REVIEWER       = <span class="twikiNewLink">NehaSharma<a href="/bin/edit/Documentation/Release3/NehaSharma?topicparent=Documentation/Release3.InstallBestmanXrootdSE" rel="nofollow" title="NehaSharma (this topic does not yet exist; you can create it)">?</a></span> Please define the review status for this document to be in progress ( 2 ), failed ( 0 ) or passed ( 1 )
</li> <li> Local REVIEW_PASSED  = 2
</li></ul> 
<p />
<p />
 DEAR DOCUMENT TESTER
 <code><b>================</b></code>
<p />
 Thank for testing this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/Documentation/Release3/FirstLast?topicparent=Documentation/Release3.InstallBestmanXrootdSE" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local TESTER         = <span class="twikiNewLink">NehaSharma<a href="/bin/edit/Documentation/Release3/NehaSharma?topicparent=Documentation/Release3.InstallBestmanXrootdSE" rel="nofollow" title="NehaSharma (this topic does not yet exist; you can create it)">?</a></span> Please define the test status for this document to be in progress ( 2 ), failed ( 0 ) or passed ( 1 )
</li> <li> Local TEST_PASSED    = 2
</li></ul> 
############################################################################################################
-->
<p />
<p />
-- <a href="/bin/view/Main/DouglasStrain" class="twikiLink">DouglasStrain</a> - 29 Aug 2011</div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Documentation/Release3<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Documentation/Release3/InstallBestPractices" class="twikiLink">InstallBestPractices</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>InstallBestmanXrootdSE</span> <br />    
Topic revision: r44 - 06 Dec 2016 - 18:12:41 - <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />