<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> InstallRSV_draft &lt; Documentation/Release3 &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Documentation/Release3/InstallRSV_draft?_T=16 Feb 2017" type="application/x-wiki" title="edit InstallRSV_draft" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Documentation/Release3/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Documentation/Release3/InstallRSV_draft"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFFFFF;
	}
	.patternBookView {
		border-color:#FFFFFF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--TWISTYPLUGIN_TWISTY--><style type="text/css" media="all">
@import url("https://twiki.opensciencegrid.org/twiki/pub/TWiki/TwistyContrib/twist.css");
</style>
<script type='text/javascript' src='https://twiki.opensciencegrid.org/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js'></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikiPref.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TwistyContrib/twist.compressed.js"></script>
<script type="text/javascript">
// <![CDATA[
var styleText = '<style type="text/css" media="all">.twikiMakeVisible{display:inline;}.twikiMakeVisibleInline{display:inline;}.twikiMakeVisibleBlock{display:block;}.twikiMakeHidden{display:none;}</style>';
document.write(styleText);
// ]]>
</script>

<!--TABLEPLUGIN_table1--><style type="text/css" media="all">
.tableSortIcon img {padding-left:.3em; vertical-align:text-bottom;}
</style>
<!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Installing_RSV"></a> Installing RSV </h1>
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Installing_RSV"> Installing RSV</a> <ul>
<li> <a href="?cover=print#About_This_Guide"> About This Guide</a>
</li> <li> <a href="?cover=print#Introduction_to_RSV"> Introduction to RSV</a>
</li> <li> <a href="?cover=print#Before_Starting"> Before Starting</a>
</li> <li> <a href="?cover=print#Installing_RSV_AN1"> Installing RSV</a> <ul>
<li> <a href="?cover=print#Optional_Special_one_time_clean"> (Optional) Special one-time clean-up instructions for RSV perfSONAR 1.1.2 or later</a>
</li></ul> 
</li> <li> <a href="?cover=print#Configuring_RSV"> Configuring RSV</a> <ul>
<li> <a href="?cover=print#Optional_configuration"> Optional configuration</a>
</li></ul> 
</li> <li> <a href="?cover=print#Using_RSV"> Using RSV</a> <ul>
<li> <a href="?cover=print#Managing_RSV_and_associated_serv"> Managing RSV and associated services</a>
</li> <li> <a href="?cover=print#Running_RSV_manually"> Running RSV manually</a>
</li></ul> 
</li> <li> <a href="?cover=print#Troubleshooting_RSV"> Troubleshooting RSV</a> <ul>
<li> <a href="?cover=print#Important_file_locations"> Important file locations</a>
</li> <li> <a href="?cover=print#Getting_more_information_from_rs"> Getting more information from rsv-control</a>
</li> <li> <a href="?cover=print#Using_the_RSV_verify_tool"> Using the RSV verify tool</a>
</li></ul> 
</li> <li> <a href="?cover=print#Getting_Help"> Getting Help</a>
</li> <li> <a href="?cover=print#Reference"> Reference</a> <ul>
<li> <a href="?cover=print#Users"> Users</a>
</li> <li> <a href="?cover=print#Certificates"> Certificates</a>
</li> <li> <a href="?cover=print#Networking"> Networking</a>
</li> <li> <a href="?cover=print#Screen_captures"> Screen captures</a>
</li></ul> 
</li></ul> 
</li></ul> 
</div>
<p />
<!-- conventions used in this document <ul>
<li> Local GLOSSARY_RSV = <a href="/bin/view/Documentation/GlossaryR#DefsRsv" class="twikiAnchorLink">Resource and Service Validation (RSV)</a>
</li> <li> Local UCL_HOST = rsv
</li> <li> Local UCL_USER = user
</li> <li> Local UCL_DOMAIN = opensciencegrid.org
</li> <li> Set TWISTY_OPTS_DETAILED = mode="div" showlink="Show Detailed Output" hidelink="Hide" showimgleft="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" hideimgleft="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" remember="on" start="hide" 
</li></ul> 
-->
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="About_This_Guide"></a> About This Guide </span></h2>
<p />
The Resource and Service Validation (RSV) software helps a site administrator verify that certain site resources and services are working as expected. OSG recommends that sites install and run RSV, but it is optional; further, each site selects which specific tests (called <em>probes</em>) to run.
<p />
Use this page to learn more about RSV in general, and how to install, configure, run, test, and troubleshoot RSV from the OSG software repositories. For documentation on specific probes or on how to write your own probes, please check the <a href="/bin/view/Documentation/Release3/InstallRSV_draft#Reference" class="twikiCurrentTopicLink twikiAnchorLink">Reference section</a>.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Introduction_to_RSV"></a> Introduction to RSV </span></h2>
<p />
<p />
The Resource and Service Validation (RSV) software provides OSG site administrators a scalable and easy-to-maintain resource and service monitoring infrastructure. The components of RSV are:
<p /> <ul>
<li> <strong>RSV Client.</strong> The client tools allow a site administrator to run tests against their site by providing a set of tests (which can run on the same or other hosts within a site), HTCondor-Cron for scheduling, and tools for collecting and storing the results (using Gratia). The client package is not installed by default and may be installed on a CE or other host. Generally, you configure the RSV client to run tests at scheduled time intervals and then it makes results available on a local website. Also, the client can upload test results to a central collector (see next item).
</li> <li> <strong>RSV Collector/Server.</strong> The central OSG RSV Collector accepts and stores results from RSV clients throughout OSG, which can be viewed in <a href="http://myosg.grid.iu.edu/" target="_top">MyOSG</a>, on the “Current RSV Status” page and under the “Resource Group” menu.
</li> <li> <strong>Periodic Availability Reports.</strong> The availability of all active registered OSG resources and the services running on each of those resources is calculated using the results received for <a href="https://twiki.grid.iu.edu/bin/view/Operations/RsvEquivalency#Critical_Tests_for_OSG_Resources" target="_new">critical metrics</a>. Once a day, these availability numbers are <a href="http://rsv.grid.iu.edu/daily-reports">published online</a> and via email <a href="https://twiki.grid.iu.edu/bin/view/Trash/Trash/MeasurementsAndMetrics/RsvReportsOverview" target="_new"> as explained here</a> (More information: <a href="https://twiki.grid.iu.edu/bin/view/Operations/RSVPeriodicReporting" target="_new">Outline of reports</a>,     <a href="https://twiki.grid.iu.edu/bin/view/Trash/Trash/MeasurementsAndMetrics/RsvReports" target="_new">Installation guide for GOC staff</a>).
</li> <li> <strong>RSV-SAM Transport.</strong> The WLCG RSV-SAM Transport infrastructure pushes out RSV results, for resources that are flagged to be part of the WLCG Interoperability agreement, from the GOC collector to WLCG's Service Availability Monitoring (SAM) system. More information on viewing these results is <a href="/bin/view/Operations/RsvSAMGridView" class="twikiLink">available here</a>.
</li> <li> <strong>MyOSG and OIM Links.</strong> RSV picks up resource information, WLCG interoperability information, etc., from a MyOSG resource group summary listing, which is in turn based on the <a href="https://oim.grid.iu.edu" target="_new">OSG Information Management (OIM) (topology) system</a> (Requires registration). Resource <a href="https://twiki.grid.iu.edu/twiki/bin/view/Operations/OIMMaintTool">maintenance scheduled on OIM</a>, are forwarded to WLCG SAM, if applicable. 
</li></ul> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Before_Starting"></a> Before Starting </span></h2>
<p />
Before starting the installation process, consider the following points (consulting <a href="/bin/view/Documentation/Release3/InstallRSV_draft#ReferenceSection" class="twikiCurrentTopicLink twikiAnchorLink">the Reference section below</a> as needed):
<p /> <ul>
<li> <strong>User IDs:</strong> If they do not exist already, the installation will create the Linux user IDs <code>rsv</code> and <code>cndrcron</code>
</li> <li> <strong>Service certificate:</strong> The RSV service uses a service certificate at <code>/etc/grid-security/rsv/rsv*.pem</code>
</li> <li> <strong>Network ports:</strong> To view results, port 80 must accept incoming requests; outbound connectivity to tested services must work, too
</li> <li> <strong>Host choice:</strong> Install RSV on your site CE unless you have specific reasons (e.g., performance) for installing on a separate host
</li></ul> 
<p />
As with all OSG software installations, there are some one-time (per host) steps to prepare in advance:
<p /> <ul>
<li> Ensure the RSV host has <a href="/bin/view/Documentation/Release3/SupportedOperatingSystems" class="twikiLink">a supported operating system</a>
</li> <li> Obtain root access to the host
</li> <li> Prepare <a href="/bin/view/Documentation/Release3/YumRepositories" class="twikiLink">the required Yum repositories</a>
</li> <li> Install <a href="/bin/view/Documentation/Release3/InstallCertAuth" class="twikiLink">CA certificates</a>
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Installing_RSV_AN1"></a> Installing RSV </span></h2>
<p />
An installation of RSV at a site consists of the RSV client software, the Apache web server, parts of HTCondor (for its cron-like scheduling capabilities), and various other small tools. To simplify installation, OSG provides a convenience RPM that installs all required software with a single command.
<p /> <ol>
<li> Consider updating your local cache of Yum repository data and your existing RPM packages:       <pre class="rootscreen">[root@rsv ~]$ yum clean all --enablerepo=*
[root@rsv ~]$ yum update</pre>       <p><strong>Note:</strong> The <code>update</code> command will update <strong>all</strong> packages on your system.</p>
</li> <li> If you have installed HTCondor already but not by RPM, install a special empty RPM to make RSV happy:       <pre class="rootscreen">[root@rsv ~]$ yum install empty-condor --enablerepo=osg-empty</pre>
</li> <li> Install RSV and related software:       <pre class="rootscreen">[root@rsv ~]$ yum install rsv</pre>
</li></ol> 
<p />
<h3><a name="Optional_Special_one_time_clean"></a> (Optional) Special one-time clean-up instructions for RSV perfSONAR 1.1.2 or later </h3>
<p />
If you run <code>rsv-perfsonar</code> and have upgraded from version 1.1.1 or earlier to version 1.1.2 or later, there is a clean-up step you should take to fix an unnecessary symlink. This optional, one-time procedure is recommended if it applies to your installation.
<p /> <ol>
<li> Check to see if you need to perform this step:       <pre class="rootscreen">[root@rsv ~]$ ls -l /usr/share/rsv/www</pre>       <p>If <code>www</code> is a symlink to <code>/var/www/html/rsv</code>, then continue with the procedure; if not, then you are done!</p>
</li> <li> Stop (only) the RSV service using the instructions below
</li> <li> Verify that RSV is not running:       <pre class="rootscreen">[root@rsv ~]$ condor_cron_q
   0 jobs; 0 completed, 0 removed, 0 idle, 0 running, 0 held, 0 suspended</pre>
</li> <li> Remove the symbolic link:       <pre class="rootscreen">[root@rsv ~]$ unlink /usr/share/rsv/www</pre>
</li> <li> Move the formerly linked directory into place:       <pre class="rootscreen">[root@rsv ~]$ mv -f /var/www/html/rsv /usr/share/rsv/www</pre>
</li> <li> Make sure that all RSV files are owned by RSV:       <pre class="rootscreen">[root@rsv ~]$ chown -R rsv:rsv /usr/share/rsv/www</pre>
</li> <li> Restart the RSV service using the instructions below
</li></ol> 
<p />
This procedure can be done before or after upgrading the <code>rsv-perfsonar</code> package to version 1.1.2 or later.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Configuring_RSV"></a> Configuring RSV </span></h2>
<p />
After installation, there are some one-time configuration steps to tell RSV how to operate at your site.
<p /> <ol>
<li> <p>Edit <code>/etc/osg/config.d/30-rsv.ini</code> and follow the instructions in the file. There are detailed comments for each setting. In the simplest case — to monitor only your CE — set the <code>htcondor_ce_hosts</code> variable (or <code>gram_ce_hosts</code> for a GRAM CE) to the fully qualified hostname of your CE. For a sample <code>rsv.ini</code> file, see the complete installation output below.</p>
</li> <li> <p>If you have installed HTCondor already but not by RPM, specify the location of the Condor installation in <code>30-rsv.ini</code> in the <code>condor_location</code> setting. If an HTCondor RPM is installed, you do not need to set <code>condor_location</code>.</p>
</li> <li> <p>Complete the configuration using the <code>osg-configure</code> tool:       <pre class="rootscreen">[root@rsv ~]$ osg-configure -v
[root@rsv ~]$ osg-configure -c</pre>       <p><strong>Note:</strong> The <code>osg-configure</code> tool produces a lot of output; see below for an example.</p>
</li></ol> 
<p />
<h3><a name="Optional_configuration"></a> Optional configuration </h3>
<p />
The following configuration steps are optional and will likely not be required for setting up a small or typical site. If you do not need any of the following special configurations, skip to <a href="/bin/view/Documentation/Release3/InstallRSV_draft#UsingRSV" class="twikiCurrentTopicLink twikiAnchorLink">the section on using RSV</a>.
<p />
Generally speaking, read the <a href="/bin/view/Documentation/Release3/ConfigureRsv" class="twikiLink">ConfigureRsv</a> page for more advanced configuration options. Or see below for specific advanced configuration scenarios.
<p />
<h4><a name="Configuring_RSV_to_run_probes_us"></a> Configuring RSV to run probes using a remote server </h4>
<p />
RSV monitors systems by running probes, which can run on the RSV host itself (the default case), via a separate batch system like HTCondor, or via a remote batch system using a Globus gatekeeper and its job manager. The last two options both can count those jobs and report them to, for example, Gratia.
<p />
In this case, remember to: <ul>
<li> Add the RSV user <code>rsv</code> on all the systems where the probes may run, and
</li> <li> Map the RSV service certificate to the user you intend to use for RSV. This should be a local user used exclusively for RSV and not belonging to an institutional VO to avoid for the RSV probes to be accounted as regular VO jobs in Gratia. This can be done in <a href="/bin/view/Documentation/Release3/InstallGums" class="twikiLink">GUMS</a> or <a href="/bin/view/Documentation/Release3/Edg-mkgridmap" class="twikiLink">using a grid-mapfile-local</a> (if you use a grid-mapfile). <a href="/bin/view/Documentation/Release3/MapServiceCertToRsvUser" class="twikiLink">MapServiceCertToRsvUser</a> explains how to configure GUMS or the grid-mapfile. Also see the <a href="/bin/view/Documentation/Release3/NavAdminCompute" class="twikiLink">CE installation document</a> for more information.
</li></ul> 
<p />
<a name="ConfiguringForHTTPS"></a>
<h4><a name="Configuring_the_RSV_web_server_t"></a> Configuring the RSV web server to use HTTPS instead of HTTP </h4>
<p />
If you would like your local RSV web server to use HTTPS instead of the default HTTP (for compatibility or security reasons), complete the steps below. This procedure assumes that you already have an HTTP service certificate (or a copy of the host certificate) in <code>/etc/grid-security/http/</code>. If not, omit the <code>SSLCertificate*</code> modifications below, and your web server will start with its own, self-signed certificate.
<p /> <ol>
<li> Install <code>mod_ssl</code>:       <pre class="rootscreen">[root@rsv ~]$ yum install mod_ssl</pre>
</li> <li> Make an alternate set of HTTP service certificate files:       <pre class="rootscreen">[root@rsv ~]$ cp -p /etc/grid-security/http/httpcert.pem /etc/grid-security/http/httpcert2.pem
[root@rsv ~]$ cp -p /etc/grid-security/http/httpkey.pem /etc/grid-security/http/httpkey2.pem
[root@rsv ~]$ chown apache:apache /etc/grid-security/http/http*2.pem</pre>
</li> <li> Back up existing Apache configuration files:       <pre class="rootscreen">[root@rsv ~]$ cp -p /etc/httpd/conf/httpd.conf /etc/httpd/conf/httpd.conf.orig
[root@rsv ~]$ cp -p /etc/httpd/conf.d/ssl.conf /etc/httpd/conf.d/ssl.conf.orig</pre>
</li> <li> Change the default port for HTTP connections to 8000 by editing <code>/etc/httpd/conf/httpd.conf</code>:       <pre class="file">Listen 8000</pre>
</li> <li> Set up HTTPS access by editing <code>/etc/httpd/conf.d/ssl.conf</code>:       <pre class="file">
Listen 8443
&lt;VirtualHost _default_:8443&gt;
SSLCertificateFile /etc/grid-security/http/httpcert2.pem
SSLCertificateKeyFile /etc/grid-security/http/httpkey2.pem</pre>
</li></ol> 
<p />
After these changes, when you start the Apache service, it will listening on ports <code>8000</code> (for HTTP) and <code>8443</code> (for HTTPS), rather than the default port <code>80</code> (for HTTP only).
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" />     <strong><font color="#ff0000"> WARNING! </font></strong> </dt><dd>  If you make the changes above, you must restart the Apache server after each CA certificate update to pick up the changes.
</dd></dl> 
<p />
<a name="UsingRSV"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Using_RSV"></a> Using RSV </span></h2>
<p />
<h3><a name="Managing_RSV_and_associated_serv"></a> Managing RSV and associated services </h3>
<p />
In addition to the RSV service itself, there are a number of supporting services in your installation. The specific services are:
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table1" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <font color="#252b37">Software</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <font color="#252b37">Service name</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <font color="#252b37">Notes</font> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Fetch CRL </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> On EL 6: <code>fetch-crl-boot</code> and <code>fetch-crl-cron</code> <br />     On EL 5: <code>fetch-crl3-boot</code> and <code>fetch-crl3-cron</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> See <a href="/bin/view/Documentation/Release3/InstallCertAuth#Start_Stop_fetch_crl_A_quick_gui" class="twikiAnchorLink">CA documentation</a> for more info </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> Apache </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <code>httpd</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> HTCondor-Cron </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <code>condor-cron</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> RSV </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLast"> <code>rsv</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> &nbsp; </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
Start the services in the order listed and stop them in reverse order. As a reminder, here are common service commands (all run as <code>root</code>):
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table2" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <font color="#252b37">To &hellip;</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <font color="#252b37">Run the command &hellip;</font> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Start a service </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <code>service <em>SERVICE-NAME</em> start</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> Stop a service </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> <code>service <em>SERVICE-NAME</em> stop</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Enable a service to start during boot </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <code>chkconfig <em>SERVICE-NAME</em> on</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> Disable a service from starting during boot </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> <code>chkconfig <em>SERVICE-NAME</em> off</code> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<h3><a name="Running_RSV_manually"></a> Running RSV manually </h3>
<p />
Normally, the HTCondor-Cron scheduler runs RSV periodically. However, you can run RSV probes manually at any time:
<p />
<pre class="rootscreen">[root@rsv ~]$ rsv-control --run --all-enabled</pre>
<p />
If successful, results will be available from your local RSV web server (e.g., <a href="http://localhost/rsv" target="_top">http://localhost/rsv</a>) and, if enabled (which is the default) on <a href="http://myosg.grid.iu.edu/" target="_top">MyOSG</a>.
<p />
You can also run the metrics individually or pass special parameters as explained in the <a href="/bin/view/Documentation/Release3/RsvControl" class="twikiLink">rsv-control document</a>.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Troubleshooting_RSV"></a> Troubleshooting RSV </span></h2>
<p />
You can find more information on troubleshooting RSV in the <a href="/bin/view/Documentation/Release3/RsvControl" class="twikiLink">rsv-control documentation</a> and in <a href="/bin/view/Documentation/Release3/TroubleshootRsv" class="twikiLink">TroubleshootRSV</a>.
<p />
<h3><a name="Important_file_locations"></a> Important file locations </h3>
<p />
Logs and configuration:
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table3" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=0;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">File Description</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=1;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Location</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=2;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Comment</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Metric log files </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <code>/var/log/rsv/metrics</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> Consumer log files </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <code>/var/log/rsv/consumers</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> HTML files </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> <code>/usr/share/rsv/www/</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> Available at <a href="http://your.host.example.com/rsv" target="_top">http://your.host.example.com/rsv</a> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table4" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=0;table=4;up=0#sorted_table" title="Sort by this column"><font color="#252b37">File Description</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=1;table=4;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Location</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=2;table=4;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Comment</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Initial configuration </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <code>/etc/osg/config.d/30-rsv.ini</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> Read by <code>osg-configure</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> RSV configuration </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <code>/etc/rsv</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> Generally files in this directory should not be edited directly.  Use <code>osg-configure</code> instead. </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> Metric configuration </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> <code>/etc/rsv/metrics/HOSTNAME/METRICNAME.conf</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> To change arguments and environment </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
To find the metrics and the other files in RSV you can use also the RPM commands: <code>rpm -ql rsv-metrics</code> and <code>rpm -ql rsv</code>.
<p />
<p />
<h3><a name="Getting_more_information_from_rs"></a> Getting more information from rsv-control </h3>
The first step to getting more information is to run <code>rsv-control</code> with more verbosity.  Use the <code>--verbose</code> (<code>-v</code>) flag.  This flag can be used with any of rsv-control's abilities (run, enable, list, etc).  The verbosity levels are: <ul>
<li> 0 = print nothing
</li> <li> 1 = print warnings and errors along with usual output of command being run (1 is the default level)
</li> <li> 2 = adds informational messages
</li> <li> 3 = full debugging output
</li></ul> 
For example, here is the output when running a metric with -v2.
<div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdDocumentation/Release3RsvControl1show" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Show Detailed Output</span></a> </span> <span id="twistyIdDocumentation/Release3RsvControl1hide" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyHidden twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdDocumentation/Release3RsvControl1toggle" class="twistyRememberSetting twistyStartHide twistyContent twikiMakeHidden twistyInited0"> 
<pre class="rootscreen">
[root@fermicloud016 condor]# rsv-control -r org.osg.general.osg-version -v 2 -u osg-edu.cs.wisc.edu
INFO: Reading configuration file /etc/rsv/rsv.conf
INFO: Reading configuration file /etc/rsv/consumers.conf
INFO: Validating configuration:
INFO: Validating user:
INFO:     Invoked as root.  Switching to 'rsv' user (uid: 100 - gid: 102)
INFO: Registered consumers: html-consumer, gratia-consumer
INFO: Loading config file '/etc/rsv/meta/metrics/org.osg.general.osg-version.meta'
INFO: Loading config file '/etc/rsv/metrics/org.osg.general.osg-version.conf'
INFO: Optional config file '/etc/rsv/metrics/osg-edu.cs.wisc.edu/org.osg.general.osg-version.conf' does not exist
INFO: Checking proxy:
INFO:     Using service certificate proxy
INFO: Running command with timeout (1200 seconds):
        /usr/bin/openssl x509 -in /tmp/rsvproxy -noout -enddate -checkend 21600
INFO: Exit code of job: 0
INFO:     Service certificate valid for at least 6 hours.
INFO: Pinging host osg-edu.cs.wisc.edu:
INFO: Running command with timeout (1200 seconds):
        /bin/ping -W 3 -c 1 osg-edu.cs.wisc.edu
INFO: Exit code of job: 0
INFO:     Ping successful

Running metric org.osg.general.osg-version:

INFO: Executing job remotely using Condor-G
INFO: Setting up job environment:
INFO:     No environment setup declared
INFO: Condor-G working directory: /var/tmp/rsv/condor_g-JiQthF
INFO: Forming arguments:
INFO:     Arguments: ''
INFO: List of files to transfer: /usr/libexec/rsv/probes/RSVMetric.pm
INFO: Condor submission: Submitting job(s).
1 job(s) submitted to cluster 2.
INFO: Trimming data to 10000 bytes because details-data-trim-length is set
INFO: Creating record for html-consumer consumer at '/var/spool/rsv/html-consumer/org.osg.general.osg-version.7rgLfn'
INFO: Creating record for gratia-consumer consumer at '/var/spool/rsv/gratia-consumer/org.osg.general.osg-version.-qelnL'
INFO: Result:

metricName: org.osg.general.osg-version
metricType: status
timestamp: 2012-01-25 16:12:40 CST
metricStatus: OK
serviceType: OSG-CE
serviceURI: osg-edu.cs.wisc.edu
gatheredAt: fermicloud016.fnal.gov
summaryData: OK
detailsData: OSG 1.2.26

EOT
</pre>
</div></div> <!--/twistyPlugin-->
<p />
<p />
<p />
<h3><a name="Using_the_RSV_verify_tool"></a> Using the RSV verify tool </h3>
The <code>--verify</code> flag will run some basic checks for your RSV installation.  
<div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdDocumentation/Release3RsvControl2show" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Show Detailed Output</span></a> </span> <span id="twistyIdDocumentation/Release3RsvControl2hide" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyHidden twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdDocumentation/Release3RsvControl2toggle" class="twistyRememberSetting twistyStartHide twistyContent twikiMakeHidden twistyInited0"> 
<pre class="screen">
$> rsv-control --verify
Testing if Condor-Cron is running...
OK

Testing if metrics are running...
OK (98 running metrics)

Testing if consumers are running...
OK (1 running consumers)

Checking which consumers are configured...
The following consumers are enabled: html-consumer
WARNING: The gratia-consumer is not enabled.  This indicates that your
         resource is not reporting to OSG.
</pre>
</div></div> <!--/twistyPlugin-->
<p />
<p />
This tool is still under development and it does only basic checks, but it is a good first step when debugging issues.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Getting_Help"></a> Getting Help </span></h2>
<p />
To get assistance, please use <a href="/bin/view/Documentation/HelpProcedure" class="twikiLink">this page</a>.
<p />
<p />
RSV has a tool to collect information useful for troubleshooting. For most problems the RSV support team will ask you to generate a profile tarball to share information (including log and configuration files).  
You can save some time by doing so with your original request:
<pre class="screen">
$> rsv-control --profile
Running the rsv-profiler...
OSG-RSV Profiler
Analyzing...
Making tarball (rsv-profiler.tar.gz)
</pre>
<p />
<p />
<a name="ReferenceSection"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Reference"></a> Reference </span></h2>
<p />
Here are some other RSV documents that might be helpful: <ul>
<li> A longer <a href="/bin/view/Documentation/Release3/RsvOverview" class="twikiLink">introduction to RSV</a>
</li> <li> <a href="/bin/view/Documentation/Release3/RsvArchitecture" class="twikiLink">The RSV architecture</a>
</li> <li> <a href="/bin/view/Documentation/Release3/RSVStorageProbes" class="twikiLink">RSV storage probes</a>
</li></ul> 
<p />
<h3><a name="Users"></a> Users </h3>
<p />
The RSV installation will create two users unless they are already created. The users are created when the <code>rsv</code> and <code>condor-cron</code> packages are installed.
<p />
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table5" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=0;table=5;up=0#sorted_table" title="Sort by this column"><font color="#252b37">User</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=1;table=5;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Comment</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>rsv</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Runs the RSV tests; the RSV certificate (below) will need to be owned by this user </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>cndrcron</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> Runs the Condor Cron processes to schedule the running of the tests </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
Note that if you pre-create the RSV user, it should have a working shell. That is, it shouldn't have a default shell of <code>/sbin/nologin</code>.
<p />
<strong>WARNING:</strong> If you manage your <code>/etc/passwd</code> file with configuration management software such as Puppet, CFEngine or 411, make sure the UID and GID in <code>/etc/condor-cron/config.d/condor_ids</code> matches the UID and GID of the <code>cndrcron</code> user and group in <code>/etc/passwd</code>.
<p />
<h3><a name="Certificates"></a> Certificates </h3>
<p />
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table6" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=0;table=6;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Certificate</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=1;table=6;up=0#sorted_table" title="Sort by this column"><font color="#252b37">User that owns certificate</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=2;table=6;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Path to certificate</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> RSV service certificate </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> <code>rsv</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> <code>/etc/grid-security/rsv/rsvcert.pem</code> <br />     <code>/etc/grid-security/rsv/rsvkey.pem</code> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
Ensure an RSV service certificate is installed in <code>/etc/grid-security/rsv/</code> and the certificate files are owned by the <code>rsv</code> user.  Adjust the permissions if necessary (cert needs to be readable by all, key needs to be readable by nobody but owner).
<p />
You may need another certificate owned by <code>apache</code> if you'd like an authenticated web server; see <a href="/bin/view/Documentation/Release3/InstallRSV_draft#ConfiguringForHTTPS" class="twikiCurrentTopicLink twikiAnchorLink">Configuring the RSV web server to use HTTPS instead of HTTP</a> above.
<p />
See <a href="/bin/view/Documentation/Release3/InstallCertScripts" class="twikiLink">instructions</a> to request a service certificate.
<p />
<h3><a name="Networking"></a> Networking </h3>
<p />
<p />
<p />
<!-- No variables can be defined because will not be visible in the including document
Need this because double quotes used in Y in TWikiPreferences or ICON cause problems (replaced with single ones) <ul>
<li> Set ALTy = <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' />    
</li></ul> 
ALTy replacend inline whenever the icon is needed.
-->
For more details on overall Firewall configuration, please see our <a href="/bin/view/Documentation/Release3/FirewallInformation" class="twikiLink">Firewall documentation</a>.
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
         <table cellspacing="0" id="table7" cellpadding="0" class="twikiTable" rules="cols" border="1">      
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=0;table=7;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Service Name</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=1;table=7;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Protocol</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=2;table=7;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Port Number</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol3"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=3;table=7;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Inbound</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol4"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=4;table=7;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Outbound</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol5 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallRSV_draft?cover=print;sortcol=5;table=7;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Comment</font></a> </th>
		</tr>      
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> HTTP </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol1"> tcp </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol2"> 80 </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol3"> <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' /> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol4"> &nbsp; </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol5 twikiLastCol"> RSV runs an HTTP server (Apache) that publishes a page with the RSV testing results </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> HTTP </td>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol1"> tcp </td>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol2"> 80 </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol3"> &nbsp; </td>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol4"> <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' /> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol5 twikiLastCol"> RSV pushes testing results to the OSG Gratia Collectors at opensciencegrid.org </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> various </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol1 twikiLast"> various </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol2 twikiLast"> various </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol3 twikiLast"> &nbsp; </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol4 twikiLast"> <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' /> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol5 twikiLastCol twikiLast"> Allow outbound network connection <em>to all services that you want to test</em> </td>
		</tr>      </table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
Or, if you'd rather have your RSV web page appear as <code><font color="#ff0000">https</font>://...:8443/rsv/</code> like it used to in OSG 1.2, the first column above would be <strong>HTTPS</strong> / <strong>tcp</strong> / <strong>8443</strong>. See above for how to configure this.
<p />
<h3><a name="Screen_captures"></a> Screen captures </h3>
<p />
Below are long, detailed screen captures of various procedures and files described in this document. Click on a description to show the content.
<p />
<div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdDocumentation/Release3InstallRSV_draft3show" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Show installation example</span></a> </span> <span id="twistyIdDocumentation/Release3InstallRSV_draft3hide" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyHidden twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdDocumentation/Release3InstallRSV_draft3toggle" class="twistyRememberSetting twistyStartHide twistyContent twikiMakeHidden twistyInited0"> 
Example installation (this example is from osg-development):
<pre class="rootscreen">
[root@fermicloud107 ~]# wget http://download.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm
--2011-11-09 11:28:51--  http://download.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm
Resolving download.fedoraproject.org... 140.211.169.197, 152.19.134.146, 209.132.181.16, ...
Connecting to download.fedoraproject.org|140.211.169.197|:80... connected.
HTTP request sent, awaiting response... 302 FOUND
Location: http://mirror.its.uidaho.edu/pub/epel/5/i386/epel-release-5-4.noarch.rpm [following]
--2011-11-09 11:28:51--  http://mirror.its.uidaho.edu/pub/epel/5/i386/epel-release-5-4.noarch.rpm
Resolving mirror.its.uidaho.edu... 129.101.198.59
Connecting to mirror.its.uidaho.edu|129.101.198.59|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 12232 (12K) [application/octet-stream]
Saving to: `epel-release-5-4.noarch.rpm'

100%[======================================>] 12,232      --.-K/s   in 0.1s

2011-11-09 11:28:52 (94.3 KB/s) - `epel-release-5-4.noarch.rpm' saved [12232/12232]

[root@fermicloud107 ~]# rpm -i epel-release-5-4.noarch.rpm
warning: epel-release-5-4.noarch.rpm: Header V3 DSA signature: NOKEY, key ID 217521f6

[root@fermicloud107 ~]#
[root@fermicloud107 ~]# yum -y install yum-priorities
Loaded plugins: kernel-module
epel                                                     | 3.7 kB     00:00
epel/primary_db                                          | 3.8 MB     00:01
fermi-base                                               | 2.1 kB     00:00
fermi-security                                           | 1.9 kB     00:00
fermi-security/primary_db                                | 1.8 MB     00:00
sl-base                                                  | 2.1 kB     00:00
Setting up Install Process
Resolving Dependencies
--> Running transaction check
---> Package yum-priorities.noarch 0:1.1.16-14.el5 set to be updated
--> Finished Dependency Resolution
Beginning Kernel Module Plugin
Finished Kernel Module Plugin

Dependencies Resolved

================================================================================
 Package               Arch          Version               Repository      Size
================================================================================
Installing:
 yum-priorities        noarch        1.1.16-14.el5         sl-base         14 k

Transaction Summary
================================================================================
Install       1 Package(s)
Upgrade       0 Package(s)

Total download size: 14 k
Downloading Packages:
yum-priorities-1.1.16-14.el5.noarch.rpm                  |  14 kB     00:00
Running rpm_check_debug
Running Transaction Test
Finished Transaction Test
Transaction Test Succeeded
Running Transaction
  Installing     : yum-priorities                                           1/1

Installed:
  yum-priorities.noarch 0:1.1.16-14.el5

Complete!
[root@fermicloud107 ~]# rpm -Uvh http://repo.grid.iu.edu/osg-release-latest.rpm
Retrieving http://repo.grid.iu.edu/osg-release-latest.rpm
warning: /var/tmp/rpm-xfer.mrUJYL: Header V3 DSA signature: NOKEY, key ID 824b8603
Preparing...                ########################################### [100%]
   1:osg-release            ########################################### [100%]
[root@fermicloud107 ~]# yum --enablerepo=osg-development install rsv
Loaded plugins: kernel-module, priorities
osg                                                      | 1.9 kB     00:00
osg/primary_db                                           | 217 kB     00:00
osg-development                                          | 1.9 kB     00:00
osg-development/primary_db                               | 336 kB     00:00
1234 packages excluded due to repository priority protections
Setting up Install Process
Resolving Dependencies
--> Running transaction check
---> Package rsv.noarch 0:3.6.3-1.osg set to be updated
--> Processing Dependency: condor-cron for package: rsv
--> Processing Dependency: rsv-consumers for package: rsv
--> Processing Dependency: rsv-core for package: rsv
--> Processing Dependency: grid-certificates for package: rsv
--> Processing Dependency: rsv-metrics for package: rsv
--> Processing Dependency: osg-configure for package: rsv
--> Processing Dependency: osg-configure-rsv for package: rsv
--> Running transaction check
---> Package condor-cron.noarch 0:1.0.5-3.osg set to be updated
--> Processing Dependency: condor for package: condor-cron
---> Package osg-ca-certs.noarch 0:1.24-1 set to be updated
---> Package osg-configure.noarch 0:0.6.7-1.osg set to be updated
---> Package osg-configure-rsv.noarch 0:0.6.7-1.osg set to be updated
---> Package rsv-consumers.noarch 0:3.6.3-1.osg set to be updated
--> Processing Dependency: gratia-probe-metric for package: rsv-consumers
--> Processing Dependency: httpd for package: rsv-consumers
---> Package rsv-core.noarch 0:3.6.3-1.osg set to be updated
--> Processing Dependency: /usr/bin/globus-job-run for package: rsv-core
--> Processing Dependency: /usr/bin/grid-proxy-info for package: rsv-core
--> Processing Dependency: sharutils for package: rsv-core
---> Package rsv-metrics.noarch 0:3.6.3-1.osg set to be updated
--> Processing Dependency: /usr/bin/globus-url-copy for package: rsv-metrics
--> Processing Dependency: uberftp for package: rsv-metrics
--> Processing Dependency: bestman2-client for package: rsv-metrics
--> Processing Dependency: perl(Date::Manip) for package: rsv-metrics
--> Processing Dependency: /usr/bin/ldapsearch for package: rsv-metrics
--> Running transaction check
---> Package bestman2-client.noarch 0:2.1.3-2.osg set to be updated
--> Processing Dependency: bestman2-common-libs = 2.1.3-2.osg for package: bestman2-client
--> Processing Dependency: bestman2-client-libs = 2.1.3-2.osg for package: bestman2-client
---> Package condor.x86_64 0:7.6.2-0.6.osg.3 set to be updated
--> Processing Dependency: condor-procd = 7.6.2-0.6.osg.3 for package: condor
--> Processing Dependency: condor-classads = 7.6.2-0.6.osg.3 for package: condor
--> Processing Dependency: gsoap >= 2.7.12 for package: condor
--> Processing Dependency: libglobus_gssapi_gsi.so.4(globus_gssapi_gsi)(64bit) for package: condor
--> Processing Dependency: libglobus_common.so.0(GLOBUS_COMMON_14)(64bit) for package: condor
--> Processing Dependency: libglobus_ftp_control.so.1()(64bit) for package: condor
--> Processing Dependency: libglobus_ftp_client.so.2()(64bit) for package: condor
--> Processing Dependency: libglobus_proxy_ssl.so.1()(64bit) for package: condor
--> Processing Dependency: libglobus_gsi_callback.so.0()(64bit) for package: condor
--> Processing Dependency: libglobus_gssapi_error.so.2()(64bit) for package: condor
--> Processing Dependency: libglobus_xio.so.0()(64bit) for package: condor
--> Processing Dependency: libglobus_oldgaa.so.0()(64bit) for package: condor
--> Processing Dependency: libglobus_gssapi_gsi.so.4()(64bit) for package: condor
--> Processing Dependency: libglobus_callout.so.0()(64bit) for package: condor
--> Processing Dependency: libglobus_gsi_credential.so.1()(64bit) for package: condor
--> Processing Dependency: libglobus_gsi_sysconfig.so.1()(64bit) for package: condor
--> Processing Dependency: libltdl.so.3()(64bit) for package: condor
--> Processing Dependency: libglobus_gsi_cert_utils.so.0()(64bit) for package: condor
--> Processing Dependency: libglobus_openssl.so.0()(64bit) for package: condor
--> Processing Dependency: libglobus_gram_protocol.so.3()(64bit) for package: condor
--> Processing Dependency: libgsoapssl++.so.0()(64bit) for package: condor
--> Processing Dependency: libglobus_io.so.3()(64bit) for package: condor
--> Processing Dependency: libglobus_gass_transfer.so.2()(64bit) for package: condor
--> Processing Dependency: libglobus_gram_client.so.3()(64bit) for package: condor
--> Processing Dependency: libglobus_gsi_proxy_core.so.0()(64bit) for package: condor
--> Processing Dependency: libglobus_openssl_error.so.0()(64bit) for package: condor
--> Processing Dependency: libglobus_common.so.0()(64bit) for package: condor
--> Processing Dependency: libvomsapi.so.1()(64bit) for package: condor
--> Processing Dependency: libglobus_gss_assist.so.3()(64bit) for package: condor
--> Processing Dependency: libglobus_rsl.so.2()(64bit) for package: condor
---> Package globus-gass-copy-progs.x86_64 0:8.1-2.osg set to be updated
--> Processing Dependency: globus-gass-copy = 8.1-2.osg for package: globus-gass-copy-progs
--> Processing Dependency: libglobus_gass_copy.so.2()(64bit) for package: globus-gass-copy-progs
---> Package globus-gram-client-tools.x86_64 0:10.0-3.osg set to be updated
--> Processing Dependency: globus-gass-server-ez >= 4 for package: globus-gram-client-tools
--> Processing Dependency: libglobus_gass_server_ez.so.2()(64bit) for package: globus-gram-client-tools
---> Package globus-proxy-utils.x86_64 0:5.0-3.osg set to be updated
---> Package gratia-probe-metric.noarch 0:1.09-0.6.pre set to be updated
--> Processing Dependency: gratia-probe-common >= 1.09-0.6.pre for package: gratia-probe-metric
---> Package httpd.x86_64 0:2.2.3-53.sl5.3 set to be updated
epel/filelists_db                                        | 5.5 MB     00:04
fermi-base/filelists_db                                  |  34 kB     00:00
fermi-security/filelists_db                              | 7.6 MB     00:00
osg/filelists_db                                         | 123 kB     00:00
osg-development/filelists_db                             | 252 kB     00:00
sl-base/filelists_db                                     | 3.6 MB     00:00
--> Processing Dependency: libaprutil-1.so.0()(64bit) for package: httpd
--> Processing Dependency: libapr-1.so.0()(64bit) for package: httpd
---> Package openldap-clients.x86_64 0:2.3.43-12.el5_6.7 set to be updated
---> Package perl-DateManip.noarch 0:5.44-1.2.1 set to be updated
---> Package sharutils.x86_64 0:4.6.1-2 set to be updated
---> Package uberftp.x86_64 0:2.6-3.osg set to be updated
--> Running transaction check
---> Package apr.x86_64 0:1.2.7-11.el5_6.5 set to be updated
---> Package apr-util.x86_64 0:1.2.7-11.el5_5.2 set to be updated
--> Processing Dependency: libpq.so.4()(64bit) for package: apr-util
---> Package bestman2-client-libs.noarch 0:2.1.3-2.osg set to be updated
--> Processing Dependency: java-1.6.0-sun-compat for package: bestman2-client-libs
---> Package bestman2-common-libs.noarch 0:2.1.3-2.osg set to be updated
---> Package condor-classads.x86_64 0:7.6.2-0.6.osg.3 set to be updated
---> Package condor-procd.x86_64 0:7.6.2-0.6.osg.3 set to be updated
---> Package globus-callout.x86_64 0:2.1-2.osg set to be updated
---> Package globus-common.x86_64 0:14.3-1.osg set to be updated
---> Package globus-ftp-client.x86_64 0:7.1-2.osg set to be updated
--> Processing Dependency: globus-xio-popen-driver >= 2 for package: globus-ftp-client
---> Package globus-ftp-control.x86_64 0:4.2-2.osg set to be updated
---> Package globus-gass-copy.x86_64 0:8.1-2.osg set to be updated
---> Package globus-gass-server-ez.x86_64 0:4.1-2.osg set to be updated
---> Package globus-gass-transfer.x86_64 0:7.1-2.osg set to be updated
---> Package globus-gram-client.x86_64 0:12.2-2.osg set to be updated
---> Package globus-gram-protocol.x86_64 0:11.1-2.osg set to be updated
---> Package globus-gsi-callback.x86_64 0:4.1-2.osg set to be updated
---> Package globus-gsi-cert-utils.x86_64 0:8.1-2.osg set to be updated
---> Package globus-gsi-credential.x86_64 0:5.1-2.osg set to be updated
---> Package globus-gsi-openssl-error.x86_64 0:2.1-2.osg set to be updated
---> Package globus-gsi-proxy-core.x86_64 0:6.1-2.osg set to be updated
---> Package globus-gsi-proxy-ssl.x86_64 0:4.1-2.osg set to be updated
---> Package globus-gsi-sysconfig.x86_64 0:5.1-2.osg set to be updated
---> Package globus-gss-assist.x86_64 0:8.1-2.osg set to be updated
---> Package globus-gssapi-error.x86_64 0:4.1-2.osg set to be updated
---> Package globus-gssapi-gsi.x86_64 0:10.1-2.osg set to be updated
---> Package globus-io.x86_64 0:9.1-2.osg set to be updated
--> Processing Dependency: globus-xio-gsi-driver >= 2 for package: globus-io
---> Package globus-openssl-module.x86_64 0:3.1-2.osg set to be updated
---> Package globus-rsl.x86_64 0:9.1-2.osg set to be updated
---> Package globus-xio.x86_64 0:3.1-3.osg set to be updated
---> Package gratia-probe-common.noarch 0:1.09-0.6.pre set to be updated
--> Processing Dependency: pyOpenSSL for package: gratia-probe-common
---> Package gsoap.x86_64 0:2.7.13-4.el5 set to be updated
---> Package libtool-ltdl.x86_64 0:1.5.22-7.el5_4 set to be updated
---> Package voms.x86_64 0:2.0.6-5.osg set to be updated
--> Running transaction check
---> Package globus-xio-gsi-driver.x86_64 0:2.1-2.osg set to be updated
---> Package globus-xio-popen-driver.x86_64 0:2.1-2.osg set to be updated
---> Package java-1.6.0-sun-compat.x86_64 0:1.6.0.26-3.sl5.jpp set to be updated
--> Processing Dependency: jdk = 2000:1.6.0_26-fcs for package: java-1.6.0-sun-compat
--> Processing Dependency: jpackage-utils >= 1.7.3 for package: java-1.6.0-sun-compat
--> Processing Dependency: /usr/bin/xsltproc for package: java-1.6.0-sun-compat
--> Processing Dependency: /usr/bin/xsltproc for package: java-1.6.0-sun-compat
---> Package postgresql-libs.x86_64 0:8.1.23-1.el5_7.2 set to be updated
---> Package pyOpenSSL.x86_64 0:0.6-1.p24.7.2.2 set to be updated
--> Running transaction check
---> Package jdk.x86_64 2000:1.6.0_26-fcs set to be updated
---> Package jpackage-utils.noarch 0:1.7.3-1jpp.2.el5 set to be updated
---> Package libxslt.x86_64 0:1.1.17-2.el5_2.2 set to be updated
--> Finished Dependency Resolution
Beginning Kernel Module Plugin
Finished Kernel Module Plugin

Dependencies Resolved

================================================================================
 Package                   Arch    Version               Repository        Size
================================================================================
Installing:
 rsv                       noarch  3.6.3-1.osg           osg-development  1.8 k
Installing for dependencies:
 apr                       x86_64  1.2.7-11.el5_6.5      fermi-security   119 k
 apr-util                  x86_64  1.2.7-11.el5_5.2      fermi-security    79 k
 bestman2-client           noarch  2.1.3-2.osg           osg-development   24 k
 bestman2-client-libs      noarch  2.1.3-2.osg           osg-development  627 k
 bestman2-common-libs      noarch  2.1.3-2.osg           osg-development  5.5 M
 condor                    x86_64  7.6.2-0.6.osg.3       osg-development   34 M
 condor-classads           x86_64  7.6.2-0.6.osg.3       osg-development  236 k
 condor-cron               noarch  1.0.5-3.osg           osg-development  8.3 k
 condor-procd              x86_64  7.6.2-0.6.osg.3       osg-development  431 k
 globus-callout            x86_64  2.1-2.osg             osg-development   16 k
 globus-common             x86_64  14.3-1.osg            osg-development  130 k
 globus-ftp-client         x86_64  7.1-2.osg             osg-development  107 k
 globus-ftp-control        x86_64  4.2-2.osg             osg-development   73 k
 globus-gass-copy          x86_64  8.1-2.osg             osg-development   37 k
 globus-gass-copy-progs    x86_64  8.1-2.osg             osg-development   38 k
 globus-gass-server-ez     x86_64  4.1-2.osg             osg-development   15 k
 globus-gass-transfer      x86_64  7.1-2.osg             osg-development   43 k
 globus-gram-client        x86_64  12.2-2.osg            osg-development   18 k
 globus-gram-client-tools  x86_64  10.0-3.osg            osg-development   47 k
 globus-gram-protocol      x86_64  11.1-2.osg            osg-development   40 k
 globus-gsi-callback       x86_64  4.1-2.osg             osg-development   41 k
 globus-gsi-cert-utils     x86_64  8.1-2.osg             osg-development   19 k
 globus-gsi-credential     x86_64  5.1-2.osg             osg-development   35 k
 globus-gsi-openssl-error  x86_64  2.1-2.osg             osg-development   16 k
 globus-gsi-proxy-core     x86_64  6.1-2.osg             osg-development   36 k
 globus-gsi-proxy-ssl      x86_64  4.1-2.osg             osg-development   17 k
 globus-gsi-sysconfig      x86_64  5.1-2.osg             osg-development   29 k
 globus-gss-assist         x86_64  8.1-2.osg             osg-development   34 k
 globus-gssapi-error       x86_64  4.1-2.osg             osg-development   14 k
 globus-gssapi-gsi         x86_64  10.1-2.osg            osg-development   61 k
 globus-io                 x86_64  9.1-2.osg             osg-development   44 k
 globus-openssl-module     x86_64  3.1-2.osg             osg-development   15 k
 globus-proxy-utils        x86_64  5.0-3.osg             osg-development   45 k
 globus-rsl                x86_64  9.1-2.osg             osg-development   24 k
 globus-xio                x86_64  3.1-3.osg             osg-development  178 k
 globus-xio-gsi-driver     x86_64  2.1-2.osg             osg-development   37 k
 globus-xio-popen-driver   x86_64  2.1-2.osg             osg-development   20 k
 gratia-probe-common       noarch  1.09-0.6.pre          osg-development  133 k
 gratia-probe-metric       noarch  1.09-0.6.pre          osg-development  9.1 k
 gsoap                     x86_64  2.7.13-4.el5          epel             444 k
 httpd                     x86_64  2.2.3-53.sl5.3        fermi-security   1.2 M
 java-1.6.0-sun-compat     x86_64  1.6.0.26-3.sl5.jpp    fermi-security    65 k
 jdk                       x86_64  2000:1.6.0_26-fcs     fermi-security    68 M
 jpackage-utils            noarch  1.7.3-1jpp.2.el5      sl-base           61 k
 libtool-ltdl              x86_64  1.5.22-7.el5_4        fermi-security    38 k
 libxslt                   x86_64  1.1.17-2.el5_2.2      sl-base          488 k
 openldap-clients          x86_64  2.3.43-12.el5_6.7     fermi-security   223 k
 osg-ca-certs              noarch  1.24-1                osg-development  450 k
 osg-configure             noarch  0.6.7-1.osg           osg-development  124 k
 osg-configure-rsv         noarch  0.6.7-1.osg           osg-development  6.9 k
 perl-DateManip            noarch  5.44-1.2.1            sl-base          143 k
 postgresql-libs           x86_64  8.1.23-1.el5_7.2      fermi-security   196 k
 pyOpenSSL                 x86_64  0.6-1.p24.7.2.2       sl-base          120 k
 rsv-consumers             noarch  3.6.3-1.osg           osg-development   16 k
 rsv-core                  noarch  3.6.3-1.osg           osg-development   84 k
 rsv-metrics               noarch  3.6.3-1.osg           osg-development  136 k
 sharutils                 x86_64  4.6.1-2               sl-base          203 k
 uberftp                   x86_64  2.6-3.osg             osg-development   86 k
 voms                      x86_64  2.0.6-5.osg           osg-development  171 k

Transaction Summary
================================================================================
Install      60 Package(s)
Upgrade       0 Package(s)

Total download size: 114 M
Is this ok [y/N]: y
Downloading Packages:
(1/60): rsv-3.6.3-1.osg.noarch.rpm                       | 1.8 kB     00:00
(2/60): osg-configure-rsv-0.6.7-1.osg.noarch.rpm         | 6.9 kB     00:00
(3/60): condor-cron-1.0.5-3.osg.noarch.rpm               | 8.3 kB     00:00
(4/60): gratia-probe-metric-1.09-0.6.pre.noarch.rpm      | 9.1 kB     00:00
(5/60): globus-gssapi-error-4.1-2.osg.x86_64.rpm         |  14 kB     00:00
(6/60): globus-openssl-module-3.1-2.osg.x86_64.rpm       |  15 kB     00:00
(7/60): globus-gass-server-ez-4.1-2.osg.x86_64.rpm       |  15 kB     00:00
(8/60): rsv-consumers-3.6.3-1.osg.noarch.rpm             |  16 kB     00:00
(9/60): globus-gsi-openssl-error-2.1-2.osg.x86_64.rpm    |  16 kB     00:00
(10/60): globus-callout-2.1-2.osg.x86_64.rpm             |  16 kB     00:00
(11/60): globus-gsi-proxy-ssl-4.1-2.osg.x86_64.rpm       |  17 kB     00:00
(12/60): globus-gram-client-12.2-2.osg.x86_64.rpm        |  18 kB     00:00
(13/60): globus-gsi-cert-utils-8.1-2.osg.x86_64.rpm      |  19 kB     00:00
(14/60): globus-xio-popen-driver-2.1-2.osg.x86_64.rpm    |  20 kB     00:00
(15/60): globus-rsl-9.1-2.osg.x86_64.rpm                 |  24 kB     00:00
(16/60): bestman2-client-2.1.3-2.osg.noarch.rpm          |  24 kB     00:00
(17/60): globus-gsi-sysconfig-5.1-2.osg.x86_64.rpm       |  29 kB     00:00
(18/60): globus-gss-assist-8.1-2.osg.x86_64.rpm          |  34 kB     00:00
(19/60): globus-gsi-credential-5.1-2.osg.x86_64.rpm      |  35 kB     00:00
(20/60): globus-gsi-proxy-core-6.1-2.osg.x86_64.rpm      |  36 kB     00:00
(21/60): globus-xio-gsi-driver-2.1-2.osg.x86_64.rpm      |  37 kB     00:00
(22/60): globus-gass-copy-8.1-2.osg.x86_64.rpm           |  37 kB     00:00
(23/60): libtool-ltdl-1.5.22-7.el5_4.x86_64.rpm          |  38 kB     00:00
(24/60): globus-gass-copy-progs-8.1-2.osg.x86_64.rpm     |  38 kB     00:00
(25/60): globus-gram-protocol-11.1-2.osg.x86_64.rpm      |  40 kB     00:00
(26/60): globus-gsi-callback-4.1-2.osg.x86_64.rpm        |  41 kB     00:00
(27/60): globus-gass-transfer-7.1-2.osg.x86_64.rpm       |  43 kB     00:00
(28/60): globus-io-9.1-2.osg.x86_64.rpm                  |  44 kB     00:00
(29/60): globus-proxy-utils-5.0-3.osg.x86_64.rpm         |  45 kB     00:00
(30/60): globus-gram-client-tools-10.0-3.osg.x86_64.rpm  |  47 kB     00:00
(31/60): globus-gssapi-gsi-10.1-2.osg.x86_64.rpm         |  61 kB     00:00
(32/60): jpackage-utils-1.7.3-1jpp.2.el5.noarch.rpm      |  61 kB     00:00
(33/60): java-1.6.0-sun-compat-1.6.0.26-3.sl5.jpp.x86_64 |  65 kB     00:00
(34/60): globus-ftp-control-4.2-2.osg.x86_64.rpm         |  73 kB     00:00
(35/60): apr-util-1.2.7-11.el5_5.2.x86_64.rpm            |  79 kB     00:00
(36/60): rsv-core-3.6.3-1.osg.noarch.rpm                 |  84 kB     00:00
(37/60): uberftp-2.6-3.osg.x86_64.rpm                    |  86 kB     00:00
(38/60): globus-ftp-client-7.1-2.osg.x86_64.rpm          | 107 kB     00:00
(39/60): apr-1.2.7-11.el5_6.5.x86_64.rpm                 | 119 kB     00:00
(40/60): pyOpenSSL-0.6-1.p24.7.2.2.x86_64.rpm            | 120 kB     00:00
(41/60): osg-configure-0.6.7-1.osg.noarch.rpm            | 124 kB     00:00
(42/60): globus-common-14.3-1.osg.x86_64.rpm             | 130 kB     00:00
(43/60): gratia-probe-common-1.09-0.6.pre.noarch.rpm     | 133 kB     00:00
(44/60): rsv-metrics-3.6.3-1.osg.noarch.rpm              | 136 kB     00:00
(45/60): perl-DateManip-5.44-1.2.1.noarch.rpm            | 143 kB     00:00
(46/60): voms-2.0.6-5.osg.x86_64.rpm                     | 171 kB     00:00
(47/60): globus-xio-3.1-3.osg.x86_64.rpm                 | 178 kB     00:00
(48/60): postgresql-libs-8.1.23-1.el5_7.2.x86_64.rpm     | 196 kB     00:00
(49/60): sharutils-4.6.1-2.x86_64.rpm                    | 203 kB     00:00
(50/60): openldap-clients-2.3.43-12.el5_6.7.x86_64.rpm   | 223 kB     00:00
(51/60): condor-classads-7.6.2-0.6.osg.3.x86_64.rpm      | 236 kB     00:00
(52/60): condor-procd-7.6.2-0.6.osg.3.x86_64.rpm         | 431 kB     00:00
(53/60): gsoap-2.7.13-4.el5.x86_64.rpm                   | 444 kB     00:00
(54/60): osg-ca-certs-1.24-1.noarch.rpm                  | 450 kB     00:00
(55/60): libxslt-1.1.17-2.el5_2.2.x86_64.rpm             | 488 kB     00:00
(56/60): bestman2-client-libs-2.1.3-2.osg.noarch.rpm     | 627 kB     00:00
(57/60): httpd-2.2.3-53.sl5.3.x86_64.rpm                 | 1.2 MB     00:00
(58/60): bestman2-common-libs-2.1.3-2.osg.noarch.rpm     | 5.5 MB     00:01
(59/60): condor-7.6.2-0.6.osg.3.x86_64.rpm               |  34 MB     00:02
(60/60): jdk-1.6.0_26-fcs.x86_64.rpm                     |  68 MB     00:01
--------------------------------------------------------------------------------
Total                                           5.5 MB/s | 114 MB     00:20
warning: rpmts_HdrFromFdno: Header V3 DSA signature: NOKEY, key ID 824b8603
osg-development/gpgkey                                   | 1.7 kB     00:00
Importing GPG key 0x824B8603 "OSG Software Team (RPM Signing Key for Koji Packages) <vdt-support@opensciencegrid.org>" from /etc/pki/rpm-gpg/RPM-GPG-KEY-OSG
Is this ok [y/N]: y
warning: rpmts_HdrFromFdno: Header V3 DSA signature: NOKEY, key ID 217521f6
epel/gpgkey                                              | 1.7 kB     00:00
Importing GPG key 0x217521F6 "Fedora EPEL <epel@fedoraproject.org>" from /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL
Is this ok [y/N]: y
Running rpm_check_debug
Running Transaction Test
Finished Transaction Test
Transaction Test Succeeded
Running Transaction
  Installing     : globus-gsi-proxy-ssl                                    1/60
  Installing     : libtool-ltdl                                            2/60
  Installing     : globus-common                                           3/60
  Installing     : globus-gsi-openssl-error                                4/60
  Installing     : globus-openssl-module                                   5/60
  Installing     : globus-gsi-sysconfig                                    6/60
  Installing     : globus-gsi-cert-utils                                   7/60
  Installing     : globus-gsi-callback                                     8/60
  Installing     : globus-gsi-credential                                   9/60
  Installing     : globus-gsi-proxy-core                                  10/60
  Installing     : globus-gssapi-gsi                                      11/60
  Installing     : globus-callout                                         12/60
  Installing     : globus-gss-assist                                      13/60
  Installing     : globus-xio                                             14/60
  Installing     : globus-gssapi-error                                    15/60
  Installing     : globus-rsl                                             16/60
  Installing     : globus-proxy-utils                                     17/60
  Installing     : voms                                                   18/60
  Installing     : apr                                                    19/60
  Installing     : condor-procd                                           20/60
  Installing     : globus-xio-gsi-driver                                  21/60
  Installing     : globus-io                                              22/60
  Installing     : globus-gass-transfer                                   23/60
  Installing     : globus-ftp-control                                     24/60
  Installing     : globus-gram-protocol                                   25/60
  Installing     : globus-gram-client                                     26/60
  Installing     : globus-gass-server-ez                                  27/60
  Installing     : globus-gram-client-tools                               28/60
  Installing     : globus-xio-popen-driver                                29/60
  Installing     : globus-ftp-client                                      30/60
  Installing     : globus-gass-copy                                       31/60
  Installing     : globus-gass-copy-progs                                 32/60
  Installing     : uberftp                                                33/60
  Installing     : openldap-clients                                       34/60
  Installing     : postgresql-libs                                        35/60
  Installing     : apr-util                                               36/60
  Installing     : httpd                                                  37/60
  Installing     : sharutils                                              38/60
  Installing     : gsoap                                                  39/60
  Installing     : libxslt                                                40/60
  Installing     : pyOpenSSL                                              41/60
  Installing     : condor-classads                                        42/60
  Installing     : perl-DateManip                                         43/60
  Installing     : condor                                                 44/60
  Installing     : condor-cron                                            45/60
  Installing     : gratia-probe-common                                    46/60
  Installing     : gratia-probe-metric                                    47/60
  Installing     : rsv-consumers                                          48/60
  Installing     : rsv-core                                               49/60
  Installing     : jpackage-utils                                         50/60
  Installing     : osg-ca-certs                                           51/60
  Installing     : osg-configure                                          52/60
  Installing     : jdk                                                    53/60
Unpacking JAR files...
        rt.jar...
        jsse.jar...
        charsets.jar...
        tools.jar...
        localedata.jar...
        plugin.jar...
        javaws.jar...
        deploy.jar...
  Installing     : java-1.6.0-sun-compat                                  54/60
  Installing     : bestman2-common-libs                                   55/60
  Installing     : bestman2-client-libs                                   56/60
  Installing     : bestman2-client                                        57/60
  Installing     : rsv-metrics                                            58/60
  Installing     : osg-configure-rsv                                      59/60
  Installing     : rsv                                                    60/60

Installed:
  rsv.noarch 0:3.6.3-1.osg

Dependency Installed:
  apr.x86_64 0:1.2.7-11.el5_6.5
  apr-util.x86_64 0:1.2.7-11.el5_5.2
  bestman2-client.noarch 0:2.1.3-2.osg
  bestman2-client-libs.noarch 0:2.1.3-2.osg
  bestman2-common-libs.noarch 0:2.1.3-2.osg
  condor.x86_64 0:7.6.2-0.6.osg.3
  condor-classads.x86_64 0:7.6.2-0.6.osg.3
  condor-cron.noarch 0:1.0.5-3.osg
  condor-procd.x86_64 0:7.6.2-0.6.osg.3
  globus-callout.x86_64 0:2.1-2.osg
  globus-common.x86_64 0:14.3-1.osg
  globus-ftp-client.x86_64 0:7.1-2.osg
  globus-ftp-control.x86_64 0:4.2-2.osg
  globus-gass-copy.x86_64 0:8.1-2.osg
  globus-gass-copy-progs.x86_64 0:8.1-2.osg
  globus-gass-server-ez.x86_64 0:4.1-2.osg
  globus-gass-transfer.x86_64 0:7.1-2.osg
  globus-gram-client.x86_64 0:12.2-2.osg
  globus-gram-client-tools.x86_64 0:10.0-3.osg
  globus-gram-protocol.x86_64 0:11.1-2.osg
  globus-gsi-callback.x86_64 0:4.1-2.osg
  globus-gsi-cert-utils.x86_64 0:8.1-2.osg
  globus-gsi-credential.x86_64 0:5.1-2.osg
  globus-gsi-openssl-error.x86_64 0:2.1-2.osg
  globus-gsi-proxy-core.x86_64 0:6.1-2.osg
  globus-gsi-proxy-ssl.x86_64 0:4.1-2.osg
  globus-gsi-sysconfig.x86_64 0:5.1-2.osg
  globus-gss-assist.x86_64 0:8.1-2.osg
  globus-gssapi-error.x86_64 0:4.1-2.osg
  globus-gssapi-gsi.x86_64 0:10.1-2.osg
  globus-io.x86_64 0:9.1-2.osg
  globus-openssl-module.x86_64 0:3.1-2.osg
  globus-proxy-utils.x86_64 0:5.0-3.osg
  globus-rsl.x86_64 0:9.1-2.osg
  globus-xio.x86_64 0:3.1-3.osg
  globus-xio-gsi-driver.x86_64 0:2.1-2.osg
  globus-xio-popen-driver.x86_64 0:2.1-2.osg
  gratia-probe-common.noarch 0:1.09-0.6.pre
  gratia-probe-metric.noarch 0:1.09-0.6.pre
  gsoap.x86_64 0:2.7.13-4.el5
  httpd.x86_64 0:2.2.3-53.sl5.3
  java-1.6.0-sun-compat.x86_64 0:1.6.0.26-3.sl5.jpp
  jdk.x86_64 2000:1.6.0_26-fcs
  jpackage-utils.noarch 0:1.7.3-1jpp.2.el5
  libtool-ltdl.x86_64 0:1.5.22-7.el5_4
  libxslt.x86_64 0:1.1.17-2.el5_2.2
  openldap-clients.x86_64 0:2.3.43-12.el5_6.7
  osg-ca-certs.noarch 0:1.24-1
  osg-configure.noarch 0:0.6.7-1.osg
  osg-configure-rsv.noarch 0:0.6.7-1.osg
  perl-DateManip.noarch 0:5.44-1.2.1
  postgresql-libs.x86_64 0:8.1.23-1.el5_7.2
  pyOpenSSL.x86_64 0:0.6-1.p24.7.2.2
  rsv-consumers.noarch 0:3.6.3-1.osg
  rsv-core.noarch 0:3.6.3-1.osg
  rsv-metrics.noarch 0:3.6.3-1.osg
  sharutils.x86_64 0:4.6.1-2
  uberftp.x86_64 0:2.6-3.osg
  voms.x86_64 0:2.0.6-5.osg

Complete!
[root@fermicloud107 ~]#         cp /etc/grid-security/hostcert.pem /etc/grid-security/rsvcert.pem
[root@fermicloud107 ~]#         cp /etc/grid-security/hostkey.pem /etc/grid-security/rsvkey.pem
[root@fermicloud107 ~]#         scp gw014k0:/tmp/x509up_u44678 /tmp/rsv_proxy
x509up_u44678                                 100% 5969     5.8KB/s   00:00
[root@fermicloud107 ~]#         chown rsv:rsv /etc/grid-security/rsvcert.pem
[root@fermicloud107 ~]#         chown rsv:rsv /etc/grid-security/rsvkey.pem
[root@fermicloud107 ~]#         chown rsv:rsv /tmp/rsv_proxy
</pre>
</div></div> <!--/twistyPlugin-->
<p />
<div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdDocumentation/Release3InstallRSV_draft4show" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Show a configuration file</span></a> </span> <span id="twistyIdDocumentation/Release3InstallRSV_draft4hide" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyHidden twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdDocumentation/Release3InstallRSV_draft4toggle" class="twistyRememberSetting twistyStartHide twistyContent twikiMakeHidden twistyInited0"> 
Here is a simple configuration file with only a CE enabled: <pre class="file">
;===================================================================
;                       IMPORTANT
;===================================================================
;
; 
; You can get documentation on the syntax of this file at:
; https://twiki.grid.iu.edu/bin/view/ReleaseDocumentation/ConfigurationFileFormat
; You can get documentation on the options for each section at:
; https://twiki.grid.iu.edu/bin/view/ReleaseDocumentation/ConfigurationFileHelp
;

;===================================================================
;                            RSV
;===================================================================


[RSV]
; The enable option indicates whether RSV should be enabled or disabled.  It should
; be set to True, False, or Ignore.  
;
; If you are using rsv-control to enable or disable specific metrics, you should set 
; this to Ignore so that your configuration does not get overwritten each time that
; configure-osg is run.
enabled = True


; This option will enable RSV record uploading to the central RSV collector at
; the GOC.  This is required for WLCG availability reporting.
;
; Note: It no longer matters if your site is production or ITB.  All records
;       will be reported to the same place.
;
; Set this to True or False
enable_gratia = False

; This option will set the gratia_collector you will report to.  Leave this 
; option commented out to use the default Gratia collector.  If you want to
; report to a different collector instead of the default OSG collector then
; supply the hostname:port here.  Note: this must be of the form hostname:port
; gratia_collector = <your host>:<your port>



; You must use a certificate with RSV.  Either you can use a service certificate
; or a user certificate.  Using a service certificate is highly recommended
; because it will be automatically renewed for you with each job that runs.
;
; To use a service certificate, set the following variables:
;   - service_cert
;   - service_key
;   - service_proxy
;
; To use a user certificate, set the following variable:
;   - user_proxy

; This setting will be used if you have enabled use_service_cert.  
; This should point to the public key file (pem) for your service 
; certificate.
; 
; If this is left blank or set to UNAVAILABLE  and the use_service_cert 
; setting is enabled, it will default to /etc/grid-security/rsvcert.pem
service_cert  = UNAVAILABLE

; This setting will be used if you have enabled the use_service_cert.  
; This should point to the private key file (pem) for your service 
; certificate.
;
; If this is left blank or set to UNAVAILABLE and the use_service_cert 
; setting is enabled, it will default to /etc/grid-security/rsvkey.pem
service_key  = UNAVAILABLE


; This setting will be used if you have enabled the use_service_cert.
; This should point to the location of the RSV proxy file.
;
; If this is left blank or set to UNAVAILABLE and the use_service_cert 
; setting is enabled, it will default to /tmp/rsvproxy
service_proxy = UNAVAILABLE


; If you don't use a service certificate for RSV, you will need to specify a 
; proxy file that RSV should use in the user_proxy setting.  If you use this
; option you need to renew this proxy file periodically.
; This needs to be set if use_service_cert is disabled.  
;user_proxy = UNAVAILABLE


; The ce_hosts options lists the FQDN of the CEs that the RSV CE metrics should
; run against.  This is a list of FQDNs separated by a comma, for example:
;   ce_hosts = ce.example.com, ce2.example.com, ce3.example.com
;
; Leave this setting blank or set it to UNAVAILBLE to disable CE monitoring.
ce_hosts = <font color="#ff0000">ce.mycluster.org</font>


; The gridftp_hosts options lists the FQDN of the gridftp servers that the RSV
; GridFTP metrics should monitor.  This is be a list of FQDNs separated by a
; comma, for example:
; gridftp_hosts = gridftp.example.com, gridftp2.example.com, gridftp3.example.com
;
; If this option is commented out then the value of ce_hosts will be used.
; If you want to disable the GridFTP probes then uncomment this entry and
; set it to UNAVAILABLE
;gridftp_hosts = UNAVAILABLE


; The gridftp_dir option gives the directory on the gridftp servers that the 
; RSV GridFTP probes should try to write and read from.
;
; This setting will be used if the enable_gridftp_probes option is enabled. It
; will default to /tmp if left blank or set to UNAVAILABLE 
gridftp_dir = UNAVAILABLE


; This setting specifies which type of Gratia probes RSV should monitor.  Set
; this to UNAVAILABLE to disable Gratia monitoring.  Otherwise, list the Gratia
; types you wish to monitor separated by commas.  Valid metrics are:
; metric, condor, pbs, lsf, sge, hadoop-transfer, gridftp-transfer.
; 
; If you are monitoring multiple CEs with different Gratia metrics you can
; put them into lists using parentheses.  Each parenthesized entry corresponds
; to the same entry in the ce_hosts option.  For example, here is the syntax
; for monitoring 3 CEs:
; gratia_probes = (condor, metric), (pbs, condor), (condor)
;
; Note: if you have multiple CEs but only one entry then that entry will be used
; for each CE.  Otherwise, the number of CE hosts must match the number of
; Gratia entries.
; 
; If you are monitoring a CE, you want to add the batch system used by that CE.
; If you are monitoring a CE using RSV, add the 'metric' type
; If you are monitoring a CE using managed-fork, add 'condor'
;
; For example, on a CE using PBS and Managed-Fork, you will probably use:
; gratia_probes = metric, pbs, condor
gratia_probes = UNAVAILABLE


; The gums_hosts options lists the FQDN of the GUMS server that the RSV GUMS 
; metrics should monitor.  This should be a list of FQDNs separated by a comma:
; gums_hosts = gums.example.com, gums2.example.com, ce.example.com
gums_hosts = UNAVAILABLE


; The srm_hosts options lists the FQDN of the SRM servers that the RSV SRM
; metrics should monitor. This should be a list of FQDNs separated by a comma.
; You can specify the port on a host using host:port.  For example:
; srm_hosts = srm.example.com:8443, srm2.example.com:10443, srm3.example.com
srm_hosts = UNAVAILABLE

; The srm_dir options gives the directory on the srm servers that the RSV SRM
; probes should try to write and read from.  This should be a comma separated
; list containing the same number of entries as srm_hosts (the first entry
; in srm_hosts corresponds to the first entry in srm_dir, etc)
srm_dir = UNAVAILABLE

; This option gives the webservice path that SRM metrics need along with the
; host: port. For dcache installations this should be set to srm/managerv2
; However Bestman-Xrootd SEs normally use srm/v2/server as the web service
; path, and so Bestman-Xrootd admins will have to pass this option with the
; appropriate value (for example: "srm/v2/server") for the SRM metrics to work
; on their SE.
;
; This is optional.  If it is set it should be a comma separated list containing
; the same number of entries as srm_hosts (the first entry in srm_hosts
; corresponds to the first entry in srm_webservice_path, etc)
srm_webservice_path = UNAVAILABLE


; enable_local_probes will enable metrics to run against the local host 
; that RSV is running on.  Currently there are local probes to monitor the
; validity of the hostcert and httpcert.
enable_local_probes = True


; The enable_nagios option indicates whether RSV will report information to a
; local nagios instance.
;
; Set this to True or False
enable_nagios = False

; The nagios_send_nsca option chooses which script to use to send nagios
; records.  If this is true then rsv2nsca.py will be used.  If this is false
; then rsv2nagios.py will be used.  The default is rsv2nagios.py.  This value
; is optional.
nagios_send_nsca = False
</pre>  
</div></div> <!--/twistyPlugin-->
<p />
<div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdDocumentation/Release3InstallRSV_draft5show" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Show a confiuration example</span></a> </span> <span id="twistyIdDocumentation/Release3InstallRSV_draft5hide" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyHidden twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdDocumentation/Release3InstallRSV_draft5toggle" class="twistyRememberSetting twistyStartHide twistyContent twikiMakeHidden twistyInited0"> 
Example of running osg-configure to get the initial configuration: <pre class="rootscreen">
[root@rsv ~]$ osg-configure -v
Configuration verified successfully
[root@rsv ~]$ osg-configure -c
Enabling consumer html-consumer
WARNING: No enabled consumers defined in consumers.conf
WARNING: No enabled consumers defined in consumers.conf
Creating configuration file '/etc/rsv/consumers.conf'
Enabling metric 'org.osg.globus.gram-authentication' for host 'gc2-wn1.mwt2.org'
Enabling metric 'org.osg.general.osg-version' for host 'gc2-wn1.mwt2.org'
Enabling metric 'org.osg.general.vo-supported' for host 'gc2-wn1.mwt2.org'
Enabling metric 'org.osg.batch.jobmanagers-available' for host 'gc2-wn1.mwt2.org'
Enabling metric 'org.osg.general.ping-host' for host 'gc2-wn1.mwt2.org'
Enabling metric 'org.osg.certificates.cacert-expiry' for host 'gc2-wn1.mwt2.org'
Enabling metric 'org.osg.general.osg-directories-CE-permissions' for host 'gc2-wn1.mwt2.org'
Creating configuration file '/etc/rsv/gc2-wn1.mwt2.org.conf'

One or more metrics have been enabled and will be started the next time RSV is started.  To turn them on immediately run 'rsv-control --on'.
Enabling metric 'org.osg.globus.gridftp-simple' for host 'gc2-wn1.mwt2.org'

One or more metrics have been enabled and will be started the next time RSV is started.  To turn them on immediately run 'rsv-control --on'.
Enabling metric 'org.osg.local.httpcert-expiry' for host 'gc2-wn3.mwt2.org'
Enabling metric 'org.osg.local.hostcert-expiry' for host 'gc2-wn3.mwt2.org'
Creating configuration file '/etc/rsv/gc2-wn3.mwt2.org.conf'

One or more metrics have been enabled and will be started the next time RSV is started.  To turn them on immediately run 'rsv-control --on'.
/usr/sbin/osg-configure completed successfully
</pre> 
</div></div> <!--/twistyPlugin-->
<p />
<div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdDocumentation/Release3InstallRSV_draft6show" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Show how to start the services</span></a> </span> <span id="twistyIdDocumentation/Release3InstallRSV_draft6hide" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyHidden twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdDocumentation/Release3InstallRSV_draft6toggle" class="twistyRememberSetting twistyStartHide twistyContent twikiMakeHidden twistyInited0"> 
Example starting services: <pre class="rootscreen">
[root@fermicloud107 ~]# service httpd start
Starting httpd:                                            [  OK  ]
[root@fermicloud107 ~]# service condor-cron start
Starting Condor-cron daemons:                              [  OK  ]
[root@fermicloud107 ~]# service rsv start
Starting RSV: Starting 2 metrics for host 'fermicloud107.fnal.gov'.
Starting 1 consumers.
[root@fermicloud107 ~]# condor_cron_q
-- Submitter: fermicloud107.fnal.gov : <127.0.0.1:54199> : fermicloud107.fnal.gov
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD
   1.0   rsv            11/9  11:32   0+00:00:00 I  0   0.0  rsv-control -v 3 -
   2.0   rsv            11/9  11:32   0+00:00:00 I  0   0.0  rsv-control -v 3 -
   3.0   rsv            11/9  11:32   0+00:00:00 R  0   0.0  html-consumer
3 jobs; 2 idle, 1 running, 0 held
</pre>
</div></div> <!--/twistyPlugin--></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Documentation/Release3<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>InstallRSV_draft</span> <br />    
Topic revision: r7 - 12 Oct 2016 - 15:14:15 - <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />