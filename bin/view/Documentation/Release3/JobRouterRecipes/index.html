<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> JobRouterRecipes &lt; Documentation/Release3 &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Documentation/Release3/JobRouterRecipes?_T=16 Feb 2017" type="application/x-wiki" title="edit JobRouterRecipes" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Documentation/Release3/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Documentation/Release3/JobRouterRecipes"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFFFFF;
	}
	.patternBookView {
		border-color:#FFFFFF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--TWISTYPLUGIN_TWISTY--><style type="text/css" media="all">
@import url("https://twiki.opensciencegrid.org/twiki/pub/TWiki/TwistyContrib/twist.css");
</style>
<script type='text/javascript' src='https://twiki.opensciencegrid.org/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js'></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikiPref.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TwistyContrib/twist.compressed.js"></script>
<script type="text/javascript">
// <![CDATA[
var styleText = '<style type="text/css" media="all">.twikiMakeVisible{display:inline;}.twikiMakeVisibleInline{display:inline;}.twikiMakeVisibleBlock{display:block;}.twikiMakeHidden{display:none;}</style>';
document.write(styleText);
// ]]>
</script>

<!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Writing_Routes_For_HTCondor_CE"></a> Writing Routes For HTCondor-CE </h1>
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Writing_Routes_For_HTCondor_CE"> Writing Routes For HTCondor-CE</a> <ul>
<li> <a href="?cover=print#About_This_Guide"> About This Guide</a>
</li> <li> <a href="?cover=print#Quirks_and_Pitfalls"> Quirks and Pitfalls</a>
</li> <li> <a href="?cover=print#How_Job_Routes_are_Constructed"> How Job Routes are Constructed</a> <ul>
<li> <a href="?cover=print#JOB_ROUTER_ENTRIES"> JOB_ROUTER_ENTRIES</a>
</li> <li> <a href="?cover=print#JOB_ROUTER_DEFAULTS"> JOB_ROUTER_DEFAULTS</a>
</li></ul> 
</li> <li> <a href="?cover=print#Generic_Routes"> Generic Routes</a> <ul>
<li> <a href="?cover=print#Required_fields"> Required fields</a> <ul>
<li> <a href="?cover=print#Batch_system"> Batch system</a>
</li> <li> <a href="?cover=print#Route_name"> Route name</a>
</li></ul> 
</li> <li> <a href="?cover=print#Writing_multiple_routes"> Writing multiple routes</a>
</li> <li> <a href="?cover=print#Writing_comments"> Writing comments</a>
</li> <li> <a href="?cover=print#Setting_attributes_for_all_route"> Setting attributes for all routes</a>
</li> <li> <a href="?cover=print#Filtering_jobs_based_on"> Filtering jobs based on&hellip;</a> <ul>
<li> <a href="?cover=print#Glidein_queue"> Glidein queue</a>
</li> <li> <a href="?cover=print#Job_submitter"> Job submitter</a>
</li> <li> <a href="?cover=print#VOMS_attribute"> VOMS attribute</a>
</li></ul> 
</li> <li> <a href="?cover=print#Setting_a_default"> Setting a default&hellip;</a> <ul>
<li> <a href="?cover=print#Maximum_number_of_jobs"> Maximum number of jobs</a>
</li> <li> <a href="?cover=print#Maximum_memory"> Maximum memory</a>
</li> <li> <a href="?cover=print#Number_of_cores_to_request"> Number of cores to request</a>
</li> <li> <a href="?cover=print#Maximum_walltime"> Maximum walltime</a>
</li></ul> 
</li> <li> <a href="?cover=print#Editing_attributes"> Editing attributes&hellip;</a> <ul>
<li> <a href="?cover=print#Copying_attributes"> Copying attributes</a>
</li> <li> <a href="?cover=print#Removing_attributes"> Removing attributes</a>
</li> <li> <a href="?cover=print#Setting_attributes"> Setting attributes</a>
</li> <li> <a href="?cover=print#Setting_attributes_with_ClassAd"> Setting attributes with ClassAd expressions</a>
</li></ul> 
</li> <li> <a href="?cover=print#Limiting_the_number_of"> Limiting the number of...</a> <ul>
<li> <a href="?cover=print#Total_jobs"> Total jobs</a>
</li> <li> <a href="?cover=print#Idle_jobs"> Idle jobs</a>
</li></ul> 
</li> <li> <a href="?cover=print#Debugging_routes"> Debugging routes</a>
</li></ul> 
</li> <li> <a href="?cover=print#Routes_for_HTCondor_Batch_System"> Routes for HTCondor Batch Systems</a> <ul>
<li> <a href="?cover=print#Setting_periodic_hold_release_or"> Setting periodic hold, release or remove</a>
</li> <li> <a href="?cover=print#Setting_routed_job_requirements"> Setting routed job requirements</a>
</li> <li> <a href="?cover=print#Setting_accounting_groups"> Setting accounting groups</a>
</li></ul> 
</li> <li> <a href="?cover=print#Routes_for_non_HTCondor_Batch_Sy"> Routes for non-HTCondor Batch Systems</a> <ul>
<li> <a href="?cover=print#Setting_a_default_batch_queue"> Setting a default batch queue</a>
</li> <li> <a href="?cover=print#Setting_batch_system_directives"> Setting batch system directives</a>
</li></ul> 
</li> <li> <a href="?cover=print#Example_Configurations"> Example Configurations</a> <ul>
<li> <a href="?cover=print#AGLT2_s_job_routes"> AGLT2's job routes</a>
</li> <li> <a href="?cover=print#BNL_s_job_routes"> BNL's job routes</a>
</li></ul> 
</li> <li> <a href="?cover=print#Reference"> Reference</a>
</li></ul> 
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="About_This_Guide"></a> About This Guide </span></h2>
The <a href="http://research.cs.wisc.edu/htcondor/manual/v8.2/5_4HTCondor_Job.html" target="_top">JobRouter</a> is at the heart of HTCondor-CE and allows admins to transform and direct jobs to specific batch systems. Customizations are made in the form of job routes where each route corresponds to a separate job transformation: If an incoming job matches a job route's requirements, the route creates a transformed job (referred to as the 'routed job') that is then submitted to the batch system. The CE package comes with default routes located in <code>/etc/condor-ce/config.d/02-ce-*.conf</code> that provide enough basic functionality for a small site.
<p />
If you have needs beyond delegating all incoming jobs to your batch system as they are, this document provides examples of common job routes and job route problems. 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Quirks_and_Pitfalls"></a> Quirks and Pitfalls </span></h2>
<p /> <ul>
<li> The JobRouter matches jobs to routes in a round-robin fashion. This means that if a job can match to multiple routes, it can be routed by any of them! So when writing job routes, make sure that they are exclusive to each other and that your jobs can only match to a single route.
</li> <li> If a value is set in <a href="/bin/view/Documentation/Release3/JobRouterRecipes#JobRouterDefaults" class="twikiCurrentTopicLink twikiAnchorLink">JOB_ROUTER_DEFAULTS</a> with <code>eval_set_&lt;variable&gt;</code>, override it by using  <code>eval_set_&lt;variable&gt;</code> in the <code>JOB_ROUTER_ENTRIES</code>. Do this at your own risk as it may cause the CE to break.
</li> <li> Make sure to run <code>condor_ce_reconfig</code> after changing your routes, otherwise they will not take effect.
</li> <li> Before the last square bracket, make sure all lines end in a line continuation character (backslash). You can inspect the syntax of your routes with <code>condor_ce_config_val JOB_ROUTER_ENTRIES</code> to see if HTCondor-CE has ingested them properly.
</li> <li> Do <strong>not</strong> set the job environment through the JobRouter. Instead, add any changes to the <code>[Local Settings]</code> section in <code>/etc/osg/config.d/40-localsettings.ini</code> and run osg-configure, as documented <a href="https://twiki.grid.iu.edu/bin/view/ReleaseDocumentation/ConfigurationFileLocalSettings" target="_top">here</a>.
</li> <li> HTCondor batch system only: Local universe jobs are excluded from any routing.
</li></ul> 
<p />
<p />
<a name="JobRouteConstruction"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="How_Job_Routes_are_Constructed"></a> How Job Routes are Constructed </span></h2>
<p />
Each job route&rsquo;s <a href="http://research.cs.wisc.edu/htcondor/manual/v8.2/4_1HTCondor_s_ClassAd.html" target="_top">ClassAd</a> is constructed by combining each entry from the <code>JOB_ROUTER_ENTRIES</code> with the <code>JOB_ROUTER_DEFAULTS</code>. Attributes that are <code><a href="/bin/view/Documentation/Release3/JobRouterRecipes#SettingAttributes" class="twikiCurrentTopicLink twikiAnchorLink">set_</a></code> in <code>JOB_ROUTER_ENTRIES</code> will override those <code><a href="/bin/view/Documentation/Release3/JobRouterRecipes#SettingAttributes" class="twikiCurrentTopicLink twikiAnchorLink">set_</a></code> in <code>JOB_ROUTER_DEFAULTS</code>
<p />
<h3><a name="JOB_ROUTER_ENTRIES"></a> JOB_ROUTER_ENTRIES </h3>
<p />
<code>JOB_ROUTER_ENTRIES</code> is a configuration variable whose default is set in <code>/etc/condor-ce/config.d/02-ce-*.conf</code> but may be overriden by the administrator in <code>/etc/condor-ce/config.d/99-local.conf</code>. This document outlines the many changes you can make to <code>JOB_ROUTER_ENTRIES</code> to fit your site&rsquo;s needs.
<p />
<a name="JobRouterDefaults"></a>
<h3><a name="JOB_ROUTER_DEFAULTS"></a> JOB_ROUTER_DEFAULTS </h3>
<code>JOB_ROUTER_DEFAULTS</code> is a python-generated configuration variable that sets default job route values that are required for the HTCondor-CE's functionality. To view its contents, run the following command:
<p />
<pre class='screen'>[user@client ~]$ condor_ce_config_val JOB_ROUTER_DEFAULTS | sed 's/;/;\n/g'</pre>
<div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdDocumentation/Release3JobRouterRecipes1show" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Show sample output</span></a> </span> <span id="twistyIdDocumentation/Release3JobRouterRecipes1hide" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyHidden twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide Full Output</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdDocumentation/Release3JobRouterRecipes1toggle" class="twistyRememberSetting twistyStartHide twistyContent twikiMakeHidden twistyInited0">
<pre class="screen">
[ MaxIdleJobs = 2000;
 MaxJobs = 10000;
 /* by default, accept all jobs */ Requirements = True;
 /* now modify routed job attributes */ /* remove routed job if the client disappears for 48 hours or it is idle for 6 */ /*set_PeriodicRemove = (LastClientContact - time() > 48*60*60) || (JobStatus == 1 && (time() - QDate) > 6*60);
*/ delete_PeriodicRemove = true;
 delete_CondorCE = true;
 set_RoutedJob = true;
 copy_environment = "orig_environment";
 set_osg_environment = "OSG_GRID='/etc/osg/wn-client/' OSG_SQUID_LOCATION='fermicloud133.fnal.gov:3128' OSG_SITE_READ='None' OSG_APP='/share/osg/app' OSG_GLEXEC_LOCATION='None' OSG_DATA='UNAVAILABLE' OSG_HOSTNAME='fermicloud136.fnal.gov' OSG_STORAGE_ELEMENT='False' OSG_SITE_NAME='herp' GLOBUS_LOCATION='/usr' OSG_WN_TMP='None' OSG_DEFAULT_SE='None' OSG_SITE_WRITE='None'";
 eval_set_environment = debug(strcat("HOME=", userHome(Owner, "/"), " ", ifThenElse(orig_environment is undefined, osg_environment, strcat(osg_environment, " ", orig_environment) )));
 /* Set new requirements */ /* set_requirements = LastClientContact - time() < 30*60;
 */ set_requirements = True;
 set_InputRSL = ifThenElse(GlobusRSL is null, [], eval_rsl(GlobusRSL));
 /* Note default memory request of 2GB */ /* Note yet another nested condition allow pass attributes (maxMemory,xcount,jobtype,queue) via gWMS Factory described within ClassAd if undefined via RSL */ eval_set_RequestMemory = ifThenElse(InputRSL.maxMemory isnt null, InputRSL.maxMemory, ifThenElse(maxMemory isnt null, maxMemory, ifThenElse(default_maxMemory isnt null, default_maxMemory, 2000)));
 eval_set_remote_queue = ifThenElse(InputRSL.queue isnt null, InputRSL.queue, ifThenElse(queue isnt null, queue, ifThenElse(default_queue isnt null, default_queue, "")));
 /* HTCondor uses RequestCpus;
 blahp uses SMPGranularity and NodeNumber.  Default is 1 core. */ eval_set_RequestCpus = ifThenElse(InputRSL.xcount isnt null, InputRSL.xcount, ifThenElse(xcount isnt null, xcount, ifThenElse(default_xcount isnt null, default_xcount, 1)));
 eval_set_remote_SMPGranularity = ifThenElse(InputRSL.xcount isnt null, InputRSL.xcount, ifThenElse(xcount isnt null, xcount, ifThenElse(default_xcount isnt null, default_xcount, 1)));
 eval_set_remote_NodeNumber = ifThenElse(InputRSL.xcount isnt null, InputRSL.xcount, ifThenElse(xcount isnt null, xcount, ifThenElse(default_xcount isnt null, default_xcount, 1)));
 /* If remote_cerequirements is a string, BLAH will parse it as an expression before examining it */ eval_set_remote_cerequirements = ifThenElse(InputRSL.maxWalTlime isnt null, strcat("Walltime == ", string(60*InputRSL.maxWallTime), " && CondorCE == 1"), ifThenElse(maxWallTime isnt null, strcat("Walltime == ", string(60*maxWallTime), " && CondorCE == 1"), ifThenElse(default_maxWallTime isnt null, strcat("Walltime == ", string(60*default_maxWallTime), " && CondorCE == 1"), "CondorCE == 1")));
 ]
</pre>
</div></div> <!--/twistyPlugin-->
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  If a value is set in <a href="/bin/view/Documentation/Release3/JobRouterRecipes#JobRouterDefaults" class="twikiCurrentTopicLink twikiAnchorLink">JOB_ROUTER_DEFAULTS</a> with <code>eval_set_&lt;variable&gt;</code>, override it by using  <code>eval_set_&lt;variable&gt;</code> in the <code>JOB_ROUTER_ENTRIES</code>. Do this at your own risk as it may cause the CE to break.
</dd></dl> 
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  Do <strong>not</strong> set the <code>JOB_ROUTER_DEFAULTS</code> configuration variable yourself. This will cause the CE to stop functioning.
</dd></dl> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Generic_Routes"></a> Generic Routes </span></h2>
<p />
New routes should be placed in <code>/etc/condor-ce/config.d/99-local.conf</code>, not the original <code>02-ce-*.conf</code>.
<p />
<h3><a name="Required_fields"></a> Required fields </h3>
<p />
The minimum requirements for a route are that you specify the type of batch system that jobs should be routed to and a name for each route. Default routes can be found in <code>/usr/share/condor-ce/config.d/02-ce-&lt;batch system&gt;-defaults.conf</code>, provided by the <code>osg-ce-&lt;batch system&gt;</code> packages.
<p />
<h4><a name="Batch_system"></a> Batch system </h4>
<p />
Each route needs to indicate the type of batch system that jobs should be routed to. For HTCondor batch systems, the <code>TargetUniverse</code> attribute needs to be set to <code>5</code> or <code>"vanilla"</code>. For all other batch systems, the <code>TargetUniverse</code> attribute needs to be set to <code>9</code> or <code>"grid"</code> and the <code>GridResource</code> attribute needs to be set to <code>"batch &lt;batch system&gt;"</code> (where <code>&lt;batch system&gt;</code> can be one of <code>pbs</code> (for both users of <code>pbs</code> and <code>SLURM</code>), <code>lsf</code>, or <code>sge</code>).
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     <span style="background-color: #FFCCFF;"><b># Route to an HTCondor-CE batch system \</b></span>
     <span style="background-color: #FFCCFF;"><b>TargetUniverse = 5; \</b></span>
     name = "Route jobs to HTCondor"; \
] \
[ \
     <span style="background-color: #FFCCFF;"><b># Route to a PBS batch system \</b></span>
     <span style="background-color: #FFCCFF;"><b>GridResource = "batch pbs"; \</b></span>
     <span style="background-color: #FFCCFF;"><b>TargetUniverse = 9; \</b></span>
     name = "Route jobs to PBS"; \
]
</pre>
<p />
<h4><a name="Route_name"></a> Route name </h4>
<p />
To identify routes, you will need to assign a name to the route with the <code>name</code> attribute:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     TargetUniverse = 5; \
     <span style="background-color: #FFCCFF;"><b>name = "Route jobs to HTCondor"; \</b></span>
]
</pre>
<p />
The name of the route will be useful in debugging since it shows up in the output of <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE#condor_ce_job_router_info" class="twikiAnchorLink">condor_ce_job_router_info</a>, the <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE#JobRouterLog_AN1" class="twikiAnchorLink">JobRouterLog</a>, and in the ClassAd of the routed job, which can be viewed with <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE#condor_ce_q" class="twikiAnchorLink">condor_ce_q</a> or <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE#condor_ce_history" class="twikiAnchorLink">condor_ce_history</a>.
<p />
<h3><a name="Writing_multiple_routes"></a> Writing multiple routes </h3>
<p />
If your batch system needs incoming jobs to be sorted (e.g. if different VO's need to go to separate queues), you will need to write multiple job routes. Each route is enclosed by square brackets and unless they're the last closing bracket, they need to be followed by the line continuation character. The following routes takes incoming jobs that have a <code>queue</code> attribute set to <code>"analy"</code> and routes them to the site's HTCondor batch system. Any other jobs will be sent to that site's PBS batch system.
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  The JobRouter matches jobs to routes in a round-robin fashion. This means that if a job can match to multiple routes, it can be routed by any of them! So when writing job routes, make sure that they are exclusive to each other and that your jobs can only match to a single route.
</dd></dl> 
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = <span style="background-color: #FFCCFF;"><b>[ \</b></span>
     TargetUniverse = 5; \
     name = "Route jobs to HTCondor"; \
     Requirements = (TARGET.queue =?= "analy"); \
<span style="background-color: #FFCCFF;"><b>] \</b></span>
<span style="background-color: #FFCCFF;"><b>[ \</b></span>
     GridResource = "batch pbs"; \
     TargetUniverse = 9; \
     name = "Route jobs to PBS"; \
     Requirements = (TARGET.queue =!= "analy"); \
<span style="background-color: #FFCCFF;"><b>]</b></span>
</pre>
<p />
<h3><a name="Writing_comments"></a> Writing comments </h3>
<p />
To write comments you can use C-style comments, text enclosed by <code>/* */</code>. If the comment is at the end of a line, it still has to be followed by the line continuation character.
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     TargetUniverse = 5; \
     name = "C-style comments"; \
     <span style="background-color: #FFCCFF;"><b>/* This is a comment */ \</b></span>
] 
</pre>
<p />
For <code>condor_ce_version</code> 8.2.x or greater, you can also use <code>#</code> to comment out single lines:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     TargetUniverse = 5; \
     name = "Hash comments"; \
     <span style="background-color: #FFCCFF;"><b># BrokenAttribute = "commented out"; \</b></span> 
] 
</pre>
<p />
<h3><a name="Setting_attributes_for_all_route"></a> Setting attributes for all routes </h3>
<p />
To set an attribute that will be applied to all routes, you will need to ensure that <code>MERGE_JOB_ROUTER_DEFAULT_ADS</code> is set to <code>True</code> (check the value with <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE#CondorConfigVal" class="twikiAnchorLink">condor_ce_config_val</a>) and use the <code><a href="/bin/view/Documentation/Release3/JobRouterRecipes#SettingAttributes" class="twikiCurrentTopicLink twikiAnchorLink">set_</a></code> function in the <code>JOB_ROUTER_DEFAULTS</code>. The following configuration sets the <code>Periodic_Hold</code> attribute for all routes:
<p />
<pre class="file">
# Use the defaults generated by the condor_ce_router_defaults script.  To add
# additional defaults, add additional lines of the form:
#
#   JOB_ROUTER_DEFAULTS = $(JOB_ROUTER_DEFAULTS) [set_foo = 1;]
#
MERGE_JOB_ROUTER_DEFAULT_ADS=True
JOB_ROUTER_DEFAULTS = $(JOB_ROUTER_DEFAULTS) <span style="background-color: #FFCCFF;"><b>[set_Periodic_Hold = (NumJobStarts >= 1 && JobStatus == 1) || NumJobStarts > 1;]</b></span>
</pre>
<p />
<h3><a name="Filtering_jobs_based_on"></a> Filtering jobs based on&hellip; </h3>
<p />
To filter jobs, use the <code>Requirements</code> attribute. Jobs will evaluate against the ClassAd expression set in the <code>Requirements</code> and if the expression evaluates to <code>TRUE</code>, the route will match. More information on the syntax of ClassAd's can be found in the <a href="http://research.cs.wisc.edu/htcondor/manual/v8.2/4_1HTCondor_s_ClassAd.html" target="_top">HTCondor manual</a>. For an example on how incoming jobs interact with filtering in job routes, consult <a href="/bin/view/Documentation/Release3/SubmittingHTCondorCE#Matching" class="twikiAnchorLink">this document</a>.
<p />
When setting requirements, you need to prefix job attributes that you are filtering with <code>TARGET.</code> so that the job route knows to compare the attribute of the incoming job rather than the route&rsquo;s own attribute. For example, if an incoming job has a <code>queue = "analy"</code> attribute, then the following job route will not match:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     TargetUniverse = 5; \
     name = "Filtering by queue"; \
     queue = "not-analy"; \
     <span style="background-color: #FFCCFF;"><b>Requirements = (queue =?= "analy"); \</b></span>
] 
</pre>
<p />
This is because when evaluating the route requirement, the job route will compare its own <code>queue</code> attribute to "analy" and see that it does not match. You can read more about comparing two ClassAds in the <a href="http://research.cs.wisc.edu/htcondor/manual/v8.2/4_1HTCondor_s_ClassAd.html#43151" target="_top">HTCondor manual</a>.
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  If you have an HTCondor batch system, note the difference with <a href="/bin/view/Documentation/Release3/JobRouterRecipes#RoutedReq" class="twikiCurrentTopicLink twikiAnchorLink">set_requirements</a>.
</dd></dl> 
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  The JobRouter matches jobs to routes in a round-robin fashion. This means that if a job can match to multiple routes, it can be routed by any of them! So when writing job routes, make sure that they are exclusive to each other and that your jobs can only match to a single route. 
</dd></dl> 
<p />
<a name="GlideIn"></a>
<h4><a name="Glidein_queue"></a> Glidein queue </h4>
<p />
To filter jobs based on their glidein queue attribute, your routes will need a <code>Requirements</code> expression using the incoming job's <code>queue</code> attribute. The following entry routes jobs to the PBS queue if the incoming job (specified by <code>TARGET</code>) is an <code>analy</code> (Analysis) glidein:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     TargetUniverse = 5; \
     name = "Filtering by queue"; \
     <span style="background-color: #FFCCFF;"><b>Requirements = (TARGET.queue =?= "analy"); \</b></span>
] 
</pre>
<p />
<h4><a name="Job_submitter"></a> Job submitter </h4>
<p />
To filter jobs based on who submitted it, your routes will need a <code>Requirements</code> expression using the incoming job's <code>Owner</code> attribute. The following entry routes jobs to the HTCondor batch system iff the submitter is <code>usatlas2</code>:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     TargetUniverse = 5; \
     name = "Filtering by job submitter"; \
     <span style="background-color: #FFCCFF;"><b>Requirements = (TARGET.Owner =?= "usatlas2"); \</b></span>
] 
</pre>
<p />
Alternatively, you can match based on regular expression. The following entry routes jobs to the PBS batch system iff the submitter's name begins with <code>usatlas</code>:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     GridResource = "batch pbs"; \
     TargetUniverse = 9; \
     name = "Filtering by job submitter (regular expression)"; \
     <span style="background-color: #FFCCFF;"><b>Requirements = regexp("^usatlas", TARGET.Owner); \</b></span>
] 
</pre>
<p />
<h4><a name="VOMS_attribute"></a> VOMS attribute </h4>
<p />
To filter jobs based on the subject of the job's proxy, your routes will need a <code>Requirements</code> expression using the incoming job's <code>x509UserProxyFirstFQAN</code> attribute. The following entry routes jobs to the PBS batch system if the proxy subject contains <code>/cms/Role=Pilot</code>:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     GridResource = "batch pbs"; \
     TargetUniverse = 9; \
     name = "Filtering by VOMS attribute (regex)"; \
     <span style="background-color: #FFCCFF;"><b>Requirements = regexp("\/cms\/Role\=pilot", TARGET.x509UserProxyFirstFQAN); \</b></span>
] 
</pre>
<p />
<h3><a name="Setting_a_default"></a> Setting a default&hellip; </h3>
<p />
This section outlines how to set default job limits, memory, cores, queue, and maximum walltime. For an example on how users can override these defaults, consult <a href="/bin/view/Documentation/Release3/SubmittingHTCondorCE#Route_defaults" class="twikiAnchorLink">this document</a>. 
<p />
<h4><a name="Maximum_number_of_jobs"></a> Maximum number of jobs </h4>
<p />
To set a default limit to the maximum number of jobs per route, you can edit the configuration variable <code>CONDORCE_MAX_JOBS</code> in <code>/etc/condor-ce/config.d/01-ce-router.conf</code>:
<p />
<pre class="file">
<span style="background-color: #FFCCFF;"><b>CONDORCE_MAX_JOBS = 10000</b></span>
</pre>
<p />
Note that this is to be placed directly into the HTCondor-CE configuration, not into a job route.
<p />
<h4><a name="Maximum_memory"></a> Maximum memory </h4>
<p />
To set a default maximum memory for routed jobs, set the attribute <code>default_maxMemory</code>:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     GridResource = "batch pbs"; \
     TargetUniverse = 9; \
     name = "Request memory"; \
     /* Set the requested memory to 1 GB */ \
     <span style="background-color: #FFCCFF;"><b>set_default_maxMemory = 1000; \</b></span>
] 
</pre>
<p />
<h4><a name="Number_of_cores_to_request"></a> Number of cores to request </h4>
<p />
To set a default number of cores for routed jobs, set the attribute <code>default_xcount</code>:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     GridResource = "batch pbs"; \
     TargetUniverse = 9; \
     name = "Request CPU"; \
     /* Set the requested cores to 8 */ \
     <span style="background-color: #FFCCFF;"><b>set_default_xcount = 8; \</b></span>
] 
</pre>
<p />
<h4><a name="Maximum_walltime"></a> Maximum walltime </h4>
<p />
To set a default maximum walltime (in minutes) for routed jobs, set the attribute <code>default_maxWallTime</code>:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     GridResource = "batch pbs"; \
     TargetUniverse = 9; \
     name = "Setting WallTime"; \
     /* Set the max walltime to 1 hr */ \
     <span style="background-color: #FFCCFF;"><b>set_default_maxWallTime = 60; \</b></span>
] 
</pre>
<p />
<h3><a name="Editing_attributes"></a> Editing attributes&hellip; </h3>
<p />
The following functions are operations that affect job attributes and are evaluated in the following order:
<p /> <ol>
<li> copy_*
</li> <li> delete_*
</li> <li> set_*
</li> <li> eval_set_*
</li></ol> 
<p />
After each job route&rsquo;s ClassAd is <a href="/bin/view/Documentation/Release3/JobRouterRecipes#JobRouteConstruction" class="twikiCurrentTopicLink twikiAnchorLink">constructed</a>, the above operations are evaluated in order. For example, if the attribute <code>foo</code> is set using <code>eval_set_foo</code> in the <code>JOB_ROUTER_DEFAULTS</code>, you'll be unable to use <code>delete_foo</code> to remote it from your jobs since the attribute is set using <code>eval_set_foo</code> after the deletion occurs according to the order of operations.  To get around this, we can take advantage of the fact that operations defined in <code>JOB_ROUTER_DEFAULTS</code> get overriden by the same operation in <code>JOB_ROUTER_ENTRIES</code>. So to 'delete' <code>foo</code>, we would add <code>eval_set_foo = ""</code> to the route in the <code>JOB_ROUTER_ENTRIES</code>, resulting in <code>foo</code> being absent from the routed job.
<p />
More documentation can be found in the <a href="http://research.cs.wisc.edu/htcondor/manual/v8.2/5_4HTCondor_Job.html#SECTION00644000000000000000" target="_top">HTCondor manual</a>.
<p />
<h4><a name="Copying_attributes"></a> Copying attributes </h4>
<p />
To copy the value of an attribute of the incoming job to an attribute of the routed job, use <code>copy_</code>. The following route copies the <code>environment</code> attribute of the incoming job and sets the attribute <code>Original_Environment</code> on the routed job to the same value:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     GridResource = "batch pbs"; \
     TargetUniverse = 9; \
     name = "Copying attributes"; \
     <span style="background-color: #FFCCFF;"><b>copy_environment = "Original_Environment"; \</b></span>
] 
</pre>
<p />
<h4><a name="Removing_attributes"></a> Removing attributes </h4>
<p />
To remove an attribute of the incoming job from the routed job, use <code>delete_</code>. The following route removes the <code>environment</code> attribute from the routed job:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     GridResource = "batch pbs"; \
     TargetUniverse = 9; \
     name = "Copying attributes"; \
     <span style="background-color: #FFCCFF;"><b>delete_environment = True; \</b></span>
] 
</pre>
<p />
<a name="SettingAttributes"></a>
<h4><a name="Setting_attributes"></a> Setting attributes </h4>
<p />
To set an attribute on the routed job, use <code>set_</code>. The following route sets the Job's <code>Rank</code> attribute to 5:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     GridResource = "batch pbs"; \
     TargetUniverse = 9; \
     name = "Setting an attribute"; \
     <span style="background-color: #FFCCFF;"><b>set_Rank = 5; \</b></span>
] 
</pre>
<p />
<h4><a name="Setting_attributes_with_ClassAd"></a> Setting attributes with ClassAd expressions </h4>
<p />
To set an attribute to a ClassAd expression to be evaluated, use <code>set_eval</code>. The following route sets the <code>Experiment</code> attribute to <code>atlas.osguser</code> if the Owner of the incoming job is <code>osguser</code>:
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  If a value is set in JOB_ROUTER_DEFAULTS with <code>eval_set_&lt;variable&gt;</code>, override it by using <code>eval_set_&lt;variable&gt;</code> in the <code>JOB_ROUTER_ENTRIES</code>.
</dd></dl> 
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     GridResource = "batch pbs"; \
     TargetUniverse = 9; \
     name = "Setting an attribute with a !ClassAd expression"; \
     <span style="background-color: #FFCCFF;"><b>eval_set_Experiment = strcat("atlas.", Owner); \</b></span>
] 
</pre>
<p />
<h3><a name="Limiting_the_number_of"></a> Limiting the number of... </h3>
<p />
This section outlines how to limit the number of total or idle jobs in a specific route (i.e., if this limit is reached, jobs will no longer be placed in this route). 
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  If you are using an HTCondor batch system, limiting the number of jobs is not the preferred solution: HTCondor manages fair share on its own via <a href="http://research.cs.wisc.edu/htcondor/manual/v8.2/3_4User_Priorities.html" target="_top">user priorities and group accounting</a>.
</dd></dl> 
<p />
<h4><a name="Total_jobs"></a> Total jobs </h4>
<p />
To set a limit on the number of jobs for a specific route, set the <a href="http://research.cs.wisc.edu/htcondor/manual/v8.2/5_4HTCondor_Job.html#49135" target="_top">MaxJobs</a> attribute:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     GridResource = "batch pbs"; \
     TargetUniverse = 9; \
     name = "Limit the total number of jobs to 100"; \
     <span style="background-color: #FFCCFF;"><b>MaxJobs = 100; \</b></span>
] \
[ \
     GridResource = "batch pbs"; \
     TargetUniverse = 9; \
     name = "Limit the total number of jobs to 75"; \
     <span style="background-color: #FFCCFF;"><b>MaxJobs = 75; \</b></span>
]
</pre>
<p />
<h4><a name="Idle_jobs"></a> Idle jobs </h4>
<p />
To set a limit on the number of idle jobs for a specific route, set the <a href="http://research.cs.wisc.edu/htcondor/manual/v8.2/5_4HTCondor_Job.html#49136" target="_top">MaxIdleJobs</a> attribute:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     TargetUniverse = 5; \
     name = "Limit the total number of idle jobs to 100"; \
     <span style="background-color: #FFCCFF;"><b>MaxIdleJobs = 100; \</b></span>
] \
[ \
     TargetUniverse = 5; \
     name = "Limit the total number of idle jobs to 75"; \
     <span style="background-color: #FFCCFF;"><b>MaxIdleJobs = 75; \</b></span>
]
</pre>
<p />
<p />
<h3><a name="Debugging_routes"></a> Debugging routes </h3>
<p />
To help debug expressions in your routes, you can use the <code>debug()</code> function. First, set the debug mode for the JobRouter by editing a file in <code>/etc/condor-ce/config.d/</code> to read
<p />
<pre class="file">
JOB_ROUTER_DEBUG = D_FULLDEBUG
</pre>
<p />
Then wrap the problematic attribute in <code>debug()</code>:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     GridResource = "batch pbs"; \
     TargetUniverse = 9; \
     name = "Debugging a difficult !ClassAd expression"; \
     <span style="background-color: #FFCCFF;"><b>eval_set_Experiment = debug(strcat("atlas", Name)); \</b></span>
] 
</pre>
<p />
<p />
You will find the debugging output in <code>/var/log/condor-ce/JobRouterLog</code>.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Routes_for_HTCondor_Batch_System"></a> Routes for HTCondor Batch Systems </span></h2>
<p />
<h3><a name="Setting_periodic_hold_release_or"></a> Setting periodic hold, release or remove </h3>
<p />
To release, remove or put a job on hold if it meets certain criteria, use the <code>PERIODIC_*</code> family of attributes. By default, periodic expressions are evaluated once every 300 seconds but this can be changed by setting PERIODIC_EXPR_INTERVAL in your CE's configuration. 
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     TargetUniverse = 5; \
     name = "Setting periodic statements"; \
     <span style="background-color: #FFCCFF;"><b>/* Puts the routed job on hold if the job's been idle and has been started at least once or if the job has tried to start more than once */ \</b></span>
     <span style="background-color: #FFCCFF;"><b>set_Periodic_Hold = (NumJobStarts >= 1 && JobStatus == 1) || NumJobStarts > 1; \</b></span>
     <span style="background-color: #FFCCFF;"><b>/* Remove routed jobs if their walltime is longer than 3 days and 5 minutes */ \</b></span>
     <span style="background-color: #FFCCFF;"><b>set_Periodic_Remove = ( RemoteWallClockTime > (3*24*60*60 + 5*60) ); \</b></span>
     <span style="background-color: #FFCCFF;"><b>/* Release routed jobs if the condor_starter couldn't start the executable and 'VMGAHP_ERR_INTERNAL' is in the HoldReason */ \</b></span>
     <span style="background-color: #FFCCFF;"><b>set_Periodic_Release = HoldReasonCode == 6 && regexp("VMGAHP_ERR_INTERNAL", HoldReason); \</b></span>
] 
</pre>
<p />
<a name="RoutedReq"></a>
<h3><a name="Setting_routed_job_requirements"></a> Setting routed job requirements </h3>
<p />
If you need to set requirements on your routed job, you will need to use <code>set_Requirements</code> instead of <code>Requirements</code>. The <code>Requirements</code> attribute filters jobs coming into your CE into different job routes whereas <code>set_requirements</code> will set conditions on the routed job that must be met by the worker node it lands on. For more information on requirements, consult the <a href="http://research.cs.wisc.edu/htcondor/manual/v8.2/2_5Submitting_Job.html#SECTION00352000000000000000" target="_top">HTCondor manual</a>.
<p />
To ensure that your job lands on a Linux machine in your pool:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     TargetUniverse = 5; \
     <span style="background-color: #FFCCFF;"><b>set_Requirements =  OpSys == "LINUX" \</b></span>
]
</pre>
<p />
<h3><a name="Setting_accounting_groups"></a> Setting accounting groups </h3>
<p />
To assign jobs to an HTCondor accounting group to manage fair share on your local batch system, we recommend using <a href="/bin/view/Documentation/Release3/InstallHTCondorCE#AccountingGroups" class="twikiAnchorLink">UID and ExtAttr tables</a>. 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Routes_for_non_HTCondor_Batch_Sy"></a> Routes for non-HTCondor Batch Systems </span></h2>
<p />
<h3><a name="Setting_a_default_batch_queue"></a> Setting a default batch queue </h3>
<p />
To set a default queue for routed jobs, set the attribute <code>default_queue</code>:
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     GridResource = "batch pbs"; \
     TargetUniverse = 9; \
     name = "Setting batch system queues"; \
     <span style="background-color: #FFCCFF;"><b>set_default_queue = "osg_queue"; \</b></span>
] 
</pre>
<p />
<h3><a name="Setting_batch_system_directives"></a> Setting batch system directives </h3>
<p />
To write batch system directives that are not supported in the route examples above, you will need to edit the job submit script for your local batch system in <code>/etc/blahp/</code> (e.g., if your local batch system is PBS, edit <code>/etc/blahp/pbs_local_submit_attributes.sh</code>). This file is sourced during submit time and anything printed to stdout is appended to the batch system job submit script. ClassAd attributes can be passed from the routed job to the local submit attributes script via the <code>default_remote_cerequirements</code> attribute, which can take the following form:
<p />
<pre class=file>
default_remote_cerequirements = foo == X && bar == Y && ...
</pre>
<p />
This sets <code>foo</code> to value <code>X</code> and <code>bar</code> to <code>Y</code> in the environment of the local submit attributes script. The following example sets the maximum walltime to 1 hour and the accounting group to the <code>x509UserProxyFirstFQAN</code> attribute of the job submitted to a PBS batch system
<p />
<pre class="file">
JOB_ROUTER_ENTRIES = [ \
     GridResource = "batch pbs"; \
     TargetUniverse = 9; \
     name = "Setting job submit variables"; \
     <span style="background-color: #FFCCFF;"><b>set_default_remote_cerequirements = strcat("Walltime == 3600 && AccountingGroup == \"", x509UserProxyFirstFQAN, "\""); \</b></span>
] 
</pre>
<p />
With <code>/etc/blahp/pbs_local_submit_attributes.sh</code> containing.
<p />
<pre class=file>
#!/bin/bash
echo "#PBS -l walltime=$Walltime"
echo "#PBS -A $AccountingGroup"
</pre>
<p />
The result is that the following will be appended to the script that gets submitted to your batch system:
<p />
<pre class=file>
#PBS -l walltime=3600
#PBS -A <span style="background-color: #FFCCFF;">"&lt;CE job's x509UserProxyFirstFQAN attribute&gt;"</span>
</pre>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Example_Configurations"></a> Example Configurations </span></h2>
<p />
<h3><a name="AGLT2_s_job_routes"></a> AGLT2's job routes </h3>
<p />
Atlas AGLT2 is using an HTCondor batch system. Here are some things to note about their routes.
<p /> <ul>
<li> Setting various HTCondor-specific attributes like <code>Rank</code>, <code>AccountingGroup</code>, <code>JobPrio</code> and <code>Periodic_Remove</code> (see the <a href="http://research.cs.wisc.edu/htcondor/manual/v8.2/12_Appendix_A.html" target="_top">HTCondor manual</a> for more). Some of these are site-specific like <code>LastandFrac</code>, <code>IdleMP8Pressure</code>, <code>localQue</code>, <code>IsAnalyJob</code> and <code>JobMemoryLimit</code>.
</li> <li> There is a difference between <code>Requirements</code> and <code>set_requirements</code>. The <code>Requirements</code> attribute matches jobs to specific routes while the <code>set_requirements</code> sets the <code>Requirements</code> attribute on the <em>routed</em> job, which confines which machines that the routed job can land on.
</li></ul> 
<p />
Source: <a href="https://www.aglt2.org/wiki/bin/view/AGLT2/CondorCE#The_JobRouter_configuration_file_content" target="_top">https://www.aglt2.org/wiki/bin/view/AGLT2/CondorCE#The_JobRouter_configuration_file_content</a>
<p />
<div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdDocumentation/Release3JobRouterRecipes2show" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Click to expand full job route&hellip;</span></a> </span> <span id="twistyIdDocumentation/Release3JobRouterRecipes2hide" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyHidden twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide Full Output</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdDocumentation/Release3JobRouterRecipes2toggle" class="twistyRememberSetting twistyStartHide twistyContent twikiMakeHidden twistyInited0">
<pre class="file">
JOB_ROUTER_ENTRIES = \
/* Still to do on all routes, get job requirements and add them here */ \
/* ***** Route no 1 ***** */ \
/* ***** Analysis queue ***** */ \
  [ \
    GridResource = "condor localhost localhost"; \
    eval_set_GridResource = strcat("condor ", "$(FULL_HOSTNAME)", " $(JOB_ROUTER_SCHEDD2_POOL)"); \
    Requirements = target.queue=="analy"; \
    Name = "Analysis Queue"; \
    TargetUniverse = 5; \
    eval_set_IdleMP8Pressure = $(IdleMP8Pressure); \
    eval_set_LastAndFrac = $(LastAndFrac); \
    set_requirements = ( ( TARGET.TotalDisk =?= undefined ) || ( TARGET.TotalDisk >= 21000000 ) ) && ( TARGET.Arch == "X86_64" ) && ( TARGET.OpSys == "LINUX" ) && ( TARGET.Disk >= RequestDisk ) && ( TARGET.Memory >= RequestMemory ) && ( TARGET.HasFileTransfer ) && (IfThenElse((Owner == "atlasconnect" || Owner == "muoncal"),IfThenElse(IdleMP8Pressure,(TARGET.PARTITIONED =!= TRUE),True),IfThenElse(LastAndFrac,(TARGET.PARTITIONED =!= TRUE),True))); \
    eval_set_AccountingGroup = strcat("group_gatekpr.prod.analy.",Owner); \
    set_localQue = "Analysis"; \
    set_IsAnalyJob = True; \
    set_JobPrio = 5; \
    set_Rank = (SlotID + (64-TARGET.DETECTED_CORES))*1.0; \
    set_JobMemoryLimit = 4194000; \
    set_Periodic_Remove = ( ( RemoteWallClockTime > (3*24*60*60 + 5*60) ) || (ImageSize > JobMemoryLimit) ); \
  ] \
/* ***** Route no 2 ***** */ \
/* ***** splitterNT queue ***** */ \
  [ \
    GridResource = "condor localhost localhost"; \
    eval_set_GridResource = strcat("condor ", "$(FULL_HOSTNAME)", " $(JOB_ROUTER_SCHEDD2_POOL)"); \
    Requirements = target.queue == "splitterNT"; \
    Name = "Splitter ntuple queue"; \
    TargetUniverse = 5; \
    set_requirements = ( ( TARGET.TotalDisk =?= undefined ) || ( TARGET.TotalDisk >= 21000000 ) ) && ( TARGET.Arch == "X86_64" ) && ( TARGET.OpSys == "LINUX" ) && ( TARGET.Disk >= RequestDisk ) && ( TARGET.Memory >= RequestMemory ) && ( TARGET.HasFileTransfer ); \
    eval_set_AccountingGroup = "group_calibrate.muoncal"; \
    set_localQue = "Splitter"; \
    set_IsAnalyJob = False; \
    set_JobPrio = 10; \
    set_Rank = (SlotID + (64-TARGET.DETECTED_CORES))*1.0; \
    set_JobMemoryLimit = 4194000; \
    set_Periodic_Remove = ( ( RemoteWallClockTime > (3*24*60*60 + 5*60) ) || (ImageSize > JobMemoryLimit) ); \
  ] \
/* ***** Route no 3 ***** */ \
/* ***** splitter queue ***** */ \
  [ \
    GridResource = "condor localhost localhost"; \
    eval_set_GridResource = strcat("condor ", "$(FULL_HOSTNAME)", " $(JOB_ROUTER_SCHEDD2_POOL)"); \
    Requirements = target.queue == "splitter"; \
    Name = "Splitter queue"; \
    TargetUniverse = 5; \
    set_requirements = ( ( TARGET.TotalDisk =?= undefined ) || ( TARGET.TotalDisk >= 21000000 ) ) && ( TARGET.Arch == "X86_64" ) && ( TARGET.OpSys == "LINUX" ) && ( TARGET.Disk >= RequestDisk ) && ( TARGET.Memory >= RequestMemory ) && ( TARGET.HasFileTransfer ); \
    eval_set_AccountingGroup = "group_calibrate.muoncal"; \
    set_localQue = "Splitter"; \
    set_IsAnalyJob = False; \
    set_JobPrio = 15; \
    set_Rank = (SlotID + (64-TARGET.DETECTED_CORES))*1.0; \
    set_JobMemoryLimit = 4194000; \
    set_Periodic_Remove = ( ( RemoteWallClockTime > (3*24*60*60 + 5*60) ) || (ImageSize > JobMemoryLimit) ); \
  ] \
/* ***** Route no 4 ***** */ \
/* ***** xrootd queue ***** */ \
  [ \
    GridResource = "condor localhost localhost"; \
    eval_set_GridResource = strcat("condor ", "$(FULL_HOSTNAME)", " $(JOB_ROUTER_SCHEDD2_POOL)"); \
    Requirements = target.queue == "xrootd"; \
    Name = "Xrootd queue"; \
    TargetUniverse = 5; \
    set_requirements = ( ( TARGET.TotalDisk =?= undefined ) || ( TARGET.TotalDisk >= 21000000 ) ) && ( TARGET.Arch == "X86_64" ) && ( TARGET.OpSys == "LINUX" ) && ( TARGET.Disk >= RequestDisk ) && ( TARGET.Memory >= RequestMemory ) && ( TARGET.HasFileTransfer ); \
    eval_set_AccountingGroup = strcat("group_gatekpr.prod.analy.",Owner); \
    set_localQue = "Analysis"; \
    set_IsAnalyJob = True; \
    set_JobPrio = 35; \
    set_Rank = (SlotID + (64-TARGET.DETECTED_CORES))*1.0; \
    set_JobMemoryLimit = 4194000; \
    set_Periodic_Remove = ( ( RemoteWallClockTime > (3*24*60*60 + 5*60) ) || (ImageSize > JobMemoryLimit) ); \
  ] \
/* ***** Route no 5 ***** */ \
/* ***** Tier3Test queue ***** */ \
  [ \
    GridResource = "condor localhost localhost"; \
    eval_set_GridResource = strcat("condor ", "$(FULL_HOSTNAME)", " $(JOB_ROUTER_SCHEDD2_POOL)"); \
    Requirements = target.queue == "Tier3Test"; \
    Name = "Tier3 Test Queue"; \
    TargetUniverse = 5; \
    set_requirements = ( ( TARGET.TotalDisk =?= undefined ) || ( TARGET.TotalDisk >= 21000000 ) ) && ( TARGET.Arch == "X86_64" ) && ( TARGET.OpSys == "LINUX" ) && ( TARGET.Disk >= RequestDisk ) && ( TARGET.Memory >= RequestMemory ) && ( TARGET.HasFileTransfer ) && ( IS_TIER3_TEST_QUEUE =?= True ); \
    eval_set_AccountingGroup = strcat("group_gatekpr.prod.analy.",Owner); \
    set_localQue = "Tier3Test"; \
    set_IsTier3TestJob = True; \
    set_IsAnalyJob = True; \
    set_JobPrio = 20; \
    set_Rank = (SlotID + (64-TARGET.DETECTED_CORES))*1.0; \
    set_JobMemoryLimit = 4194000; \
    set_Periodic_Remove = ( ( RemoteWallClockTime > (3*24*60*60 + 5*60) ) || (ImageSize > JobMemoryLimit) ); \
  ] \
/* ***** Route no 6 ***** */ \
/* ***** mp8 queue ***** */ \
  [ \
    GridResource = "condor localhost localhost"; \
    eval_set_GridResource = strcat("condor ", "$(FULL_HOSTNAME)", " $(JOB_ROUTER_SCHEDD2_POOL)"); \
    Requirements = target.queue=="mp8"; \
    Name = "MCORE Queue"; \
    TargetUniverse = 5; \
    set_requirements = ( ( TARGET.TotalDisk =?= undefined ) || ( TARGET.TotalDisk >= 21000000 ) ) && ( TARGET.Arch == "X86_64" ) && ( TARGET.OpSys == "LINUX" ) && ( TARGET.Disk >= RequestDisk ) && ( TARGET.Memory >= RequestMemory ) && ( TARGET.HasFileTransfer ) && (( TARGET.Cpus == 8 && TARGET.CPU_TYPE =?= "mp8" ) || TARGET.PARTITIONED =?= True ); \
    eval_set_AccountingGroup = strcat("group_gatekpr.prod.mcore.",Owner); \
    set_localQue = "MP8"; \
    set_IsAnalyJob = False; \
    set_JobPrio = 25; \
    set_Rank = 0.0; \
    eval_set_RequestCpus = 8; \
    set_JobMemoryLimit = 33552000; \
    set_Slot_Type = "mp8"; \
    set_Periodic_Remove = ( ( RemoteWallClockTime > (3*24*60*60 + 5*60) ) || (ImageSize > JobMemoryLimit) ); \
  ] \
/* ***** Route no 7 ***** */ \
/* ***** Installation queue, triggered by usatlas2 user ***** */ \
  [ \
    GridResource = "condor localhost localhost"; \
    eval_set_GridResource = strcat("condor ", "$(FULL_HOSTNAME)", " $(JOB_ROUTER_SCHEDD2_POOL)"); \
    Requirements = target.queue is undefined && target.Owner == "usatlas2"; \
    Name = "Install Queue"; \
    TargetUniverse = 5; \
    set_requirements = ( ( TARGET.TotalDisk =?= undefined ) || ( TARGET.TotalDisk >= 21000000 ) ) && ( TARGET.Arch == "X86_64" ) && ( TARGET.OpSys == "LINUX" ) && ( TARGET.Disk >= RequestDisk ) && ( TARGET.Memory >= RequestMemory ) && ( TARGET.HasFileTransfer ) && ( TARGET.IS_INSTALL_QUE =?= True ) && (TARGET.AGLT2_SITE == "UM" ); \
    eval_set_AccountingGroup = strcat("group_gatekpr.other.",Owner); \
    set_localQue = "Default"; \
    set_IsAnalyJob = False; \
    set_IsInstallJob = True; \
    set_JobPrio = 15; \
    set_Rank = (SlotID + (64-TARGET.DETECTED_CORES))*1.0; \
    set_JobMemoryLimit = 4194000; \
    set_Periodic_Remove = ( ( RemoteWallClockTime > (3*24*60*60 + 5*60) ) || (ImageSize > JobMemoryLimit) ); \
  ] \
/* ***** Route no 8 ***** */ \
/* ***** Default queue for usatlas1 user ***** */ \
  [ \
    GridResource = "condor localhost localhost"; \
    eval_set_GridResource = strcat("condor ", "$(FULL_HOSTNAME)", " $(JOB_ROUTER_SCHEDD2_POOL)"); \
    Requirements = target.queue is undefined && regexp("usatlas1",target.Owner); \
    Name = "ATLAS Production Queue"; \
    TargetUniverse = 5; \
    set_requirements = ( ( TARGET.TotalDisk =?= undefined ) || ( TARGET.TotalDisk >= 21000000 ) ) && ( TARGET.Arch == "X86_64" ) && ( TARGET.OpSys == "LINUX" ) && ( TARGET.Disk >= RequestDisk ) && ( TARGET.Memory >= RequestMemory ) && ( TARGET.HasFileTransfer ); \
    eval_set_AccountingGroup = strcat("group_gatekpr.prod.prod.",Owner); \
    set_localQue = "Default"; \
    set_IsAnalyJob = False; \
    set_Rank = (SlotID + (64-TARGET.DETECTED_CORES))*1.0; \
    set_JobMemoryLimit = 4194000; \
    set_Periodic_Remove = ( ( RemoteWallClockTime > (3*24*60*60 + 5*60) ) || (ImageSize > JobMemoryLimit) ); \
  ] \
/* ***** Route no 9 ***** */ \
/* ***** Default queue for any other usatlas account ***** */ \
  [ \
    GridResource = "condor localhost localhost"; \
    eval_set_GridResource = strcat("condor ", "$(FULL_HOSTNAME)", " $(JOB_ROUTER_SCHEDD2_POOL)"); \
    Requirements = target.queue is undefined && (regexp("usatlas2",target.Owner) || regexp("usatlas3",target.Owner)); \
    Name = "Other ATLAS Production"; \
    TargetUniverse = 5; \
    set_requirements = ( ( TARGET.TotalDisk =?= undefined ) || ( TARGET.TotalDisk >= 21000000 ) ) && ( TARGET.Arch == "X86_64" ) && ( TARGET.OpSys == "LINUX" ) && ( TARGET.Disk >= RequestDisk ) && ( TARGET.Memory >= RequestMemory ) && ( TARGET.HasFileTransfer ); \
    eval_set_AccountingGroup = strcat("group_gatekpr.other.",Owner); \
    set_localQue = "Default"; \
    set_IsAnalyJob = False; \
    set_Rank = (SlotID + (64-TARGET.DETECTED_CORES))*1.0; \
    set_JobMemoryLimit = 4194000; \
    set_Periodic_Remove = ( ( RemoteWallClockTime > (3*24*60*60 + 5*60) ) || (ImageSize > JobMemoryLimit) ); \
  ] \
/* ***** Route no 10 ***** */ \
/* ***** Anything else. Set queue as Default and assign to other VOs  ***** */ \
  [ \
    GridResource = "condor localhost localhost"; \
    eval_set_GridResource = strcat("condor ", "$(FULL_HOSTNAME)", " $(JOB_ROUTER_SCHEDD2_POOL)"); \
    Requirements = target.queue is undefined && ifThenElse(regexp("usatlas",target.Owner),false,true); \
    Name = "Other Jobs"; \
    TargetUniverse = 5; \
    set_requirements = ( ( TARGET.TotalDisk =?= undefined ) || ( TARGET.TotalDisk >= 21000000 ) ) && ( TARGET.Arch == "X86_64" ) && ( TARGET.OpSys == "LINUX" ) && ( TARGET.Disk >= RequestDisk ) && ( TARGET.Memory >= RequestMemory ) && ( TARGET.HasFileTransfer ); \
    eval_set_AccountingGroup = strcat("group_VOgener.",Owner); \
    set_localQue = "Default"; \
    set_IsAnalyJob = False; \
    set_Rank = (SlotID + (64-TARGET.DETECTED_CORES))*1.0; \
    set_JobMemoryLimit = 4194000; \
    set_Periodic_Remove = ( ( RemoteWallClockTime > (3*24*60*60 + 5*60) ) || (ImageSize > JobMemoryLimit) ); \
  ]
</pre>
</div></div> <!--/twistyPlugin-->
<p />
<h3><a name="BNL_s_job_routes"></a> BNL's job routes </h3>
<p />
Atlas BNL T1, they are using an HTCondor batch system. Here are some things to note about their routes:
<p /> <ul>
<li> Setting various HTCondor-specific attributes like <code>JobLeaseDuration</code>, <code>Requirements</code> and <code>Periodic_Hold</code> (see the <a href="http://research.cs.wisc.edu/htcondor/manual/v8.2/12_Appendix_A.html" target="_top">HTCondor manual</a> for more). Some of these are site-specific like <code>RACF_Group</code>, <code>Experiment</code>, <code>Job_Type</code> and <code>VO</code>.
</li> <li> Jobs are split into different routes based on the <a href="/bin/view/Documentation/Release3/JobRouterRecipes#GlideIn" class="twikiCurrentTopicLink twikiAnchorLink">GlideIn</a> queue that they're in.
</li> <li> There is a difference between <code>Requirements</code> and <code>set_requirements</code>. The <code>Requirements</code> attribute matches <em>incoming</em> jobs to specific routes while the <code>set_requirements</code> sets the <code>Requirements</code> attribute on the <em>routed</em> job, which confines which machines that the routed job can land on.
</li></ul> 
<p />
Source: <a href="http://www.usatlas.bnl.gov/twiki/bin/view/Admins/HTCondorCE.html" target="_top">http://www.usatlas.bnl.gov/twiki/bin/view/Admins/HTCondorCE.html</a>
<p />
<div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdDocumentation/Release3JobRouterRecipes3show" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Click to expand full job route&hellip;</span></a> </span> <span id="twistyIdDocumentation/Release3JobRouterRecipes3hide" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyHidden twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide Full Output</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdDocumentation/Release3JobRouterRecipes3toggle" class="twistyRememberSetting twistyStartHide twistyContent twikiMakeHidden twistyInited0">
<pre class="file">
###############################################################################
#
# HTCondor-CE HTCondor batch system configuration file.
#
###############################################################################

# Submit the job to the site Condor

JOB_ROUTER_ENTRIES = \
   [ \
     GridResource = "condor localhost localhost"; \
     eval_set_GridResource = strcat("condor ", "$(FULL_HOSTNAME)", "$(FULL_HOSTNAME)"); \
     TargetUniverse = 5; \
     name = "BNL_Condor_Pool_long"; \
     Requirements = target.queue=="analysis.long"; \
     eval_set_RACF_Group = "long"; \
     set_Experiment = "atlas"; \
     set_requirements = ( ( Arch == "INTEL" || Arch == "X86_64" ) && ( CPU_Experiment == "atlas" ) ) && ( TARGET.OpSys == "LINUX" ) && ( TARGET.Disk >= RequestDisk ) && ( TARGET.Memory >= RequestMemory ) && ( TARGET.HasFileTransfer ); \
     set_Job_Type = "cas"; \
     set_JobLeaseDuration = 3600; \
     set_Periodic_Hold = (NumJobStarts >= 1 && JobStatus == 1) || NumJobStarts > 1; \
     eval_set_VO = x509UserProxyVOName; \
   ] \
   [ \
     GridResource = "condor localhost localhost"; \
     eval_set_GridResource = strcat("condor ", "$(FULL_HOSTNAME)", "$(FULL_HOSTNAME)"); \
     TargetUniverse = 5; \
     name = "BNL_Condor_Pool_short"; \
     Requirements = target.queue=="analysis.short"; \
     eval_set_RACF_Group = "short"; \
     set_Experiment = "atlas"; \
     set_requirements = ( ( Arch == "INTEL" || Arch == "X86_64" ) && ( CPU_Experiment == "atlas" ) ) && ( TARGET.OpSys == "LINUX" ) && ( TARGET.Disk >= RequestDisk ) && ( TARGET.Memory >= RequestMemory ) && ( TARGET.HasFileTransfer ); \
     set_Job_Type = "cas"; \
     set_JobLeaseDuration = 3600; \
     set_Periodic_Hold = (NumJobStarts >= 1 && JobStatus == 1) || NumJobStarts > 1; \
     eval_set_VO = x509UserProxyVOName; \
   ] \
   [ \
     GridResource = "condor localhost localhost"; \
     eval_set_GridResource = strcat("condor ", "$(FULL_HOSTNAME)", "$(FULL_HOSTNAME)"); \
     TargetUniverse = 5; \
     name = "BNL_Condor_Pool_grid"; \
     Requirements = target.queue=="grid"; \
     eval_set_RACF_Group = "grid"; \
     set_Experiment = "atlas"; \
     set_requirements = ( ( Arch == "INTEL" || Arch == "X86_64" ) && ( CPU_Experiment == "atlas" ) ) && ( TARGET.OpSys == "LINUX" ) && ( TARGET.Disk >= RequestDisk ) && ( TARGET.Memory >= RequestMemory ) && ( TARGET.HasFileTransfer ); \
     set_Job_Type = "cas"; \
     set_JobLeaseDuration = 3600; \
     set_Periodic_Hold = (NumJobStarts >= 1 && JobStatus == 1) || NumJobStarts > 1; \
     eval_set_VO = x509UserProxyVOName; \
   ] \
   [ \
     GridResource = "condor localhost localhost"; \
     eval_set_GridResource = strcat("condor ", "$(FULL_HOSTNAME)", "$(FULL_HOSTNAME)"); \
     TargetUniverse = 5; \
     name = "BNL_Condor_Pool"; \
     Requirements = target.queue is undefined; \
     eval_set_RACF_Group = "grid"; \
     set_requirements = ( ( Arch == "INTEL" || Arch == "X86_64" ) && ( CPU_Experiment == "rcf" ) ) && ( TARGET.OpSys == "LINUX" ) && ( TARGET.Disk >= RequestDisk ) && ( TARGET.Memory >= RequestMemory ) && ( TARGET.HasFileTransfer ); \
     set_Experiment = "atlas"; \
     set_Job_Type = "cas"; \
     set_JobLeaseDuration = 3600; \
     set_Periodic_Hold = (NumJobStarts >= 1 && JobStatus == 1) || NumJobStarts > 1; \
     eval_set_VO = x509UserProxyVOName; \
   ]
</pre>
</div></div> <!--/twistyPlugin-->
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Reference"></a> Reference </span></h2>
<p />
Here are some other HTCondor-CE documents that might be helpful:
<p /> <ul>
<li> <a href="/bin/view/Documentation/Release3/HTCondorCEOverview" class="twikiLink">HTCondor-CE overview and architecture</a>
</li> <li> <a href="/bin/view/Documentation/Release3/InstallHTCondorCE" class="twikiLink">Installing HTCondor-CE</a>
</li> <li> <a href="/bin/view/Documentation/Release3/InstallHTCondorBosco" class="twikiLink">Installing and maintaining HTCondor-CE-Bosco</a>
</li> <li> <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE" class="twikiLink">The HTCondor-CE troubleshooting guide</a>
</li> <li> <a href="/bin/view/Documentation/Release3/SubmittingHTCondorCE" class="twikiLink">Submitting jobs to HTCondor-CE</a>
</li></ul> </div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Documentation/Release3<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Documentation/Release3/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>JobRouterRecipes</span> <br />    
Topic revision: r46 - 28 Nov 2016 - 16:50:45 - <a href="/bin/view/Main/BrianLin" class="twikiLink">BrianLin</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />