<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> CemonOnSE &lt; Documentation/Release3 &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Documentation/Release3/CemonOnSE?_T=16 Feb 2017" type="application/x-wiki" title="edit CemonOnSE" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Documentation/Release3/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Documentation/Release3/CemonOnSE"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFFFFF;
	}
	.patternBookView {
		border-color:#FFFFFF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--TABLEPLUGIN_table2--><style type="text/css" media="all">
.tableSortIcon img {padding-left:.3em; vertical-align:text-bottom;}
</style>
<!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Cemon_On_SE"></a>  <strong>Cemon On SE</strong> </h1>
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#1_0_About_this_Document"> 1.0 About this Document</a>
</li> <li> <a href="?cover=print#2_0_Conventions_Used_in_this_Doc"> 2.0 Conventions Used in this Document</a>
</li> <li> <a href="?cover=print#3_0_Introduction"> 3.0 Introduction</a>
</li> <li> <a href="?cover=print#4_0_Requirements"> 4.0 Requirements</a> <ul>
<li> <a href="?cover=print#4_1_Host_and_OS"> 4.1 Host and OS</a>
</li> <li> <a href="?cover=print#4_2_Users"> 4.2 Users</a>
</li> <li> <a href="?cover=print#4_3_Certificates"> 4.3 Certificates</a>
</li> <li> <a href="?cover=print#4_4_Networking"> 4.4 Networking</a>
</li></ul> 
</li> <li> <a href="?cover=print#5_0_Installation_Procedure"> 5.0 Installation Procedure</a>
</li> <li> <a href="?cover=print#Install_the_Yum_Repositories_req"> Install the Yum Repositories required by OSG</a> <ul>
<li> <a href="?cover=print#Install_EPEL"> Install EPEL</a>
</li> <li> <a href="?cover=print#Install_the_Yum_priorities_packa"> Install the Yum priorities package</a>
</li> <li> <a href="?cover=print#Install_OSG_Repositories"> Install OSG Repositories</a>
</li> <li> <a href="?cover=print#Install_the_CA_Certificates_A_qu"> Install the CA Certificates: A quick guide</a>
</li></ul> 
</li> <li> <a href="?cover=print#5_1_Installing_Storage_Element"> 5.1 Installing Storage Element</a> <ul>
<li> <a href="?cover=print#5_2_Installing_Information_Provi"> 5.2 Installing Information Providers</a>
</li></ul> 
</li> <li> <a href="?cover=print#6_0_Information_systems"> 6.0 Information systems </a> <ul>
<li> <a href="?cover=print#6_1_Generic_Information_Provider"> 6.1 Generic Information Provider (GIP)</a>
</li> <li> <a href="?cover=print#6_2_CEMon"> 6.2 CEMon</a>
</li> <li> <a href="?cover=print#6_3_Configure_OSG"> 6.3 Configure OSG</a>
</li> <li> <a href="?cover=print#6_4_User_VO_File"> 6.4 User VO File</a>
</li></ul> 
</li> <li> <a href="?cover=print#7_0_Services"> 7.0 Services</a> <ul>
<li> <a href="?cover=print#7_1_Starting_and_Enabling_Servic"> 7.1 Starting and Enabling Services</a>
</li> <li> <a href="?cover=print#7_2_Stopping_and_Disabling_Servi"> 7.2 Stopping and Disabling Services</a>
</li></ul> 
</li> <li> <a href="?cover=print#8_0_Useful_Configuration_and_Log"> 8.0 Useful Configuration and Log Files</a>
</li> <li> <a href="?cover=print#9_0_Validation"> 9.0 Validation</a>
</li> <li> <a href="?cover=print#10_0_Troubleshooting"> 10.0 Troubleshooting</a>
</li></ul> 
</div>
<p />
<h1><a name="1_0_About_this_Document"></a> 1.0 About this Document </h1>
<p />
<h1><a name="2_0_Conventions_Used_in_this_Doc"></a> 2.0 Conventions Used in this Document </h1>
on    
on    
<p />
<h1><a name="3_0_Introduction"></a> 3.0 Introduction </h1>
<p />
This page describes the installation of the Open Science Grid (OSG) information provider system on a Storage Element only configuration.
This will allow your storage element to report to BDII (and possibly ReSS) to accurately portray itself as a grid resource to FTS and other 
grid services that depend on BDII as an information provider.  This installation procedure is specifically guided towards an installation 
separate from computing resources.  If you have a computing cluster, you should consider following the 
<a href="/bin/view/Documentation/Release3/InstallComputeElement" class="twikiLink">Compute Element Installation</a> instructions, which include a CEMon installation.
<p />
<h1><a name="4_0_Requirements"></a> 4.0 Requirements </h1>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="4_1_Host_and_OS"></a> 4.1 Host and OS </span></h2>
<p /> <ul>
<li> OS must be Red Hat Enterprise Linux 5, 6, 7, and variants (see <a href="/bin/view/Documentation/Release3/SupportedOperatingSystems" class="twikiLink">details...</a>). 
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="4_2_Users"></a> 4.2 Users </span></h2>
The installation will create following users unless they are already created
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table1" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/CemonOnSE?cover=print;sortcol=0;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">User</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/CemonOnSE?cover=print;sortcol=1;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Comment</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>tomcat</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> Runs the tomcat web application server where CEMon runs. </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="4_3_Certificates"></a> 4.3 Certificates </span></h2>
<p />
For CEMon to run, you need to have a host or service certificate in <code>/etc/grid-security/http/httpcert.pem</code> and <code>/etc/grid-security/http/httpkey.pem</code>. These files need to be owned by the <code>tomcat</code> user. The simplest thing to do is to copy your host certificate.
<p />
<pre class="rootscreen">
[root@client ~]$ mkdir /etc/grid-security/http
[root@client ~]$ cp /etc/grid-security/hostkey.pem /etc/grid-security/http/httpkey.pem
[root@client ~]$ cp /etc/grid-security/hostcert.pem /etc/grid-security/http/httpcert.pem
[root@client ~]$ chown -R tomcat /etc/grid-security/http
[root@client ~]$ chmod 0400 /etc/grid-security/http/httpkey.pem
</pre>
<p />
Note that you want to copy, not move, the hostcerts - Globus still expects them in the original location.  
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="4_4_Networking"></a> 4.4 Networking </span></h2>
<p />
Tomcat will run on port 8080 by default.  However, it is common to also change this to a secure port 8443.
<p />
<h1><a name="5_0_Installation_Procedure"></a> 5.0 Installation Procedure </h1>
<p />
<p />
<p />
<h1><a name="Install_the_Yum_Repositories_req"></a> Install the Yum Repositories required by OSG </h1>
<p />
The OSG RPMs currently support Red Hat Enterprise Linux 5, 6, 7, and variants (see <a href="/bin/view/Documentation/Release3/SupportedOperatingSystems" class="twikiLink">details...</a>).
<p />
OSG RPMs are distributed via the OSG yum repositories. Some packages depend on packages distributed via the <a href="http://fedoraproject.org/wiki/EPEL" target="_top">EPEL</a> repositories. So both repositories must be enabled.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Install_EPEL"></a> Install EPEL </span></h2>
<p /> <ul>
<li> Install the EPEL repository, if not already present. <strong>Note:</strong> This enables EPEL by default. Choose the right version to match your OS version. <pre class="rootscreen">
<font color="#ff0000"># EPEL 5 (For RHEL 5, CentOS 5, and SL 5) </font>
[root@client ~]$ curl -O https://dl.fedoraproject.org/pub/epel/epel-release-latest-5.noarch.rpm
[root@client ~]$ rpm -Uvh epel-release-latest-5.noarch.rpm
<font color="#ff0000"># EPEL 6 (For RHEL 6, CentOS 6, and SL 6) </font>
[root@client ~]$ rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-6.noarch.rpm
<font color="#ff0000"># EPEL 7 (For RHEL 7, CentOS 7, and SL 7) </font>
[root@client ~]$ rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</pre>       <strong>WARNING</strong>: if you have your own mirror or configuration of the EPEL repository, you <strong>MUST</strong> verify that the OSG repository has a better yum priority than EPEL (<a href="/bin/view/Documentation/Release3/InstallBestPractices#YumPriorities" class="twikiAnchorLink">details</a>). Otherwise, you will have strange dependency resolution (<em>depsolving</em>) issues.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Install_the_Yum_priorities_packa"></a> Install the Yum priorities package </span></h2>
<p />
For packages that exist in both OSG and EPEL repositories, it is important to prefer the OSG ones or else OSG software installs may fail. Installing the Yum priorities package enables the repository priority system to work.
<p /> <ol>
<li> <p>Choose the correct package name based on your operating system’s major version:</p> <ul>
<li> For EL&nbsp;5 systems, use <code>yum-priorities</code>
</li> <li> For EL&nbsp;6 and EL&nbsp;7 systems, use <code>yum-plugin-priorities</code>
</li></ul> 
</li> <li> <p>Install the Yum priorities package:</p>       <pre class="rootscreen">[root@client ~]$ yum install <em>PACKAGE</em></pre>       <p>Replace <em><code>PACKAGE</code></em> with the package name from the previous step.</p>
</li> <li> <p>Ensure that <code>/etc/yum.conf</code> has the following line in the <code>[main]</code> section (particularly when using ROCKS), thereby enabling Yum plugins, including the priorities one:</p>       <pre class="file">plugins=1</pre>       <strong>NOTE</strong>: If you do not have a required key you can force the installation using <code>--nogpgcheck</code>; e.g., <code>yum install --nogpgcheck yum-priorities</code>.
</li></ol> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Install_OSG_Repositories"></a> Install OSG Repositories </span></h2>
<p />
<!--   1. <p>First, determine which OSG series you will be installing; 3.1 or 3.2.  The OSG 3.1 and 3.2 series are each well tested and contain the entire OSG software stack.  The 3.1 series continues to support all packages that have been released throughout its lifetime, while the 3.2 series contains newer versions of software (including HTCondor, Hadoop, glideinWMS) and removes support for obsolete packages (including CEMonitor).  Initially, most packages are identical between 3.1 and 3.2, but we expect the new series to diverge over time. <br/><br/>Note that some packages (eg, Hadoop) do not inter-operate between 3.1 and 3.2, and therefore require all nodes to use the same series.</p> -->
<p />
<ol>
   <li>
      <p>If you are upgrading from OSG 3.1 (or 3.2) to OSG 3.2 (or 3.3), remove the old OSG repository definition files and clean the Yum cache:</p>         <pre class="rootscreen">[root@client ~]$ yum clean all
[root@client ~]$ rpm -e osg-release</pre>       <p>This step ensures that local changes to <code>*.repo</code> files will not block the installation of the new OSG repositories. After this step, <code>*.repo</code> files that have been changed will exist in <code>/etc/yum.repos.d/</code> with the <code>*.rpmsave</code> extension. After installing the new OSG repositories (the next step) you may want to apply any changes made in the <code>*.rpmsave</code> files to the new <code>*.repo</code> files.</p>
   </li>
   <li>
      <p>Install the OSG repositories using one of the following methods depending on your EL version:</p>      <ol>
         <li>
            <p>For EL versions greater than EL5, install the files directly from <code>repo.grid.iu.edu</code>:</p>            <pre class="rootscreen">[root@client ~]$ rpm -Uvh <font color="#ff0000">URL</font></pre>            <p>Where <code><font color="#ff0000">URL</font></code> is one of the following:</p><table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table2" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/CemonOnSE?cover=print;sortcol=0;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Series</font></a> </th>
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/CemonOnSE?cover=print;sortcol=1;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">EL6 URL (for RHEL 6, CentOS 6, or SL 6)</font></a> </th>
			<th bgcolor="#d8dde4" align="center" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/CemonOnSE?cover=print;sortcol=2;table=2;up=0#sorted_table" title="Sort by this column"><font color="#252b37">EL7 URL (for RHEL 7, CentOS 7, or SL 7)</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <font color="#252b37">OSG 3.2</font> </th>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol1"> <code>https://repo.grid.iu.edu/osg/3.2/osg-3.2-el6-release-latest.rpm</code> </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol2 twikiLastCol"> N/A </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <font color="#252b37">OSG 3.3</font> </th>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol1 twikiLast"> <code>https://repo.grid.iu.edu/osg/3.3/osg-3.3-el6-release-latest.rpm</code> </td>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> <code>https://repo.grid.iu.edu/osg/3.3/osg-3.3-el7-release-latest.rpm</code> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
         </li>
         <li>
            <p>For EL5, download the repo file and install it using the following:</p>
            <pre class="rootscreen">[root@client ~]$ curl -O https://repo.grid.iu.edu/osg/3.2/osg-3.2-el5-release-latest.rpm
[root@client ~]$ rpm -Uvh osg-3.2-el5-release-latest.rpm</pre>
         </li>
      </ol>
   </li>
</ol>
<p />
For more details, please see our <a href="/bin/view/Documentation/Release3/YumRepositories" class="twikiLink">yum repository documentation</a>.
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Install_the_CA_Certificates_A_qu"></a> Install the CA Certificates: A quick guide </span></h2>
<p />
You must perform one of the following <code>yum</code> commands below to select this host's CA certificates.
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table3" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/CemonOnSE?cover=print;sortcol=0;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Set of CAs</font></a> </th>
			<th bgcolor="#d8dde4" align="right" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/CemonOnSE?cover=print;sortcol=1;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">CA certs name</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/CemonOnSE?cover=print;sortcol=2;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37"> Installation command (as root)</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> OSG </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> osg-ca-certs </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> <code>yum install osg-ca-certs</code> <font color="#ff0000"><b>Recommended</b></font> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> IGTF </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> igtf-ca-certs </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> <code>yum install igtf-ca-certs</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> None* </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> empty-ca-certs </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> <code>yum install empty-ca-certs --enablerepo=osg-empty</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> Any** </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLast"> Any </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> <code>yum install osg-ca-scripts</code> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
* The <code>empty-ca-certs</code> RPM indicates you will be manually installing the CA certificates on the node. <br/>
** The <code>osg-ca-scripts</code> RPM provides a cron script that automatically downloads CA updates, and requires further configuration. <br/>
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  If you use options 1 or 2, then you will need to run "yum update" in order to get the latest version of CAs when they are released. With option 4 a cron service is provided which will always download the updated CA package for you.
</dd></dl> 
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  If you use services like Apache's httpd you must restart them after each update of the CA certificates, otherwise they will continue to use the old version of the CA certificates.
</dd></dl> 
For more details and options, please see our <a href="/bin/view/Documentation/Release3/InstallCertAuth" class="twikiLink">CA certificates documentation</a>. 
<p />
<p />
<!--
<p />
CEMon uses tomcat to run.  This is usually provided by your OS.  
Depending on your operating system, you may run into java compatibility problems.
In the Fermi distribution of Scientific Linux, java 1.6 is incompatible with tomcat5
and gives <span class="twikiNewLink">InvalidJarIndexException<a href="/bin/edit/Documentation/Release3/InvalidJarIndexException?topicparent=Documentation/Release3.CemonOnSE" rel="nofollow" title="InvalidJarIndexException (this topic does not yet exist; you can create it)">?</a></span> due to java jar re-packaging problems.
To get around this, install gcj-compat first:
<p />
<strong>Note: Actually, I am not sure this is correct.</strong>
<pre class="rootscreen">
yum install java-1.4.2-gcj-compat-devel
yum install xml-commons-apis
</pre>
<p />
Note: if you already have a newer java jdk, you may need to remove it first.  
This part of the installation is very OS dependent, so your mileage may vary.
<p />
<strong>Note:</strong> Help us expand this section for other OS by trying this procedure on other systems.
-->
<p />
<h1><a name="5_1_Installing_Storage_Element"></a> 5.1 Installing Storage Element </h1>
<p />
If storage element is not installed already, at this point, you should install your storage element, by following one of the instructions
on the <a href="/bin/view/Documentation/Release3/NavAdminStorage" class="twikiLink">Storage Overview</a> page, such as
a standalone <a href="/bin/view/Documentation/Release3/InstallOSGBestmanSE" class="twikiLink">BeStMan server</a>.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="5_2_Installing_Information_Provi"></a> 5.2 Installing Information Providers </span></h2>
<p />
To install the information service provider and CEMon, perform the following command.
<pre class="rootscreen">
yum install osg-se-cemon
</pre>
<p />
<p />
<h1><a name="6_0_Information_systems"></a> 6.0 Information systems </h1>
<p />
OSG sites report information about their site to OSG. This is particularly important for WLCG sites, which need to be present in the BDII information service so the WLCG can run jobs on these sites. However, this is important for all OSG sites because the information is used for site discovery.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="6_1_Generic_Information_Provider"></a> 6.1 Generic Information Provider (GIP) </span></h2>
<p />
The Generic Information Provider (GIP) is a program that discovers information about your site. It only discovers the information: other software propagates that software to OSG.
<p />
Configuration of the GIP happens entirely via the <code>/etc/osg/config.d/*.ini</code> files. These are the same files that are used by <code>osg-configure</code>.   
Some information on each configuration file is listed below, but for more information, refer to the comments in each file or <a href="/bin/view/Documentation/Release3/NavTechGIP" class="twikiLink">More information on configuring the GIP</a>.  
<p />
<h3><a name="30_gip_ini"></a> 30-gip.ini </h3>
<p />
You will need to modify <code>/etc/osg/config.d/30-gip.ini</code>.  Enter appropriate information for SE entries and make sure there are no compute element and subcluster entries (subcluster is CE component, so, in case of an SE there is no subcluster).  
<p />
Note that, in an SE-only install, the following are ignored:
<pre class="file">
batch = DEFAULT
advertise_gums = FALSE
</pre>
<p />
Note that if you specify <code>advertise_gsiftp</code> as true, then you will need to specify <code>gsiftp_host</code>
<pre class="file">
advertise_gsiftp = TRUE
gsiftp_host = gridftphost.domain.tld
</pre>
<p />
If "Subcluster" section exists, comment all such entries (ie. ";[Subcluster CHANGEME]").
<p />
You will need to specify the SE options.  Two options follow for dCache or 
BeStMan (e.g. BeStMan-Gateway on Hadoop).
<pre class="file">
; Here are working configs for BestMan and dCache
; [SE dCache]
; name = T2_Nebraska_Storage
; srm_endpoint = srm://srm.unl.edu:8443/srm/managerv2
; provider_implementation = static
; implementation = dcache
; version = 1.8.0-15p6
; default_path = /pnfs/unl.edu/data4/VONAME

; [SE Hadoop]
; name = T2_Nebraska_Hadoop
; srm_endpoint = srm://dcache07.unl.edu:8443/srm/v2/server
; provider_implementation = bestman
; implementation = bestman
; version = 2.2.1.2.e1
; default_path = /user/VONAME
</pre>
<p />
<!-- 
<p />
This file is no longer necessary and is only provided in the comments for backwards compatibility.
<p />
Lastly, you will need to add information to <code>/etc/gip/gip.conf</code>.  By default, this is an empty file for expert-only options.  You will need to add the following to configure a SE-only mode:
<p />
<pre class="file">
[gip]
override = False
check_osg = False
osg_config = /etc/gip/config.ini

[vo]
user_vo_map = /var/lib/osg/user-vo-map
</pre>
For convenience, this is provided for you in <code>/etc/gip/gip.se_only.conf</code>, so you can copy that file into gip.conf if desired.
<p />
-->
<p />
<h3><a name="40_siteinfo_ini"></a> 40-siteinfo.ini </h3>
<p />
You will need to modify <code>/etc/osg/config.d/40-siteinfo.ini</code>.  The following highlights the changes needed.
<p />
You will need to set "OSG" or "OSG-ITB" in the group to determine gip reporting.
<pre class="file">
group = OSG
</pre>
<p />
You will need to add the host name and the resource name and group
(this should match the name given at OIM registration).
Also, list your organization sponsor.  The sponsor should be a valid VO (virtual organization).
<pre class="file">
host_name = fermicloud019.fnal.gov
resource = Fermicloud_ITB
resource_group = Fermicloud
sponsor = engage
</pre>
<p />
You will need to give a url as well as several contacts for the site:
(admin and technical contacts).
<pre class="file">
site_policy = http://gw014k0.fnal.gov/
contact = someone@fnal.gov
email = dstrain@FNAL.GOV
</pre>
<p />
Lastly, you will need to add location details:
<pre class="file">
city = Batavia
country = USA
longitude = -88
latitude = 41
</pre>
<p />
<h3><a name="10_storage_ini"></a> 10-storage.ini </h3>
<p />
In the file <code>/etc/osg/config.d/10-storage.ini</code>, you will specify the
configuration of your storage element to report to BDII.
<p />
You will need to enable an SE and put the default SE node
<pre class="file">
se_available = TRUE
default_se = fermicloud019.fnal.gov
</pre>
If you are also running a CE, you will need to specify the directories 
for the various functions on a worker node.  Since this is a stand-alone SE,
these can be set to "UNAVAILABLE".
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="6_2_CEMon"></a> 6.2 CEMon </span></h2>
<p />
CEMon runs the GIP, then pushes its data to OSG. CEMon runs inside of <code>tomcat</code>, which runs as the <code>tomcat</code> user.
<p />
For CEMon to run, you need to have a host or service certificate in <code>/etc/grid-security/http/httpcert.pem</code> and <code>/etc/grid-security/http/httpkey.pem</code>. These files need to be owned by the <code>tomcat</code> user. The simplest thing to do is to copy your host certificate (see requirements above).
<p />
Make sure <code>/etc/grid-security/grid-mapfile</code> exists, even if it is empty: <pre class="rootscreen">[root@client ~]$ touch /etc/grid-security/grid-mapfile</pre>
<p />
You will need to modify <code>/etc/osg/config.d/30-cemon.ini</code> to configure cemon.  In particular, you will need to choose whether to use production or ITB servers for reporting, as shown below for the OSG production servers:
<pre class="file">
ress_servers = %(osg-ress-servers)s
bdii_servers = %(osg-bdii-servers)s
</pre>
Note that the production and ITB BDII servers are the same as all resources should report to the same BDII.
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" />     <strong><font color="#ff0000"> WARNING! </font></strong> </dt><dd>  There is a minor problem in the GIP installation. For now, run the following commands to ensure the GIP will work properly:
</dd></dl> 
<p />
<pre class="rootscreen">
[root@client ~]$ chown -R tomcat /var/log/gip
[root@client ~]$ chown -R tomcat /var/cache/gip
</pre>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="6_3_Configure_OSG"></a> 6.3 Configure OSG </span></h2>
<p />
Once you have finished editting the files, you will need to run osg-configure:
<p />
<pre class="rootscreen">
[root@client ~]$ osg-configure -v -d
[root@client ~]$ osg-configure -c
</pre>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="6_4_User_VO_File"></a> 6.4 User VO File </span></h2>
<p />
The <code>gip</code> program needs VO information in order to report ACL information per VO and to give rough estimates of allocation per VO.  For this reason, the user VO map file is needed.  The <code>user-vo-map</code> file is a simple, space-separated format that contains 2 columns; the first is a unix username and the second is the VO which that username corresponds to.  In order to create it you need to configure the gums client.
<p />
The primary configuration file for the gums-client utilities is located in <code>/etc/gums/gums-client.properties</code>.  The two properties that you must change are:
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table4" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Attribute </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> Needs Editing </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> Value </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> gums.location </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> Yes </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> This should be set to the admin URL for your gums server, usually of the form gums.location=https://GUMS_HOSTNAME:8443/gums/services/GUMSAdmin </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> gums.authz </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> Yes </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> This should be set to the authorization interface URL for your gums server, usually of the form gums.authz=https://GUMS_HOSTNAME:8443/gums/services/GUMSXACMLAuthorizationServicePort </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
After the gums client is configured, generate the file by running the following once by hand:
<p />
<pre class="rootscreen">
[root@client ~]$ gums-host-cron
</pre>
<p />
<code>user-vo-map</code> should be created in the following location:
<p />
<pre>/var/lib/osg/user-vo-map</pre>
<p />
To have cron regularly update this file start the following service:
<p />
<pre class="rootscreen">
[root@client ~]$ service gums-client-cron start
</pre>
<p />
<h3><a name="User_VO_Map_file_no_gums"></a> User VO Map file (no gums) </h3>
<p />
If you do not have a GUMS server, you will not be able to use the above procedure to create the <code>/var/lib/osg/user-vo-map</code> file.
There is currently no mechanism to create this file automatically without a GUMS server, and you will have to modify it by hand.
<p />
The file is made up of user/vo pairs.  You will need to add one line for each user.  It will have the user name (should be the same as the
UNIX user), followed by a space delimiter, followed by the vo name.  Any lines beginning with "#" are ignored.  
Several examples are listed below.
<pre class="file">
#username voname
cdfdev cdf
cmssoft uscms
cmsprod uscms
enucsd02 engage
</pre>
<p />
<h1><a name="7_0_Services"></a> 7.0 Services </h1>
CEMon runs under Tomcat. So you need to start/stop tomcat and the auxiliary services. There is no service named explicitly after CEMon.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="7_1_Starting_and_Enabling_Servic"></a> 7.1 Starting and Enabling Services </span></h2>
<p /> <ol>
<li>  You need to fetch the latest CA Certificate Revocation Lists (CRLs) and you should enable the fetch-crl service to keep the CRLs up to date:<pre class="rootscreen">
<font color="#ff0000"># For RHEL 5, CentOS 5, and SL5 </font>
[root@client ~]$ /usr/sbin/fetch-crl3   # This fetches the CRLs 
[root@client ~]$ /sbin/service fetch-crl3-boot start
[root@client ~]$ /sbin/service fetch-crl3-cron start
<font color="#ff0000"># For RHEL 6, CentOS 6, and SL6, or OSG 3 _older_ than 3.1.15 </font>
[root@client ~]$ /usr/sbin/fetch-crl   # This fetches the CRLs 
[root@client ~]$ /sbin/service fetch-crl-boot start
[root@client ~]$ /sbin/service fetch-crl-cron start
<font color="#ff0000"># For RHEL 7, CentOS 7, and SL7 </font>
[root@client ~]$ /usr/sbin/fetch-crl   # This fetches the CRLs 
[root@client ~]$ systemctl start fetch-crl-boot
[root@client ~]$ systemctl start fetch-crl-cron
</pre> For more details and options, please see our <a href="/bin/view/Documentation/Release3/InstallCertAuth#Managing_Certificate_Revocation" class="twikiAnchorLink">CRL documentation</a>.  
</li> <li> Depending on your authorization mechanism, choose one of these: <ol>
<li> <strong>GUMS:</strong> You need to run a client that creates the <code>user-vo-map</code> file:<pre class="rootscreen">
[root@client ~]$ /sbin/service gums-client-cron start
</pre>
</li> <li> <strong>edg-mkgridmap:</strong> If you use edg-mkgridmap to make a grid-mapfile: <pre class="rootscreen">
[root@client ~]$ /sbin/service edg-mkgridmap start
</pre>
</li></ol> 
</li> <li> Start Tomcat <pre class="rootscreen">
<font color="#ff0000"> # For RHEL 5, CentOS 5, and SL5 </font>
[root@client ~]$ /sbin/service tomcat5 start
<font color="#ff0000"> # For RHEL 6, CentOS 6, and SL6  </font>
[root@client ~]$ /sbin/service tomcat6 start
</pre>
</li></ol> 
<p />
You should also enable the appropriate services so that they are automatically started when your system is powered on:<br/>
 To enable the fetch-crl service to keep the CRLs up to date after reboots:<pre class="rootscreen">
<font color="#ff0000"># For RHEL 5, CentOS 5, and SL5 </font>
[root@client ~]$ /sbin/chkconfig fetch-crl3-boot on
[root@client ~]$ /sbin/chkconfig fetch-crl3-cron on
<font color="#ff0000"># For RHEL 6, CentOS 6, and SL6, or OSG 3 _older_ than 3.1.15 </font>
[root@client ~]$ /sbin/chkconfig fetch-crl-boot on
[root@client ~]$ /sbin/chkconfig fetch-crl-cron on
<font color="#ff0000"># For RHEL 7, CentOS 7, and SL7 </font>
[root@client ~]$ systemctl enable fetch-crl-boot
[root@client ~]$ systemctl enable fetch-crl-cron
</pre> 
<pre class="rootscreen">
# GUMS
[root@client ~]$ /sbin/chkconfig gums-client-cron on

# edg-mkgridmap
[root@client ~]$ /sbin/chkconfig edg-mkgridmap on

# Tomcat: 
<font color="#ff0000"># For RHEL 5, CentOS 5, and SL5 </font>
[root@client ~]$ /sbin/chkconfig tomcat5 on
<font color="#ff0000"># For RHEL 6, CentOS 6, and SL6 </font>
[root@client ~]$ /sbin/chkconfig tomcat6 on
</pre>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="7_2_Stopping_and_Disabling_Servi"></a> 7.2 Stopping and Disabling Services </span></h2>
<p />
Run following commands if you need to stop any services.
<p /> <ol>
<li>  To stop fetch-crl:<pre class="rootscreen">
<font color="#ff0000"># For RHEL 5, CentOS 5, and SL5 </font>
[root@client ~]$ /sbin/service fetch-crl3-boot stop
[root@client ~]$ /sbin/service fetch-crl3-cron stop
<font color="#ff0000"># For RHEL 6, CentOS 6, and SL6, or OSG 3 _older_ than 3.1.15 </font>
[root@client ~]$ /sbin/service fetch-crl-boot stop
[root@client ~]$ /sbin/service fetch-crl-cron stop
<font color="#ff0000"># For RHEL 7, CentOS 7, and SL7 </font>
[root@client ~]$ systemctl stop fetch-crl-boot
[root@client ~]$ systemctl stop fetch-crl-cron
</pre> For more details and options, please see our <a href="/bin/view/Documentation/Release3/InstallCertAuth#Managing_Certificate_Revocation" class="twikiAnchorLink">CRL documentation</a>.  
</li> <li> Turn off Tomcat: <pre class="rootscreen">
<font color="#ff0000"># For RHEL 5, CentOS 5, and SL5 </font>
[root@client ~]$ /sbin/service tomcat5 stop
<font color="#ff0000"># For RHEL 6, CentOS 6, and SL6 </font>
[root@client ~]$ /sbin/service tomcat6 stop
</pre>
</li> <li> Based on your authorization mechanism: <ol>
<li> <strong>GUMS</strong>: <pre class="rootscreen">
[root@client ~]$ /sbin/service gums-client-cron stop
</pre>
</li> <li> <strong>edg-mkgridmap</strong>: <pre class="rootscreen">
[root@client ~]$ /sbin/service edg-mkgridmap stop
</pre>
</li></ol> 
</li></ol> 
In addition, you can disable services by running the following commands.  However, you don't need to do this normally.
<p />
 To disable the fetch-crl service:<pre class="rootscreen">
<font color="#ff0000"># For RHEL 5, CentOS 5, and SL5 </font>
[root@client ~]$ /sbin/chkconfig fetch-crl3-boot off
[root@client ~]$ /sbin/chkconfig fetch-crl3-cron off
<font color="#ff0000"># For RHEL 6, CentOS 6, and SL6, or OSG 3 _older_ than 3.1.15 </font>
[root@client ~]$ /sbin/chkconfig fetch-crl-boot off
[root@client ~]$ /sbin/chkconfig fetch-crl-cron off
<font color="#ff0000"># For RHEL 7, CentOS 7, and SL7 </font>
[root@client ~]$ systemctl disable fetch-crl-boot
[root@client ~]$ systemctl disable fetch-crl-cron
</pre> 
<p />
To disable the other services:
<p />
<pre class="rootscreen">
# Tomcat:
<font color="#ff0000"># For RHEL 5, CentOS 5, and SL5 </font>
[root@client ~]$ /sbin/chkconfig tomcat5 off
<font color="#ff0000"># For RHEL 6, CentOS 6, and SL6 </font>
[root@client ~]$ /sbin/chkconfig tomcat6 off

# GUMS
[root@client ~]$ /sbin/chkconfig gums-client-cron off
# edg-mkgridmap
[root@client ~]$ /sbin/chkconfig edg-mkgridmap off
</pre>
<p />
<h1><a name="8_0_Useful_Configuration_and_Log"></a> 8.0 Useful Configuration and Log Files </h1>
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table5" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/CemonOnSE?cover=print;sortcol=0;table=5;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Service/Process</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/CemonOnSE?cover=print;sortcol=1;table=5;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Configuration File</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/CemonOnSE?cover=print;sortcol=2;table=5;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Description</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> CEMon on (EL5) </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> /etc/tomcat5/Catalina/localhost/ce-monitor.xml </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> Configuration information for this service </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> CEMon on (EL6) </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> /etc/tomcat6/Catalina/localhost/ce-monitor.xml </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> Configuration information for this service </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol">  </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> /etc/glite-ce-monitor/ </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> Configuration files for CEMon </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> tomcat (EL5) </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <code>/etc/tomcat5/</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> Tomcat configuration files </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> tomcat (EL6) </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> <code>/etc/tomcat6/</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> Tomcat configuration files </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table6" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/CemonOnSE?cover=print;sortcol=0;table=6;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Service/Process</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/CemonOnSE?cover=print;sortcol=1;table=6;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Log File</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/CemonOnSE?cover=print;sortcol=2;table=6;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Description</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> CEMon </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> /var/log/glite-ce-monitor/glite-ce-monitor.log </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> CEMon log files </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> tomcat (EL5) </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <code>/var/log/tomcat5/catalina.out</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> This is the Tomcat log file. Problems (and a lot of noise) are reported here. </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> tomcat (EL6) </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> <code>/var/log/tomcat6/catalina.out</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> This is the Tomcat log file. Problems (and a lot of noise) are reported here. </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<h1><a name="9_0_Validation"></a> 9.0 Validation </h1>
In order to validate your installation <ul>
<li> Check that you are able to see information from your SE become available in BDII about ten minutes after starting all services. <ul>
<li> Look in <a href="http://is.grid.iu.edu/data/cemon_raw_incoming/" target="_top">http://is.grid.iu.edu/data/cemon_raw_incoming/</a> to see if the data made it
</li> <li> Your hostname should show up.  If not, CEMon is not working correctly,
</li> <li> If so, CEMon works but BDII does not trust your site.  Make sure that your site is trusted by BDII and in OIM
</li></ul> 
</li> <li> Also, in file <code>/var/log/glite-ce-monitor/glite-ce-monitor.log</code> look for messages like
</li></ul> 
<pre class="file">
19 Feb 2012 23:02:27,017 org.glite.ce.monitor.holder.NotificationHolder - [name=subscription-http___is1_grid_iu_edu_14001-OSG_CE-RAW] - sending notification (containing 1 events) to http://is1.grid.iu.edu:14001 ...
19 Feb 2012 23:02:27,083 org.glite.ce.monitor.holder.NotificationHolder - [name=subscription-http___is1_grid_iu_edu_14001-OSG_CE-RAW] - [done]
19 Feb 2012 23:02:29,444 org.glite.ce.monitor.holder.NotificationHolder - [name=subscription-http___is2_grid_iu_edu_14001-OSG_CE-RAW] - sending notification (containing 1 events) to http://is2.grid.iu.edu:14001 ...
19 Feb 2012 23:02:29,523 org.glite.ce.monitor.holder.NotificationHolder - [name=subscription-http___is2_grid_iu_edu_14001-OSG_CE-RAW] - [done]
</pre>
<h1><a name="10_0_Troubleshooting"></a> 10.0 Troubleshooting </h1>
<p /> <ul>
<li> Check the output of tomcat5 in <code>/var/log/tomcat5/catalina.out</code> or tomcat6 in <code>/var/log/tomcat6/catalina.out</code>  <ul>
<li> Note that you may get errors of the following form:       <code>sun.misc.InvalidJarIndexException: Invalid index</code>      These are due to the java version and problems with jdk packaging in Redhat. In most cases, you can safely ignore these.
</li></ul> 
</li> <li> Check the output of CEMon in <code>/var/log/glite-ce-monitor/glite-ce-monitor.log</code> for any error messages.
</li> <li> Try to run gip_info manually to see if it runs.  If not, gip is not working.
</li></ul> 
<p />
<p />
<!-- CONTENT MANAGEMENT PROJECT
############################################################################################################
 DEAR DOCUMENT OWNER
 <code><b>===============</b></code>
<p />
 Thank you for claiming ownership for this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/Documentation/Release3/FirstLast?topicparent=Documentation/Release3.CemonOnSE" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local OWNER = <span class="twikiNewLink">DouglasStrain<a href="/bin/edit/Documentation/Release3/DouglasStrain?topicparent=Documentation/Release3.CemonOnSE" rel="nofollow" title="DouglasStrain (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
 Please define the document area, choose one of the defined areas from the next line
 DOC_AREA = (<span class="twikiNewLink">ComputeElement<a href="/bin/edit/Documentation/Release3/ComputeElement?topicparent=Documentation/Release3.CemonOnSE" rel="nofollow" title="ComputeElement (this topic does not yet exist; you can create it)">?</a></span>|Storage|VO|Security|User|Monitoring|General|Trash/Integration|Operations|Tier3) <ul>
<li> Local DOC_AREA       = Storage
</li></ul> 
<p />
 define the primary role the document serves, choose one of the defined roles from the next line
 DOC_ROLE = (<span class="twikiNewLink">EndUser<a href="/bin/edit/Documentation/Release3/EndUser?topicparent=Documentation/Release3.CemonOnSE" rel="nofollow" title="EndUser (this topic does not yet exist; you can create it)">?</a></span>|Student|Developer|SysAdmin|VOManager) <ul>
<li> Local DOC_ROLE       = <span class="twikiNewLink">SysAdmin<a href="/bin/edit/Documentation/Release3/SysAdmin?topicparent=Documentation/Release3.CemonOnSE" rel="nofollow" title="SysAdmin (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
 Please define the document type, choose one of the defined types from the next line
 DOC_TYPE = (Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge) <ul>
<li> Local DOC_TYPE       = Installation  Please define if this document in general needs to be reviewed before release ( 1 | 0 )
</li> <li> Local INCLUDE_REVIEW = 1
</li></ul> 
<p />
 Please define if this document in general needs to be tested before release ( 1 | 0 ) <ul>
<li> Local INCLUDE_TEST   = 1
</li></ul> 
<p />
 change to 1 once the document is ready to be reviewed and back to 0 if that is not the case <ul>
<li> Local REVIEW_READY   = 1
</li></ul> 
<p />
 change to 1 once the document is ready to be tested and back to 0 if that is not the case <ul>
<li> Local TEST_READY     = 1
</li></ul> 
<p />
 change to 1 only if the document has passed the review and the test (if applicable) and is ready for release <ul>
<li> Local RELEASE_READY  = 1
</li></ul> 
<p />
<p />
 DEAR DOCUMENT REVIEWER
 <code><b>==================</b></code>
<p />
 Thank for reviewing this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/Documentation/Release3/FirstLast?topicparent=Documentation/Release3.CemonOnSE" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local REVIEWER       =  <span class="twikiNewLink">NehaSharma<a href="/bin/edit/Documentation/Release3/NehaSharma?topicparent=Documentation/Release3.CemonOnSE" rel="nofollow" title="NehaSharma (this topic does not yet exist; you can create it)">?</a></span> Please define the review status for this document to be in progress ( 2 ), failed ( 0 ) or passed ( 1 )
</li> <li> Local REVIEW_PASSED  = 1
</li></ul> 
<p />
<p />
 DEAR DOCUMENT TESTER
 <code><b>================</b></code>
<p />
 Thank for testing this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/Documentation/Release3/FirstLast?topicparent=Documentation/Release3.CemonOnSE" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local TESTER         =   	 <span class="twikiNewLink">NehaSharma<a href="/bin/edit/Documentation/Release3/NehaSharma?topicparent=Documentation/Release3.CemonOnSE" rel="nofollow" title="NehaSharma (this topic does not yet exist; you can create it)">?</a></span> Please define the test status for this document to be in progress ( 2 ), failed ( 0 ) or passed ( 1 )
</li> <li> Local TEST_PASSED    = 1
</li></ul> 
############################################################################################################
-->
<p />
-- <a href="/bin/view/Main/DouglasStrain" class="twikiLink">DouglasStrain</a> - 07 Feb 2012</div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Documentation/Release3<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Documentation/Release3/NavAdminStorage" class="twikiLink">NavAdminStorage</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>CemonOnSE</span> <br />    
Topic revision: r22 - 06 Dec 2016 - 18:12:40 - <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />