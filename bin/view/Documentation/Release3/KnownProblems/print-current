<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> KnownProblems &lt; Documentation/Release3 &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Documentation/Release3/KnownProblems?_T=16 Feb 2017" type="application/x-wiki" title="edit KnownProblems" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Documentation/Release3/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Documentation/Release3/KnownProblems"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFFFFF;
	}
	.patternBookView {
		border-color:#FFFFFF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <link rel="stylesheet" type="text/css" href="https://twiki.opensciencegrid.org/twiki/pub/Documentation/Tools/exercises.css">
<p />
<h1><a name="Known_problems_in_the_OSG_RPM_in"></a> Known problems in the OSG RPM installation </h1>
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Known_problems_in_the_OSG_RPM_in"> Known problems in the OSG RPM installation</a> <ul>
<li> <a href="?cover=print#SHA_2_certificates_require_some"> SHA-2 certificates require some software to be updated</a>
</li> <li> <a href="?cover=print#Problems_with_EPEL_and_or_yum_pr"> Problems with EPEL and/or yum-priorities</a>
</li> <li> <a href="?cover=print#Mixing_rpm_and_pacman_based_CE_i"> Mixing rpm and pacman based CE installs causes problems</a>
</li> <li> <a href="?cover=print#Reserved_user_ids_especially_for"> Reserved user ids (especially for Tomcat)</a>
</li> <li> <a href="?cover=print#Using_new_VOMS_clients_with_olde"> Using new VOMS clients with older VOMS servers</a>
</li> <li> <a href="?cover=print#GIP_ownership"> GIP ownership</a>
</li> <li> <a href="?cover=print#Mixing_Pacman_based_CE_with_RPM"> Mixing Pacman-based CE with RPM-based worker nodes</a>
</li> <li> <a href="?cover=print#Uninstall_old_version_of_osg_ca"> Uninstall old version of osg-ca-certs</a>
</li> <li> <a href="?cover=print#Old_versions_of_Condor"> Old versions of Condor</a>
</li> <li> <a href="?cover=print#Java_upgrade"> Java upgrade</a>
</li> <li> <a href="?cover=print#RPM_based_CE_and_running_with_th"> RPM-based CE and running with the OSG glideinWMS factory</a>
</li> <li> <a href="?cover=print#New_Globus_5_CE_needs_Condor_G_7"> New Globus 5 CE needs Condor-G 7.6.x or later</a>
</li> <li> <a href="?cover=print#ROCKS_provides_a_bad_version_of"> ROCKS provides a bad version of libtool</a>
</li></ul> 
</li></ul> 
</div>
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="SHA_2_certificates_require_some"></a> SHA-2 certificates require some software to be updated </span></h2>
<p />
Starting on 11 February 2014, all OSG-issued Digicert certificates (host, service, and personal) will use the SHA-2 algorithm. Some software in the OSG software stack — notably <span style="color: #F60;">!BeStMan, dCache SRM client, GUMS, jGlobus, and VOMS</span> — must be on a recent version to support SHA-2 certificates. Please visit <a href="/bin/view/Documentation/Release3/SHA2Compliance" class="twikiLink">our SHA-2 compliance page</a> for more information about minimum required versions of software components.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Problems_with_EPEL_and_or_yum_pr"></a> Problems with EPEL and/or yum-priorities </span></h2>
<p />
When you install, you might see errors like this:
<pre class="screen">
Error: Missing Dependency: libglobus_gss_assist.so.3()(64bit) is needed by package CGSI-gSOAP-1.3.4.2-2.el5.x86_64 (epel-x86_64)
Error: Missing Dependency: libglobus_gsi_credential.so.1()(64bit) is needed by package lcgdm-1.8.1.2-1.el5.x86_64 (epel-x86_64)
Error: Missing Dependency: libglobus_gsi_callback.so.0()(64bit) is needed by package lcgdm-1.8.1.2-1.el5.x86_64 (epel-x86_64)
Error: Missing Dependency: libglobus_gssapi_gsi.so.4()(64bit) is needed by package lcgdm-1.8.1.2-1.el5.x86_64 (epel-x86_64)
...
</pre>
<p />
There are two possible reasons for this:
<p /> <ol>
<li> You didn't install <code>yum-priorities</code>. Our instructions include this step, and it's essential in order to avoid this problem.
</li> <li> For some reason, you pre-installed portions of Globus from the EPEL repository. Because we have a significantly newer (and better!) version of Globus in our repository, there are hard-to-resolve conflicts. You have to remove the old version of Globus before you proceed with the install. (And install <code>yum-priorities</code>.) To be clear, if you have pre-installed any of the following package from the EPEL repository, they should be removed: <ul>
<li> Packages beginning with <code>globus</code>
</li> <li> CGSI-gSOAP
</li> <li> lcgdm
</li> <li> voms
</li> <li> Maybe others we aren't yet aware of.
</li></ul> 
</li></ol> 
<p />
You can remove them with a command such as:
<pre class="rootscreen">
[root@client ~]$ rpm -e --nodeps <font color="#ff0000">packagename</font>
</pre>
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Mixing_rpm_and_pacman_based_CE_i"></a> Mixing rpm and pacman based CE installs causes problems </span></h2>
If a rpm based CE is installed on a system with a pacman installation, the pacman installation will use binaries installed by the rpms.  Therefore, switching back from the rpm based CE installation to the pacman installation is non trivial and will require removing rpms and making further changes to the configuration files in /etc.  Due to the changes needed, going back to the pacman installation may not be possible without reinstalling the OS.
<p />
#Reserved uids
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Reserved_user_ids_especially_for"></a> Reserved user ids (especially for Tomcat) </span></h2>
Please be aware that some user ids (uids) are reserved and you should not use them or you might run into problems. In general, do not assign any users a uid less than 500 because Red Hat reserves all uids less than 500. 
<p />
One known case that has affected users is tomcat: When Tomcat is installed (for the CE, VOMS, GUMS, or Gratia) the <code>tomcat</code> rpm will try to create a tomcat user with uid 91. If the tomcat user doesn't exist but uid 91 is already taken, you will experience failures. 
<p />
The workaround is to either not use the reserved uid, or pre-create the user with another uid. If you precreate the tomcat user, make sure the user has a working shell (i.e. not <code>/sbin/nologin</code>). 
<p />
Known user ides that affect the OSG installation include:
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table1" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/KnownProblems?cover=print;sortcol=0;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">uid</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/KnownProblems?cover=print;sortcol=1;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">username</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> 27 </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> mysql-server </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> 48 </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> httpd </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> 91 </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> tomcat </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/5/html/Deployment_Guide/s1-users-groups-standard-users.html" target="_top">Red Hat list of standard users</a>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Using_new_VOMS_clients_with_olde"></a> Using new VOMS clients with older VOMS servers </span></h2>
The new VOMS clients (such as <code>voms-proxy-init</code>) need to contact VOMS servers. Unfortunately, they do not work with the oldest VOMS servers. It works with both current and recent versions, but not much older versions. In particular, it didn't work with the VOMS servers hosted by Fermilab and the GOC.
Fermilab VOMS servers voms.fnal.gov, voms.opensciencegrid.org were upgraded to a compatible version of VOMS in February of 2012, GOC voms server voms.grid.iu.edu is also now compatible.
'
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="GIP_ownership"></a> GIP ownership </span></h2>
Your CE installation may have the wrong ownership on some directories. Fix this by doing:
<p />
<pre class="rootscreen">
[root@client ~]$ chown tomcat /var/log/gip
[root@client ~]$ chown tomcat /var/cache/gip
</pre>
<p />
<a name="SetWNPath"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Mixing_Pacman_based_CE_with_RPM"></a> Mixing Pacman-based CE with RPM-based worker nodes </span></h2>
<p />
If you have a Pacman-based CE with RPM-based worker nodes, you need to tweak your CE, particularly if you use Condor. In particular, you want to ensure that the PATH is set so that the jobs can find the standard tools. With the old worker node, the jobs relied on <code>setup.sh</code>, which no longer exists. (Actually, it exists but is empty.) The new CE sets the PATH, but the default PATH for Condor is empty. You can edit =$VDT_LOCATION/etc/config.ini" to add a line to your local settings:
<p />
<pre class="file">
[Local Settings]
<font color="#ff0000">PATH=/bin:/usr/bin</font>
</pre>
<p />
You do not need to do this if you have an RPM-based CE because it will be done automatically.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Uninstall_old_version_of_osg_ca"></a> Uninstall old version of osg-ca-certs </span></h2>
<p />
If you've previously installed osg-ca-certs from the older software.grid.iu.repository, please remove it before starting your installation to avoid conflicts.
<p />
We hope to have a smoother transition that doesn't requires you do to this, but for now you need to remove the old RPM. 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Old_versions_of_Condor"></a> Old versions of Condor </span></h2>
<p />
Several of the RPMs in our repository depend on Condor. These include:
<p /> <ul>
<li> The Gratia Condor probes
</li> <li> The Condor job managers
</li> <li> glexec (just depends on the <code>condor_procd</code>, <em>not</em> all of Condor)
</li> <li> RSV
</li></ul> 
<p />
If you don't have Condor installed, these will install Condor from our software repository. If you've installed Condor 7.6.0 or later from RPMs, your version will be used. However, if you've installed Condor 7.4.x or earlier from RPMs, it will appear not to satisfy the dependencies and our version of Condor will be installed. For now there is no good way around this--you must install Condor 7.6.0 or later if you need Condor. 
<p />
In the case of glexec, it's not just RPM dependencies that are not resolved--it reuqires a <code>condor_procd</code> from Condor 7.6.0 or later to work. Condor 7.4.x will <em>not</em> work.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Java_upgrade"></a> Java upgrade </span></h2>
<p />
You may see the following set of error messages while upgrading the <code>jdk</code> package:
<pre>
Unpacking JAR files...
rt.jar...
Error: Could not open input file: /usr/java/jdk1.6.0_26/jre/lib/rt.pack
jsse.jar...
Error: Could not open input file: /usr/java/jdk1.6.0_26/jre/lib/jsse.pack
charsets.jar...
Error: Could not open input file: /usr/java/jdk1.6.0_26/jre/lib/charsets.pack
tools.jar...
Error: Could not open input file: /usr/java/jdk1.6.0_26/lib/tools.pack
localedata.jar...
Error: Could not open input file: /usr/java/jdk1.6.0_26/jre/lib/ext/localedata.pack
plugin.jar...
Error: Could not open input file: /usr/java/jdk1.6.0_26/jre/lib/plugin.pack
javaws.jar...
Error: Could not open input file: /usr/java/jdk1.6.0_26/jre/lib/javaws.pack
deploy.jar...
Error: Could not open input file: /usr/java/jdk1.6.0_26/jre/lib/deploy.pack
</pre>
These are completely harmless and can be ignored.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="RPM_based_CE_and_running_with_th"></a> RPM-based CE and running with the OSG glideinWMS factory </span></h2>
<p />
The OSG glideinWMS factory explicitly disables the GT5 auto-detection logic.  If you switch a CE from GT2 to GT5 and support VOs that use the factory, you should file a GOC ticket requesting the factory change your site to GT5.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="New_Globus_5_CE_needs_Condor_G_7"></a> New Globus 5 CE needs Condor-G 7.6.x or later </span></h2>
<p />
The new Globus 5 based CE is only "mostly" backward compatible with GRAM2 CEs.
<p />
Newer versions of Condor-G (7.6.X and up) properly handle the difference, but older versions only work correctly if they specific that the CE is "gt5". If they specify that the CE is "gt2", they may find that they are are limited to 10 jobs total on each of the new Globus 5 CEs. (We haven't had consistent results with this--in some cases it seems to work, while in others there was this limit.)
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="ROCKS_provides_a_bad_version_of"></a> ROCKS provides a bad version of libtool </span></h2>
<p />
Globus requires libltdl.so.3 to function; ROCKS provides a copy of this in a non-system directory.  This satisfies the RPM requirement, but breaks Globus clients on ROCKS worker nodes.
<p />
For now, ROCKS administrators should manually verify that the RPM "libtool-ltdl" is present on all systems.</div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Documentation/Release3<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Documentation/Release3/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>KnownProblems</span> <br />    
Topic revision: r30 - 25 Feb 2014 - 15:47:19 - <a href="/bin/view/Main/TimCartwright" class="twikiLink">TimCartwright</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />