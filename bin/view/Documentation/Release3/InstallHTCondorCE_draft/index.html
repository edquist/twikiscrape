<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> InstallHTCondorCE_draft &lt; Documentation/Release3 &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Documentation/Release3/InstallHTCondorCE_draft?_T=16 Feb 2017" type="application/x-wiki" title="edit InstallHTCondorCE_draft" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Documentation/Release3/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Documentation/Release3/InstallHTCondorCE_draft"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFFFFF;
	}
	.patternBookView {
		border-color:#FFFFFF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--TWISTYPLUGIN_TWISTY--><style type="text/css" media="all">
@import url("https://twiki.opensciencegrid.org/twiki/pub/TWiki/TwistyContrib/twist.css");
</style>
<script type='text/javascript' src='https://twiki.opensciencegrid.org/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js'></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikiPref.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TwistyContrib/twist.compressed.js"></script>
<script type="text/javascript">
// <![CDATA[
var styleText = '<style type="text/css" media="all">.twikiMakeVisible{display:inline;}.twikiMakeVisibleInline{display:inline;}.twikiMakeVisibleBlock{display:block;}.twikiMakeHidden{display:none;}</style>';
document.write(styleText);
// ]]>
</script>

<!--TABLEPLUGIN_table1--><style type="text/css" media="all">
.tableSortIcon img {padding-left:.3em; vertical-align:text-bottom;}
</style>
<!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <style type="text/css">
code em, pre em { color: red; font-weight: normal; font-style: normal; }
</style>
<p />
<h1><a name="Installing_and_Maintaining_HTCon"></a> Installing and Maintaining HTCondor-CE </h1>
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Installing_and_Maintaining_HTCon"> Installing and Maintaining HTCondor-CE</a> <ul>
<li> <a href="?cover=print#About_This_Guide"> About This Guide</a>
</li> <li> <a href="?cover=print#Before_Starting"> Before Starting</a>
</li> <li> <a href="?cover=print#Installing_HTCondor_CE"> Installing HTCondor-CE</a>
</li> <li> <a href="?cover=print#Configuring_HTCondor_CE"> Configuring HTCondor-CE</a> <ul>
<li> <a href="?cover=print#Enabling_HTCondor_CE"> Enabling HTCondor-CE</a>
</li> <li> <a href="?cover=print#Configuring_the_batch_system"> Configuring the batch system</a>
</li> <li> <a href="?cover=print#Configuring_authorization"> Configuring authorization</a>
</li> <li> <a href="?cover=print#Configuring_information_systems"> Configuring information systems</a>
</li> <li> <a href="?cover=print#Applying_configuration_settings"> Applying configuration settings</a>
</li> <li> <a href="?cover=print#Optional_configuration"> Optional configuration</a>
</li></ul> 
</li> <li> <a href="?cover=print#Using_HTCondor_CE"> Using HTCondor-CE</a> <ul>
<li> <a href="?cover=print#Managing_HTCondor_CE_and_associa"> Managing HTCondor-CE and associated services</a>
</li> <li> <a href="?cover=print#Using_HTCondor_CE_tools"> Using HTCondor-CE tools</a>
</li></ul> 
</li> <li> <a href="?cover=print#Validating_HTCondor_CE"> Validating HTCondor-CE</a>
</li> <li> <a href="?cover=print#Troubleshooting_HTCondor_CE"> Troubleshooting HTCondor-CE</a>
</li> <li> <a href="?cover=print#Registering_the_CE"> Registering the CE</a>
</li> <li> <a href="?cover=print#Getting_Help"> Getting Help</a>
</li> <li> <a href="?cover=print#Reference"> Reference</a> <ul>
<li> <a href="?cover=print#Configuration"> Configuration</a>
</li> <li> <a href="?cover=print#Users"> Users</a>
</li> <li> <a href="?cover=print#Certificates"> Certificates</a>
</li> <li> <a href="?cover=print#Networking"> Networking</a>
</li></ul> 
</li></ul> 
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="About_This_Guide"></a> About This Guide </span></h2>
<p />
The HTCondor-CE software is a <em>job gateway</em> for an OSG Compute Element (CE). As such, HTCondor-CE is the entry point for jobs coming from the OSG — it handles authorization and delegation of jobs to your local batch system. In OSG today, most CEs accept <em>pilot jobs</em> from a factory, which in turn are able to accept and run end-user jobs.
<p />
Use this page to learn how to install, configure, run, test, and troubleshoot HTCondor-CE from the OSG software repositories.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Before_Starting"></a> Before Starting </span></h2>
<p />
Before starting the installation process, consider the following points (consulting <a href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft#ReferenceSection" class="twikiCurrentTopicLink twikiAnchorLink">the Reference section below</a> as needed):
<p /> <ul>
<li> <strong>User IDs:</strong> If they do not exist already, the installation will create the Linux user IDs <code>condor</code> (UID 4716), <code>tomcat</code> (UID 91) and <code>gratia</code> (UID 42401)
</li> <li> <strong>Service certificate:</strong> The HTCondor-CE service uses a host certificate at <code>/etc/grid-security/host*.pem</code>
</li> <li> <strong>Network ports:</strong> The pilot factories must be able to contact your HTCondor-CE service on ports 9619 and 9620 (TCP)
</li> <li> <strong>Host choice:</strong> HTCondor-CE should be installed on a host that already has the ability to submit jobs into your local cluster
</li></ul> 
<p />
As with all OSG software installations, there are some one-time (per host) steps to prepare in advance:
<p /> <ul>
<li> Ensure the host has <a href="/bin/view/Documentation/Release3/SupportedOperatingSystems" class="twikiLink">a supported operating system</a>
</li> <li> Obtain root access to the host
</li> <li> Prepare <a href="/bin/view/Documentation/Release3/YumRepositories" class="twikiLink">the required Yum repositories</a>
</li> <li> Install <a href="/bin/view/Documentation/Release3/InstallCertAuth" class="twikiLink">CA certificates</a>
</li></ul> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Installing_HTCondor_CE"></a> Installing HTCondor-CE </span></h2>
<p />
An HTCondor-CE installation consists of the job gateway (i.e., the HTCondor-CE job router) and other support software (e.g., GridFTP, a Gratia probe, authorization software). To simplify installation, OSG provides convenience RPMs that install all required software with a single command.
<p />
<ol>
<p />
    <li>
      <p>Clean yum cache:</p>
      <pre class="rootscreen">[root@client ~]$ yum clean all --enablerepo=*</pre>
    </li>
    <li>
      <p>Update software:</p>
      <pre class="rootscreen">[root@client ~]$ yum update</pre>
      <p>This command will update <strong>all</strong> packages on your system.</p>
    </li>
<p />
  <li>
    <p>If your batch system is already installed via non-RPM means and is in the following list, install the appropriate 'empty' RPM. Otherwise, skip to the next step.</p>
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table1" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <font color="#252b37">If your batch system is…</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <font color="#252b37">Then run the following command…</font> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> HTCondor </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <code>yum install empty-condor --enablerepo=osg-empty</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> PBS </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> <code>yum install empty-torque --enablerepo=osg-empty</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> SGE </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <code>yum install empty-gridengine --enablerepo=osg-empty</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> Slurm </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> <code>yum install empty-slurm --enablerepo=osg-empty</code> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
  </li>
  <li>
    <p>If your HTCondor batch system is already installed via non-OSG RPM means, add the line below to <code>/etc/yum.repos.d/osg.repo</code>. Otherwise, skip to the next step.</p>
    <pre class="file">exclude=condor* empty-condor</pre>
  </li>
  <li>    
    <p>Select the appropriate convenience RPM(s):</p>
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table2" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <font color="#252b37">If your batch system is…</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <font color="#252b37">Then use the following package(s)…</font> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> HTCondor </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <code>osg-ce-condor</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> LSF </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> <code>osg-ce-lsf</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> PBS </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <code>osg-ce-pbs</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> SGE </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> <code>osg-ce-sge</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> Slurm </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> <code>osg-ce-pbs gratia-probe-slurm osg-configure-slurm</code> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
  </li>
  <li>
    <p>Install the CE software:</p>
    <pre class="rootscreen">[root@client ~]$ yum install <em>PACKAGE(S)</em></pre>
  </li>
</ol>
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  To ease the transition from GRAM to HTCondor-CEs, the convenience RPMs install both types of job gateway software. By default, the HTCondor gateway is enabled and the GRAM gateway is disabled, which is the correct configuration for most HTCondor-CE-based sites (but see the gateway configuration section below for more options).
</dd></dl> 
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  HTCondor-CE version 1.6 or later is required to send site resource information to OSG for matching jobs to resources.
</dd></dl> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Configuring_HTCondor_CE"></a> Configuring HTCondor-CE </span></h2>
<p />
There are a few required configuration steps to connect HTCondor-CE with your batch system and authorization method. For more advanced configuration, see the section on <a href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft#OptionalConfig" class="twikiCurrentTopicLink twikiAnchorLink">optional configurations</a>.
<p />
<h3><a name="Enabling_HTCondor_CE"></a> Enabling HTCondor-CE </h3>
<p />
If you are installing HTCondor-CE on a new host, the default configuration is correct and you can skip this step and continue onto <a href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft#BatchSystem" class="twikiCurrentTopicLink twikiAnchorLink">Configuring the batch system</a>! However, if you are updating a host that used a Globus GRAM job gateway (aka the Globus gatekeeper), you must enable the HTCondor job gateway.
<p /> <ol>
<li> <p>Decide whether to disable GRAM (the preferred option) or run both HTCondor and GRAM CEs</p>
</li> <li> <p>Edit the gateway configuration file <code>/etc/osg/config.d/10-gateway.ini</code> to reflect your choice</p>       <p>To enable HTCondor-CE and disable GRAM&nbsp;CE:</p>       <pre class="file">gram_gateway_enabled = False
htcondor_gateway_enabled = True</pre>       <p>To enable both HTCondor and GRAM CEs:</p>       <pre class="file">gram_gateway_enabled = True
htcondor_gateway_enabled = True</pre>
</li></ol> 
<p />
More information about the Globus GRAM&nbsp;CE can be found <a href="/bin/view/Documentation/Release3/InstallComputeElement" class="twikiLink">here</a>.
<p />
<a name="BatchSystem"></a>
<h3><a name="Configuring_the_batch_system"></a> Configuring the batch system </h3>
<p />
Enable your batch system by editing the <code>enabled</code> field in the <code>/etc/osg/config.d/20-<span style="background-color: #FFCCFF;">YOUR BATCH SYSTEM</span>.ini</code> file:<pre class="file">enabled = <span style="background-color: #FFCCFF;">True</span></pre>
<p />
<h4><a name="Batch_systems_other_than_HTCondo"></a> Batch systems other than HTCondor </h4>
<p />
If you are using HTCondor as your <strong>local batch system</strong> (i.e., in addition to your HTCondor-CE), skip to the <a href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft#ConfiguringAuthorization" class="twikiCurrentTopicLink twikiAnchorLink">configuring authorization</a> section. For other batch systems (e.g., PBS, LSF, SGE, Slurm), keep reading.
<p />
<h5><a name="Sharing_the_spool_directory"></a> Sharing the spool directory </h5>
<p />
To transfer files between the CE and the batch system, HTCondor-CE requires a shared file system. The current recommendation is to run a dedicated NFS server (whose installation is beyond the scope of this document) on the <strong>CE host</strong>. In this setup, HTCondor-CE writes to the local spool directory, the NFS server exports the it, and the NFS server shares the it with all of the worker nodes.
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  If you choose not to host the NFS server on your CE, you will need to turn off root squash so that the HTCondor-CE daemons can write to the spool directory.
</dd></dl> 
<p />
By default, the spool directory is <code>/var/lib/condor-ce</code> but you can control this by setting <code>SPOOL</code> in <code>/etc/condor-ce/config.d/99-local.conf</code> (create this file if it doesn't exist). For example, the following sets the <code>SPOOL</code> directory to <code>/home/condor</code>:
<p />
<pre class="file">SPOOL=/home/condor</pre>
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  The shared spool directory must be readable and writeable by the <code>condor</code> user for HTCondor-CE to function correctly.
</dd></dl> 
<p />
<h5><a name="Disable_worker_node_proxy_renewa"></a> Disable worker node proxy renewal </h5>
<p />
Worker node proxy renewal is not used by HTCondor-CE and leaving it on will cause some jobs to be held. Edit <code>/etc/blah.config</code> on the HTCondor-CE host and set the following two values:
<p />
<pre class="file">
blah_disable_wn_proxy_renewal=yes
blah_delegate_renewed_proxies=no
</pre>
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  There should be no whitespace around the <code>&#61;</code>. 
</dd></dl> 
<p />
<a name="ConfiguringAuthorization"></a>
<h3><a name="Configuring_authorization"></a> Configuring authorization </h3>
<p />
There are two methods to manage authorization for incoming jobs, edg-mkgridmap and GUMS. edg-mkgridmap is easy to set up and maintain, and GUMS has more features and capabilities. We recommend using edg-mkgridmap unless you have specific needs that require the use of GUMS. Some examples of these specific requirements are:
<p /> <ul>
<li> You want to map users based on rules
</li> <li> You need to support multiple VO roles
</li> <li> You need to support gLExec for pilot jobs
</li></ul> 
<p />
<h4><a name="Authorization_with_edg_mkgridmap"></a> Authorization with edg-mkgridmap </h4>
<p />
To configure your CE to use edg-mkgridmap:
<p /> <ol>
<li> <p>Follow the configuration instructions in <a href="/bin/view/Documentation/Release3/Edg-mkgridmap" class="twikiLink">the edg-mkgridmap document</a> to define the VOs that your site accepts</p>
</li> <li> <p>Set some critical gridmap attributes by editing the <code>/etc/osg/config.d/10-misc.ini</code> file on the HTCondor-CE host:</p>      <pre class="file">
authorization_method = gridmap
</pre>
</li> <li> <p>Enable edg-mkgridmap and disable GUMS in the <code>/etc/lcmaps.db</code> file</p>       <p>In the <code>authorize_only</code> section, comment out the <code>gumsclient</code> line and uncomment the <code>gridmapfile</code> line. The result should be as follows:</p>       <pre class="file">
authorize_only:
# gumsclient -> good | bad
gridmapfile -> good | bad
</pre>
</li> <li> <p>Specify the location of your grid mapfile in <code>/etc/condor-ce/config.d/01-common-auth.conf</code>:</p>       <pre class="file">GRIDMAP = /etc/grid-security/grid-mapfile</pre>       <p><strong>Note:</strong> The standard location for the grid mapfile is shown above. Use that location unless you have specific reasons to put the file somewhere else.</p>
</li></ol> 
<p />
<h4><a name="Authorization_with_GUMS"></a> Authorization with GUMS </h4>
<p /> <ol>
<li> <p>Follow the instructions in <a href="/bin/view/Documentation/Release3/InstallGums" class="twikiLink">the GUMS installation and configuration document</a> to prepare GUMS</p>
</li> <li> <p>Set some critical GUMS attributes by editing the <code>/etc/osg/config.d/10-misc.ini</code> file on the HTCondor-CE host:</p>       <pre class="file">
authorization_method = xacml
gums_host = <span style="background-color: #FFCCFF;">YOUR GUMS HOSTNAME</span>
</pre>
</li></ol> 
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  Once gsi-authz.conf is in place, your local HTCondor will attempt to utilize the LCMAPS callouts if enabled in the condor_mapfile.  If this is not the desired behavior, set GSI_AUTHZ_CONF=/dev/null in the local HTCondor configuration.
</dd></dl> 
<p />
<h3><a name="Configuring_information_systems"></a> Configuring information systems </h3>
<p />
To split jobs between the various sites of the OSG, information about each site&rsquo;s availability is uploaded to a central collector. The job factories then query the central collector for idle resources and submit pilot jobs to the available sites. To advertise your site, you will need to run the Generic Information Provider and OSG Info Services.
<p />
<h4><a name="Generic_Information_Provider_GIP"></a> Generic Information Provider (GIP) </h4>
<p />
The <code>GIP</code> is a service that discovers information about your site resources like the number of available cores and what VO's are allowed to run on your site. Consult the <a href="/bin/view/Documentation/Release3/GipConfiguration" class="twikiLink">GIP configuration document</a> for instructions on how to set up your <code>GIP</code> service.
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  If you have <code>gip-1.3.11-4</code> installed, manual intervention is required for correct reporting to BDII. See <span class="twikiNewLink">3.2.20 known issues<a href="/bin/edit/Documentation/Release3/Release3220#Trash/ReleaseDocumentationKnownIssues?topicparent=Documentation/Release3.InstallHTCondorCE_draft" rel="nofollow" title="3.2.20 known issues (this topic does not yet exist; you can create it)">?</a></span>.
</dd></dl> 
<p />
<h4><a name="OSG_Info_Services"></a> OSG Info Services </h4>
<p />
<code>osg-info-services</code> takes the information collected from <code>GIP</code> and uploads it to OSG's central collector. For <code>osg-info-services</code> to communicate with the appropriate servers, it needs a service certificate and key located at <code>/etc/grid-security/http/httpcert.pem</code> and <code>/etc/grid-security/http/httpkey.pem</code>, respectively. The service certificate and key need to be owned by the appropriate user: <code>tomcat</code> (default) or the local user account specified by the <code>user</code> option in <code>/etc/osg/config.d/30-gip.ini</code>. Enable osg-info-services in <code>/etc/osg/config.d/30-infoservices.ini</code>:
<p />
<pre class="file">enabled = <em>True</em></pre>
<p />
<h3><a name="Applying_configuration_settings"></a> Applying configuration settings </h3>
<p />
Making changes to the OSG configuration files in the <code>/etc/osg/config.d</code> directory does not apply those settings to software automatically. Settings that are made outside of the OSG directory take effect immediately or at least when the relevant service is restarted. For the OSG settings, use the <a href="/bin/view/Documentation/Release3/IniConfigurationOptions" class="twikiLink">osg-configure</a> tool to validate (to a limited extent) and apply the settings to the relevant software components. The <code>osg-configure</code> software is included automatically in an HTCondor-CE installation.
<p /> <ol>
<li> <p>Make all changes to <code>.ini</code> files in the <code>/etc/osg/config.d</code> directory</p>       <p><strong>Note:</strong> This document describes the critical settings for HTCondor-CE and related software. You may need to configure other software that is installed on your HTCondor-CE host, too.</p>
</li> <li> <p>Validate the configuration settings</p>       <pre class="rootscreen">[root@client ~]$ osg-configure -v</pre>       <p>Fix any errors (at least) that <code>osg-configure</code> reports.</p>
</li> <li> <p>Once the validation command succeeds without errors, apply the configuration settings:</p>       <pre class="rootscreen">[root@client ~]$ osg-configure -c</pre>
</li> <li> <p>Generate a <code>user-vo-map</code> file with your authorization set up:</p> <ol>
<li type="i"> <p>If you're using edg-mkgridmap, run the following:</p>         <pre class="rootscreen">[root@client ~]$ edg-mkgridmap</pre>
</li> <li type="i"> <p>If you're using GUMS, run the following:</p>         <pre class="rootscreen">[root@client ~]$  gums-host-cron</pre>
</li></ol> 
</li></ol> 
<p />
<a name="OptionalConfig"></a>
<h3><a name="Optional_configuration"></a> Optional configuration </h3>
<p />
The following configuration steps are optional and will likely not be required for setting up a small site. If you do not need any of the following special configurations, skip to <a href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft#UsingHTCondorCE" class="twikiCurrentTopicLink twikiAnchorLink">the section on using HTCondor-CE</a>.
<p /> <ul>
<li> <a href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft#JobRoutes" class="twikiCurrentTopicLink twikiAnchorLink">Transforming and filtering jobs</a>
</li> <li> <a href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft#NetworkInterfaces" class="twikiCurrentTopicLink twikiAnchorLink">Configuring for multiple network interfaces</a>
</li> <li> <a href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft#LocalUni" class="twikiCurrentTopicLink twikiAnchorLink">Limiting or disabling locally running jobs on the CE</a>
</li> <li> <a href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft#SuppressNoDnRecords" class="twikiCurrentTopicLink twikiAnchorLink">Accounting with multiple CEs or local user jobs</a>
</li> <li> <a href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft#AccountingGroups" class="twikiCurrentTopicLink twikiAnchorLink">HTCondor accounting groups</a>
</li> <li> <a href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft#CeView" class="twikiCurrentTopicLink twikiAnchorLink">Installing the HTCondor-CE View</a>
</li> <li> <a href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft#WalltimeUnits" class="twikiCurrentTopicLink twikiAnchorLink">Converting walltime units</a>
</li></ul> 
<p />
<a name="JobRoutes"></a>
<h4><a name="Transforming_and_filtering_jobs"></a> Transforming and filtering jobs </h4>
<p />
If you need to modify or filter jobs, more information can be found in the <a href="/bin/view/Documentation/Release3/JobRouterRecipes" class="twikiLink">Job Router Recipes</a> document.
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  If you need to assign jobs to HTCondor accounting groups, refer to <a href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft#AccountingGroups" class="twikiCurrentTopicLink twikiAnchorLink">this</a> section. 
</dd></dl> 
<p />
<a name="NetworkInterfaces"></a>
<h4><a name="Configuring_for_multiple_network"></a> Configuring for multiple network interfaces </h4>
If you have multiple network interfaces with different hostnames, the HTCondor-CE daemons need to know which hostname and interface to use when communicating to each other. Set <code>NETWORK_HOSTNAME</code> and <code>NETWORK_INTERFACE</code> to the hostname and IP address of your public interface, respectively, in <code>/etc/condor-ce/config.d/99-local.conf</code> directory with the line:
<p />
<pre class="file">
NETWORK_HOSTNAME=<span style="background-color: #FFCCFF;">condorce.example.com</span>
NETWORK_INTERFACE=<span style="background-color: #FFCCFF;">127.0.0.1</span>
</pre>
<p />
Replacing <span style="background-color: #FFCCFF;">condorce.example.com</span> text with your public interface&rsquo;s hostname and <span style="background-color: #FFCCFF;">127.0.0.1</span> with your public interface&rsquo;s IP address.
<p />
<a name="LocalUni"></a>
<h4><a name="Limiting_or_disabling_locally_jo"></a> Limiting or disabling locally jobs running on the CE </h4>
<p />
If you want to limit or disable jobs running locally on your CE, you will need to configure HTCondor-CE's local and scheduler universes. Local and scheduler universes are HTCondor-CE&rsquo;s analogue to GRAM&rsquo;s managed fork: they allow jobs to be run on the CE itself, mainly for remote troubleshooting. Pilot jobs will not run as local/scheduler universe jobs so leaving them enabled does NOT turn your CE into another worker node.
<p />
The two universes are effectively the same (scheduler universe launches a starter process for each job), so we will be configuring them in unison.
<p /> <ul>
<li> <strong>To change the default limit</strong> on the number of locally run jobs (the current default is 20), add the following to  <code>/etc/condor-ce/config.d/99-local.conf</code>: <pre class='file'>START_LOCAL_UNIVERSE = <span style="background-color: #FFCCFF;">TotalLocalJobsRunning + TotalSchedulerJobsRunning < &lt;job limit&gt;</span>
START_SCHEDULER_UNIVERSE = $(START_LOCAL_UNIVERSE)</pre>
</li> <li> <strong>To only allow a specific user</strong> to start locally run jobs, add the following to  <code>/etc/condor-ce/config.d/99-local.conf</code>: <pre class='file'>START_LOCAL_UNIVERSE = <span style="background-color: #FFCCFF;">target.Owner =?= "&lt;username&gt;"</span>
START_SCHEDULER_UNIVERSE = $(START_LOCAL_UNIVERSE)</pre>
</li> <li> <strong>To disable</strong> locally run jobs, add the following to  <code>/etc/condor-ce/config.d/99-local.conf</code>: <pre class='file'>START_LOCAL_UNIVERSE = <span style="background-color: #FFCCFF;">False</span>
START_SCHEDULER_UNIVERSE = $(START_LOCAL_UNIVERSE)</pre>
</li></ul> 
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  RSV requires the ability to start local universe jobs so if you are using RSV, you need to allow local universe jobs from the <code>rsv</code> user.
</dd></dl> 
<p />
<a name="SuppressNoDnRecords"></a>
<h4><a name="Accounting_with_multiple_CEs_or"></a> Accounting with multiple CEs or local user jobs </h4>
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  For non-HTCondor batch systems only
</dd></dl> 
<p />
If your site has multiple CEs or you have non-grid users submitting to the same local batch system, the OSG accounting software needs to be configured so that it doesn't over report the number of jobs. Use the following table to determine which file requires editing:
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table3" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft?cover=print;sortcol=0;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">If your batch system is…</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft?cover=print;sortcol=1;table=3;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Then edit the following file on your CE(s)…</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> LSF </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <code>/etc/gratia/pbs-lsf/ProbeConfig</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> PBS </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> <code>/etc/gratia/pbs-lsf/ProbeConfig</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> SGE </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <code>/etc/gratia/sge/ProbeConfig</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> Slurm </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> <code>/etc/gratia/slurm/ProbeConfig</code> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
Then edit the value of <code>SuppressNoDNRecords</code> so that it reads:
<p />
<pre class="file">
SuppressNoDNRecords="1"
</pre>
<p />
<a name="AccountingGroups"></a>
<h4><a name="HTCondor_accounting_groups"></a> HTCondor accounting groups </h4>
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  For HTCondor batch systems only 
</dd></dl> 
<p />
If you want to provide fairshare on a group basis, as opposed to a Unix user basis, you can use HTCondor accounting groups.  They are independent of the Unix groups the user may already be in and are <a href="http://research.cs.wisc.edu/condor/manual/v8.2/3_4User_Priorities.html#SECTION00447000000000000000" target="_top">documented in the HTCondor manual</a>.  If you are using HTCondor accounting groups, you can map jobs from the CE into HTCondor accounting groups based on their UID, their DN, or their VOMS attributes.
<p /> <ul>
<li> <strong>To map UIDs to an accounting group,</strong> add entries to <code>/etc/osg/uid_table.txt</code> with the following form:   <pre class="file">uid GroupName</pre><div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdDocumentation/Release3InstallHTCondorCE_draft1show" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Click to expand an example uid_table.txt&hellip;</span></a> </span> <span id="twistyIdDocumentation/Release3InstallHTCondorCE_draft1hide" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyHidden twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide Full Output</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdDocumentation/Release3InstallHTCondorCE_draft1toggle" class="twistyRememberSetting twistyStartHide twistyContent twikiMakeHidden twistyInited0"><pre class="file">
uscms02 TestGroup
osg     other.osgedu
</pre></div></div> <!--/twistyPlugin-->
</li></ul> 
<p /> <ul>
<li> <strong>To map DNs or VOMS attributes to an accounting group,</strong> add lines to <code>/etc/osg/extattr_table.txt</code> with the following form:   <pre class="file"><span style="background-color: #FFCCFF;">SubjectOrAttribute</span> GroupName</pre>The <span style="background-color: #FFCCFF;">SubjectOrAttribute</span> can be a Perl regular expression.</br><div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdDocumentation/Release3InstallHTCondorCE_draft2show" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Click to expand an example extattr_table.txt&hellip;</span></a> </span> <span id="twistyIdDocumentation/Release3InstallHTCondorCE_draft2hide" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyHidden twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide Full Output</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdDocumentation/Release3InstallHTCondorCE_draft2toggle" class="twistyRememberSetting twistyStartHide twistyContent twikiMakeHidden twistyInited0"><pre class="file">
cmsprio cms.other.prio
cms\/Role=production cms.prod
\/DC=com\/DC=DigiCert-Grid\/O=Open\ Science\ Grid\/OU=People\/CN=Brian\ Lin\ 1047 osg.test
.* other
</pre></div></div> <!--/twistyPlugin-->
</li></ul> 
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  Entries in <code>/etc/osg/uid_table.txt</code> are honored over <code>/etc/osg/extattr_table.txt</code> if a job would match to lines in both files. 
</dd></dl> 
<p />
<a name="CeView"></a>
<h4><a name="Install_and_run_the_HTCondor_CE"></a> Install and run the HTCondor-CE View </h4>
<p />
The HTCondor-CE View is an optional web interface to the status of your CE.  To run the View, 
<p /> <ol>
<li> Begin by installing the package htcondor-ce-view:   <pre class="rootscreen">[root@client ~]$ yum install htcondor-ce-view</pre>
</li> <li> Next, uncomment the <code>DAEMON_LIST</code> configuration located at <code>/etc/condor-ce/config.d/05-ce-view.conf</code>:   <pre class="file">DAEMON_LIST = $(DAEMON_LIST), CEVIEW, GANGLIAD</pre>
</li> <li> Restart the CE service:   <pre class="rootscreen">[root@client ~]$ service condor-ce restart</pre>
</li> <li> Verify the service by entering your CE's hostname into your web browser
</li></ol> 
<p />
The website is served on port 80 by default. To change this default, edit the value of <code>HTCONDORCE_VIEW_PORT</code> in <code>/etc/condor-ce/config.d/05-ce-view.conf</code>.
<p />
<a name="WalltimeUnits"></a>
<h4><a name="Converting_walltime_units"></a> Converting walltime units </h4>
<p />
<p /> <dl>
<dt> <img src="/twiki/pub/TWiki/TWikiDocGraphics/help.gif" alt="HELP" title="HELP" width="16" height="16" border="0" />     <strong><font color="#ff0000"> NOTE </font></strong> </dt><dd>  For non-HTCondor batch systems only
</dd></dl> 
<p />
HTCondor-CE submits walltime requests to batch systems in seconds. If your batch system requires walltime requests in a different unit of time, you must convert the walltime units in your local blahp configuration file. 
<p />
<ol>
  <li>
    <p>Use the table below to find the configuration file that corresponds to your batch system.</p>
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table4" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <font color="#252b37">If your batch system is...</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <font color="#252b37">Edit the following file...</font> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> LSF </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <code>/etc/blahp/lsf_local_submit_attributes.sh</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> PBS </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> <code>/etc/blahp/pbs_local_submit_attributes.sh</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> SGE </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <code>/etc/blahp/sge_local_submit_attributes.sh</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> Slurm </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> <code>/etc/blahp/pbs_local_submit_attributes.sh</code> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
   </li>
   <li>
     <p>Edit the value of the <code>Walltime</code> variable using the shell built-in <code>let</code> command. To convert the walltime units to minutes, for example:</p>
     <pre class="file">let Walltime=Walltime/60</pre>
   </li>
</ol>
<p />
<div class="twistyPlugin twikiMakeVisibleInline">  <span id="twistyIdDocumentation/Release3InstallHTCondorCE_draft3show" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Click to expand an example pbs_local_submit_attributes.sh&hellip;</span></a> </span> <span id="twistyIdDocumentation/Release3InstallHTCondorCE_draft3hide" class="twistyRememberSetting twistyStartHide twistyTrigger twikiUnvisited twistyHidden twistyInited0"><a href="#"><img src="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" border="0" alt="" /><span class="twikiLinkLabel twikiUnvisited">Hide Full Output</span></a> </span>  </div><!--/twistyPlugin twikiMakeVisibleInline--> <div class="twistyPlugin"><div id="twistyIdDocumentation/Release3InstallHTCondorCE_draft3toggle" class="twistyRememberSetting twistyStartHide twistyContent twikiMakeHidden twistyInited0"><pre class="file">
#!/bin/sh

# Set walltime according to request; the batch system
# may reject this, of course!
if [ -n "$Walltime" ]; then
  let Walltime=Walltime/60
  echo "#PBS -l walltime=$Walltime"
else
  echo "#PBS -l walltime=24:00:00"
fi
</pre></div></div> <!--/twistyPlugin-->
<p />
<a name="UsingHTCondorCE"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Using_HTCondor_CE"></a> Using HTCondor-CE </span></h2>
<p />
As a site administrator, there are a few ways in which you might use the HTCondor-CE:
<p /> <ul>
<li> Managing the HTCondor-CE and associated services
</li> <li> Using HTCondor-CE administrative tools to monitor and maintain the job gateway
</li> <li> Using HTCondor-CE user tools to test gateway operations
</li></ul> 
<p />
<a name="ManagingServices"></a>
<h3><a name="Managing_HTCondor_CE_and_associa"></a> Managing HTCondor-CE and associated services </h3>
<p />
In addition to the HTCondor-CE job gateway service itself, there are a number of supporting services in your installation. The specific services are:
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table5" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <font color="#252b37">Software</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <font color="#252b37">Service name</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <font color="#252b37">Notes</font> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Fetch CRL </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> On EL 6: <code>fetch-crl-boot</code> and <code>fetch-crl-cron</code> <br />     On EL 5: <code>fetch-crl3-boot</code> and <code>fetch-crl3-cron</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> See <a href="/bin/view/Documentation/Release3/InstallCertAuth#Start_Stop_fetch_crl_A_quick_gui" class="twikiAnchorLink">CA documentation</a> for more info </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> Gratia </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <code>gratia-probes-cron</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> Accounting software </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Your batch system </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> <code>condor</code> or <code>pbs_server</code> or &hellip; </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> OSG Info Services </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> <code>osg-info-services</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> HTCondor-CE </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> <code>condor-ce</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> &nbsp; </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
Start the services in the order listed and stop them in reverse order. As a reminder, here are common service commands (all run as <code>root</code>):
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table6" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <font color="#252b37">To &hellip;</font> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <font color="#252b37">Run the command &hellip;</font> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Start a service </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <code>service <em>SERVICE-NAME</em> start</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> Stop a service </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> <code>service <em>SERVICE-NAME</em> stop</code> </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> Enable a service to start during boot </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> <code>chkconfig <em>SERVICE-NAME</em> on</code> </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> Disable a service from starting during boot </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> <code>chkconfig <em>SERVICE-NAME</em> off</code> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<h3><a name="Using_HTCondor_CE_tools"></a> Using HTCondor-CE tools </h3>
<p />
Some of the HTCondor-CE administrative and user tools are documented in <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE" class="twikiLink">the HTCondor-CE troubleshooting guide</a>.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Validating_HTCondor_CE"></a> Validating HTCondor-CE </span></h2>
<p />
There are different ways to make sure that your HTCondor-CE host is working well:
<p /> <ul>
<li> Perform automated validation by running <a href="/bin/view/Documentation/Release3/InstallRSV" class="twikiLink">RSV</a>
</li> <li> Manually verify your HTCondor-CE using <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE" class="twikiLink">the HTCondor-CE troubleshooting guide</a>; useful tools include: <ul>
<li> <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE#condor_ce_run" class="twikiAnchorLink">condor_ce_run</a>
</li> <li> <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE#condor_ce_trace" class="twikiAnchorLink">condor_ce_trace</a>
</li> <li> <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE#condor_submit" class="twikiAnchorLink">condor_submit</a>
</li></ul> 
</li></ul> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Troubleshooting_HTCondor_CE"></a> Troubleshooting HTCondor-CE </span></h2>
<p />
For information on how to troubleshoot your HTCondor-CE, please refer to <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE" class="twikiLink">the HTCondor-CE troubleshooting guide</a>.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Registering_the_CE"></a> Registering the CE </span></h2>
<p />
To be part of the OSG Production Grid, your CE must be registered in the <a href="https://oim.grid.iu.edu/" target="_top">OSG Information Management System</a> (OIM). To register your resource:
<p /> <ol>
<li> <a href="/bin/view/Documentation/CertificateUserGet" class="twikiLink">Obtain, install, and verify your user certificate</a> (which you may have done already)
</li> <li> <a href="/bin/view/Operations/OIMRegistrationInstructions" class="twikiLink">Register your site and CE in OIM</a>
</li></ol> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Getting_Help"></a> Getting Help </span></h2>
<p />
To get assistance, please use the <a href="/bin/view/Documentation/HelpProcedure" class="twikiLink">this page</a>.
<p />
<p />
<a name="ReferenceSection"></a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Reference"></a> Reference </span></h2>
<p />
Here are some other HTCondor-CE documents that might be helpful:
<p /> <ul>
<li> <a href="/bin/view/Documentation/Release3/HTCondorCEOverview" class="twikiLink">HTCondor-CE overview and architecture</a>
</li> <li> <a href="/bin/view/Documentation/Release3/InstallHTCondorBosco" class="twikiLink">Installing and maintaining HTCondor-CE-Bosco</a>
</li> <li> <a href="/bin/view/Documentation/Release3/JobRouterRecipes" class="twikiLink">Configuring HTCondor-CE job routes</a>
</li> <li> <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE" class="twikiLink">The HTCondor-CE troubleshooting guide</a>
</li> <li> <a href="/bin/view/Documentation/Release3/SubmittingHTCondorCE" class="twikiLink">Submitting jobs to HTCondor-CE</a>
</li></ul> 
<p />
<h3><a name="Configuration"></a> Configuration </h3>
<p />
The following directories contain the configuration for HTCondor-CE. The directories are parsed in the order presented and thus configuration within the final directory will override configuration specified in the previous directories.
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table7" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft?cover=print;sortcol=0;table=7;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Location</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft?cover=print;sortcol=1;table=7;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Comment</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>/usr/share/condor-ce/config.d/</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> Configuration defaults (overwritten on package updates) </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>/etc/condor-ce/config.d/</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> Files in this directory are parsed in alphanumeric order (i.e., <code>99-local.conf</code> will override values in <code>01-ce-auth.conf</code>) </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
For a detailed order of the way configuration files are parsed, run the following command:
<p />
<pre class="screen">
[user@client ~]$ condor_ce_config_val -config
</pre>
<p />
<h3><a name="Users"></a> Users </h3>
<p />
<p />
The following users are needed by HTCondor-CE at all sites:
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table8" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft?cover=print;sortcol=0;table=8;up=0#sorted_table" title="Sort by this column"><font color="#252b37">User</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft?cover=print;sortcol=1;table=8;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Comment</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>condor</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol"> The HTCondor-CE will be run as root, but perform most of its operations as the <code>condor</code> user. </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> <code>gratia</code> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1 twikiLastCol"> Runs the Gratia probes to collect accounting data </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <code>tomcat</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLastCol twikiLast"> Default user that runs GIP </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
<h3><a name="Certificates"></a> Certificates </h3>
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
<table cellspacing="0" id="table9" cellpadding="0" class="twikiTable" rules="cols" border="1">
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft?cover=print;sortcol=0;table=9;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Certificate</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft?cover=print;sortcol=1;table=9;up=0#sorted_table" title="Sort by this column"><font color="#252b37">User that owns certificate</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft?cover=print;sortcol=2;table=9;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Path to certificate</font></a> </th>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> Host certificate </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> <code>root</code> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> <code>/etc/grid-security/hostcert.pem</code> <br> <code>/etc/grid-security/hostkey.pem</code> </td>
		</tr></table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
Find instructions to request a host certificate <a href="/bin/view/Documentation/Release3/GetHostServiceCertificates" class="twikiLink">here</a>.
<p />
<h3><a name="Networking"></a> Networking </h3>
<p />
<p />
<p />
<!-- No variables can be defined because will not be visible in the including document
Need this because double quotes used in Y in TWikiPreferences or ICON cause problems (replaced with single ones) <ul>
<li> Set ALTy = <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' />    
</li></ul> 
ALTy replacend inline whenever the icon is needed.
-->
For more details on overall Firewall configuration, please see our <a href="/bin/view/Documentation/Release3/FirewallInformation" class="twikiLink">Firewall documentation</a>.
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
   <table cellspacing="0" id="table10" cellpadding="0" class="twikiTable" rules="cols" border="1"> 
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft?cover=print;sortcol=0;table=10;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Service Name</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft?cover=print;sortcol=1;table=10;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Protocol</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft?cover=print;sortcol=2;table=10;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Port Number</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol3"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft?cover=print;sortcol=3;table=10;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Inbound</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol4"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft?cover=print;sortcol=4;table=10;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Outbound</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol5 twikiLastCol"> <a rel="nofollow" href="/bin/view/Documentation/Release3/InstallHTCondorCE_draft?cover=print;sortcol=5;table=10;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Comment</font></a> </th>
		</tr> 
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> <a href="/bin/view/Documentation/GlossaryH#DefsHtcondorCE" class="twikiAnchorLink">HTCondor-CE</a> port </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol1"> tcp </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2"> 9619 </td>
			<td bgcolor="#ffffff" align="center" valign="top" class="twikiTableCol3"> <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' /> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol4"> &nbsp; </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol5 twikiLastCol"> Used to locate HTCondor-CE daemons </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> <a href="/bin/view/Documentation/GlossaryH#DefsHtcondorCE" class="twikiAnchorLink">HTCondor-CE</a> shared_port daemon port </td>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol1 twikiLast"> tcp </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLast"> 9620 </td>
			<td bgcolor="#f2f3f6" align="center" valign="top" class="twikiTableCol3 twikiLast"> <img src='/twiki/pub/TWiki/TWikiDocGraphics/choice-yes.gif' alt='Y' title='Y' width='16' height='16' border='0' /> </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol4 twikiLast"> &nbsp; </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol5 twikiLastCol twikiLast"> <b>Only for HTCondor-CE &lt; 8.3.2:</b> Used for aggregating ephemeral ports used by HTCondor into a single network port </td>
		</tr> </table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
Allow inbound and outbound network connection to all internal site servers, such as GUMS and the batch system head-node only ephemeral outgoing ports are necessary.</br>
<p /></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Documentation/Release3<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>InstallHTCondorCE_draft</span> <br />    
Topic revision: r3 - 07 Feb 2017 - 19:14:55 - <a href="/bin/view/Main/BrianBockelman" class="twikiLink">BrianBockelman</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />