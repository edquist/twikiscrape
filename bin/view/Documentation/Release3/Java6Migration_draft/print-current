<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> Java6Migration_draft &lt; Documentation/Release3 &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Documentation/Release3/Java6Migration_draft?_T=16 Feb 2017" type="application/x-wiki" title="edit Java6Migration_draft" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Documentation/Release3/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Documentation/Release3/Java6Migration_draft"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFFFFF;
	}
	.patternBookView {
		border-color:#FFFFFF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Java_6_Migration_Plan"></a> Java 6 Migration Plan </h1>
<p />
Many packages in the OSG Software stack are based on Java. To date in OSG 3.x, we have distributed the Oracle JDK 6 implementation of Java, and built and distributed Java packages using it. At the end of February, 2013, Oracle <a href="https://blogs.oracle.com/henrik/entry/java_6_eol_h_h" target="_top">will discontinue public support</a> of the Java 6 series, including any further security or bug fixes. Due to the frequent discovery of security flaws in Java, we must migrate away from Oracle JDK 6 to a supported Java implementation. We intend to update OSG Software 3.1.x with new Java packages, based on a new implementation, as quickly as possible to reduce our exposure to security risks in Java. This page describes our plan to do so at a high level and is intended for site administrators and other stakeholders who are interested in the change.
<p />
At this time, we are actively soliciting feedback on the plan and how it will affect sites. There is still time to make (some) changes. <a href="mailto&#58;osg&#45;software&#64;opensciencegrid&#46;org">Let us know!</a>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="New_Standard_Java_Implementation"></a> New Standard Java Implementation </span></h2>
<p />
In the Linux world, another well-supported and widely used Java implementation is <a href="http://openjdk.java.net" target="_top">OpenJDK</a>. However, OpenJDK 6 receives many of its security updates directly from Oracle, so once Oracle stops supporting Java 6, OpenJDK will, too. Thus, we plan to migrate to a Java 7 implementation. Most Java software that works in Java 6 also works in Java 7 with little or no modification.
<p />
As it turns out, starting in Java 7 the OpenJDK is the reference implementation for Linux. Further, the OpenJDK license is more compatible with our open-source community and OpenJDK 7 is available for our supported platforms of Scientific Linux, Red Hat, and CentOS, major versions 5 and 6. Thus, <strong>we plan to standardize on OpenJDK 7 as our build and deployment platform</strong>. However, our packages will merely require a Java 7 implementation, so a site may choose to pre-install and use another Java 7 implementation at their own risk; we will not officially support nor test on other implementations.
<p />
Until now, we have distributed our preferred Java implementation (the Oracle one, with an added Linux-friendly compatibility layer). But because OpenJDK 7 is available as a standard package from vendor repositories of all of our supported platforms, we will cease distributing Java ourselves. This move is consistent with our <a href="/bin/view/SoftwareTeam/CommunityPackagingProposal" class="twikiLink">Community Packaging</a> approach. It will allow sites to receive security and bug fixes directly from their vendors faster than from the OSG Software team. Further, it frees the OSG Security and Software teams from reviewing and releasing each Java update, so that we can focus instead on OSG-specific packages. Thus, Java will join other critical vendor-provided components, such as Apache, Tomcat, and MySQL, in our software infrastructure.
<p />
<strong>Note:</strong> OpenJDK 7 has become available for el5 systems just recently. Therefore, sites running on el5 would need to upgrade to the current operating system release (version 5.9) or get the package from another standard source (such as a Scientific Linux security updates repository) until systems are upgraded. Will this cause problems for your site? <a href="mailto&#58;osg&#45;software&#64;opensciencegrid&#46;org">Talk to us.</a>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="How_the_Software_Team_Will_Prepa"></a> How the Software Team Will Prepare the Migration </span></h2>
<p />
The Software team, in coordination with the Technology, Security, and Production areas, is developing a detailed plan for releasing an updated OSG Software stack that is based on OpenJDK 7. At a high-level, though, here are the main steps:
<p /> <ol>
<li> Rebuild Java-based packages in separate development space (so as not to interfere with other work)
</li> <li> Test packages and OpenJDK within the Software team
</li> <li> Test packages and OpenJDK in the ITB until ready for production
</li> <li> Promote packages to a new, production-ready “upcoming” repository
</li> <li> Ask some initial sites to upgrade from “upcoming” and run in production
</li> <li> Incorporate further revisions as needed
</li> <li> Promote all packages back into the main OSG 3.1.x production release
</li></ol> 
<p />
The Software team maintains <a href="/bin/view/SoftwareTeam/Java6Migration" class="twikiLink">a project plan</a> and <a href="/bin/view/SoftwareTeam/Java6MigrationDetails" class="twikiLink">highly detailed, rapidly changing technical notes</a>.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="How_Sites_Will_Migrate"></a> How Sites Will Migrate </span></h2>
<p />
As is typical with significant software changes, the easy case is installing the OSG Software stack on a new machine. Following the migration, new installs will simply include OpenJDK 7. Should a site wish to use a different Java 7 implementation, it can be installed prior to installing the OSG Software and yum will accept it as satisfying the Java requirements.
<p />
In the more common case, machines will already have OSG Software installed, including Oracle Java 6. For that case, we will publish a procedure for upgrading Java and then OSG Software, essentially as follows:
<p /> <ol>
<li> Install OpenJDK 7 (or other Java 7 implementation)
</li> <li> Uninstall Oracle JDK 6
</li> <li> Reinstall OpenJDK 7 (or other Java 7) to fix the Linux alternatives system
</li> <li> Upgrade OSG Software
</li></ol> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Tracking_Migration_Progress"></a> Tracking Migration Progress </span></h2>
<p />
Because the Java migration affects site security, we want to track the migration process across the OSG, especially for machines that run services. We propose adding an RSV probe that can report on which Java implementations are installed and which one is currently active. Note that it is possible to have OpenJDK 7 installed, but not active, so both checks are necessary. With the RSV probe in places, the Operations and Production teams can report on migration progress.</div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Documentation/Release3<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>Java6Migration_draft</span> <br />    
Topic revision: r6 - 06 Dec 2016 - 18:12:43 - <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />