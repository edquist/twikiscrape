<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> InstallHTCondorBoscoDraft &lt; Documentation/Release3 &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Documentation/Release3/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Documentation/Release3/InstallHTCondorBoscoDraft?_T=16 Feb 2017" type="application/x-wiki" title="edit InstallHTCondorBoscoDraft" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Documentation/Release3/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Documentation/Release3/InstallHTCondorBoscoDraft"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFFFFF;
	}
	.patternBookView {
		border-color:#FFFFFF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <style type="text/css">
code em, pre em { color: red; font-weight: normal; font-style: normal; }
</style>
<p />
<h1><a name="Installing_and_Maintaining_HTCon"></a> Installing and Maintaining HTCondor-CE-Bosco </h1>
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Installing_and_Maintaining_HTCon"> Installing and Maintaining HTCondor-CE-Bosco</a> <ul>
<li> <a href="?cover=print#Before_Starting"> Before Starting</a>
</li> <li> <a href="?cover=print#Installing_HTCondor_CE_Bosco"> Installing HTCondor-CE-Bosco</a> <ul>
<li> <a href="?cover=print#SSH_Key_to_Remote_Login_Host"> SSH Key to Remote Login Host</a>
</li></ul> 
</li> <li> <a href="?cover=print#Configuring_HTCondor_CE_Bosco"> Configuring HTCondor-CE-Bosco</a> <ul>
<li> <a href="?cover=print#Starting_HTCondor_CE_Bosco_Servi"> Starting HTCondor-CE-Bosco Service</a>
</li> <li> <a href="?cover=print#Troubleshooting_Bosco"> Troubleshooting Bosco</a>
</li></ul> 
</li> <li> <a href="?cover=print#References"> References</a>
</li></ul> 
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Before_Starting"></a> Before Starting </span></h2>
<p />
As with all OSG software installations, there are some one-time (per host) steps to prepare in advance:
<p /> <ul>
<li> Ensure the host has <a href="/bin/view/Documentation/Release3/SupportedOperatingSystems" class="twikiLink">a supported operating system</a>
</li> <li> Obtain root access to the host
</li> <li> Prepare <a href="/bin/view/Documentation/Release3/YumRepositories" class="twikiLink">the required Yum repositories</a>
</li> <li> Install <a href="/bin/view/Documentation/Release3/InstallCertAuth" class="twikiLink">CA certificates</a>
</li></ul> 
<p />
<p />
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Installing_HTCondor_CE_Bosco"></a> Installing HTCondor-CE-Bosco </span></h2>
<p />
An HTCondor-CE-Bosco installation consists of the job gateway (i.e., the HTCondor-CE job router) and other support software (e.g., GridFTP, a Gratia probe, authorization software). To simplify installation, OSG provides convenience RPMs that install all required software with a single command.
<p />
<ol>
<p />
    <li>
      <p>Clean yum cache:</p>
      <pre class="rootscreen">[root@client ~]$ yum clean all --enablerepo=*</pre>
    </li>
    <li>
      <p>Update software:</p>
      <pre class="rootscreen">[root@client ~]$ yum update</pre>
      <p>This command will update <strong>all</strong> packages on your system.</p>
    </li>
<p />
<p />
  <li>
    <p>Install the CE software:</p>
    <pre class="rootscreen">[root@client ~]$ yum install --enablerepo=osg-development osg-ce-bosco</pre>
  </li>
</ol>
<p />
<p />
<h3><a name="SSH_Key_to_Remote_Login_Host"></a> SSH Key to Remote Login Host </h3>
<p />
It is required to have an passwordless SSH to the remote login host.  You can create an passwordless ssh key to the remote host with the <code>ssh-keygen</code> and <code>ssh-copy-id</code> commands.  In the following commands, we save the key in <code>/etc/osg/bosco.key</code> for use later in the configuration.
<p /> <ol>
<li> Create the ssh key.  You will need to press enter twice at this prompt.      <pre class="rootscreen">[root@client ~]$ ssh-keygen -f /etc/osg/bosco.key</pre>
</li> <li> Copy the SSH key to the remote host.      <pre class="rootscreen">[root@client ~]$ ssh-copy-id -i /etc/osg/bosco.key &lt;username&gt;@&lt;remotehost&gt; </pre>
</li></ol> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Configuring_HTCondor_CE_Bosco"></a> Configuring HTCondor-CE-Bosco </span></h2>
<p />
The configuration of the HTCondor-CE-Bosco is much the same as the regular <a href="/bin/view/Documentation/Release3/InstallHTCondorCE#Configuring_HTCondor_CE" class="twikiAnchorLink">HTCondor-CE</a>.  The differences are noted below:
<p />
Enable Bosco by editing the <code>enabled</code> field in the <code>/etc/osg/config.d/20-<span style="background-color: #FFCCFF;">bosco</span>.ini</code> file:<pre class="file">enabled = <span style="background-color: #FFCCFF;">True</span></pre>
<p />
Additionally in the <code>/etc/osg/config.d/20-bosco.ini</code>, the other configuration values are as follows:
<p /> <ul>
<li> <code>users</code>: A comma separated list of users to enable Bosco submissions.  This list of users are the only users that will be able to submit to the remote cluster through Bosco.  Traditionally, the authentication step of the HTCondor-CE will map a certificate to a specific local username.  This mapping may be in GUMS or edg-mkgridmap.
</li> <li> <code>endpoint</code>: The remote cluster submission host for which Bosco will submit jobs to the scheduler.  This is in the form of <code>user@example.com</code>, exactly as you would use to ssh into the remote cluster.
</li> <li> <code>batch</code>: The type of scheduler installed on the remote cluster.
</li> <li> <code>ssh_key</code>: The location of the ssh key, as created above.  This should be <code>/etc/osg/bosco.key</code>.
</li></ul> 
<p />
After configuration all of the required fields in <code>/etc/osg/config.d/20-bosco.ini</code>, you can start the installation by running the osg-configure script:
<pre class="rootscreen">[root@client ~]$ osg-configure -c </pre>
<p />
If you have not already logged into the remote cluster specific in the <code>endpoint</code> variable above, then you will be asked to accept the remote host's SSH fingerprint.
<p />
<h3><a name="Starting_HTCondor_CE_Bosco_Servi"></a> Starting HTCondor-CE-Bosco Service </h3>
<p />
Starting Bosco is the same as  <a href="/bin/view/Documentation/Release3/InstallHTCondorCE#UsingHTCondorCE" class="twikiAnchorLink">starting the HTCondor-CE</a>:
<pre class="rootscreen">[root@client ~]$ service condor-ce start </pre>
<p />
<p />
<p />
<h3><a name="Troubleshooting_Bosco"></a> Troubleshooting Bosco </h3>
<p />
Most issues are caused by the interaction between the HTCondor-CE and the remote cluster.  Logs of these interactions are located at <code>/var/log/condor-ce/GridManager.log.*</code>. You can increase the debugging level of the logs by setting <code>GRIDMANAGER_DEBUG = D_FULLDEBUG</code> in <code>/etc/condor-ce/config.d/80-bosco-routes.conf</code>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="References"></a> References </span></h2>
<p />
Here are some other HTCondor-CE documents that might be helpful:
<p /> <ul>
<li> <a href="/bin/view/Documentation/Release3/InstallHTCondorCE" class="twikiLink">HTCondor-CE Installation Guide</a>
</li> <li> <a href="/bin/view/Documentation/Release3/HTCondorCEOverview" class="twikiLink">HTCondor-CE overview and architecture</a>
</li> <li> <a href="/bin/view/Documentation/Release3/JobRouterRecipes" class="twikiLink">Configuring HTCondor-CE job routes</a>
</li> <li> <a href="/bin/view/Documentation/Release3/TroubleshootingHTCondorCE" class="twikiLink">The HTCondor-CE troubleshooting guide</a>
</li> <li> <a href="/bin/view/Documentation/Release3/SubmittingHTCondorCE" class="twikiLink">Submitting Jobs to HTCondor-CE</a>
</li></ul> </div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Documentation/Release3<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>InstallHTCondorBoscoDraft</span> <br />    
Topic revision: r4 - 09 May 2016 - 15:48:18 - <a href="/bin/view/Main/DerekWeitzel" class="twikiLink">DerekWeitzel</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />