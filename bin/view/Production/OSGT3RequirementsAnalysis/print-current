<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> OSGT3RequirementsAnalysis &lt; Production &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Production/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Production/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Production/OSGT3RequirementsAnalysis?_T=16 Feb 2017" type="application/x-wiki" title="edit OSGT3RequirementsAnalysis" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Production/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Production/OSGT3RequirementsAnalysis"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#DDDDDD;
	}
	.patternBookView {
		border-color:#DDDDDD;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> -- <a href="/bin/view/Main/DanFraser" class="twikiLink">DanFraser</a> - 28 Apr 2009
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Background_and_Purpose_of_a_T3"></a> Background and Purpose of a T3 </span></h2>
Sites may choose to set up a T3 for any of the following reasons: <ul>
<li> User storage and analysis computing is limited on T2s.
</li> <li> T2 queues may fill up when LHC data starts arriving .
</li> <li> Ability to develop physics analyses on small datasets before submitting large jobs to T2s.
</li> <li> Ability to jobs locally with high priority instead of submitting to the grid.
</li></ul> 
<p />
Size: As there are no specific requirements that define a T3, the computing and 
storage capabilities of existing sites varies widely. <ul>
<li> Typical number of cores: O(10 to 100).
</li> <li> Typical storage: O(10-100) TB.
</li> <li> New sites are now (and for the next few months will be) receiving funds for setting up T3s. Typical funds are on the order of $30-50k.
</li> <li> On-site support resources (especially for the newest T3s) are usually small, e.g., some fraction of a graduate student who may or may not be a "trained" Admin.
</li> <li> Atlas is anticipating as many as ~20 new sites coming online over the next few months.
</li> <li> CMS anticipates 10 to 20 new sites in the US over the next year.
</li></ul> 
<p />
<font color="#ff0000"> All acronyms should be defined or referenced with a link. </font>
<p />
For Atlas, there are ~five T3 sites running an OSG stack and  that are registered in OIM. There are approximately 35 other sites (and potential sites) although these primarily use DQ2 to get data from T2's remotely and do not currently run an OSG stack.
Atlas T3s running an OSG stack include: <ul>
<li> GLOW-Atlas[-SRM] (CE, SE, DDM) Trash/Tier3gs
</li> <li> IllinoisHEP (CE, SE, DDM) Trash/Tier3gs
</li> <li> UTD-HEP (CE)
</li> <li> LTU_CCU (??)
</li> <li> LTU_OSG (??)
</li> <li> Duke_University_Tier_3 (SE)
</li> <li> U-Chicago (SE, DDM) Trash/Tier3gs -- Not reporting to OSG (University_of_Chicago_Teraport_Cluster??)
</li></ul> 
Atlas T3s (and planned T3s) that are not running an OSG stack include: <ul>
<li> ANL
</li> <li> Albany
</li> <li> Amherst
</li> <li> Argonne
</li> <li> Arizona
</li> <li> Arlington
</li> <li> Boston
</li> <li> Brandeis
</li> <li> Chicago
</li> <li> Columbia
</li> <li> Dallas
</li> <li> Duke
</li> <li> Fresno
</li> <li> Hampton
</li> <li> Harvard
</li> <li> Illinois
</li> <li> Indiana
</li> <li> Iowa
</li> <li> Iowa State
</li> <li> Irvine
</li> <li> LBNL
</li> <li> Lousiana Tech
</li> <li> Michigan
</li> <li> Michigan State
</li> <li> MIT
</li> <li> New Mexico
</li> <li> Northern Illinois
</li> <li> NYU
</li> <li> Ohio State
</li> <li> Oklahoma
</li> <li> Oklahoma State
</li> <li> Oregon
</li> <li> Penn.
</li> <li> Pittsburgh
</li> <li> Santa Cruz
</li> <li> South Carolina
</li> <li> Southern Methodist
</li> <li> Stony Brook
</li> <li> Tufts
</li> <li> Washington
</li> <li> Wisconsin
</li> <li> Yale
</li></ul> 
<p />
For CMS, there are ~27 T3 sites in the US. The following sites are known (or believed) to be running an OSG stack:  <ul>
<li> osu-cms (CE, SE)
</li> <li> TTU[-ANTAEUS][-SIGMORGH] (CE, SE)
</li> <li> umd-cms (CE, SE)
</li> <li> UColorado_HEP (CE, SE)
</li> <li> UCR-HEP[-SE] (CE)
</li> <li> Cornell - NYSGRID_CORNELL_NYS1 (CE, SE) ??
</li> <li> USCMS-FNAL-XEN (CE)
</li> <li> Rice (CE)
</li> <li> rutgers-cms (CE, SE)
</li> <li> Vanderbilt[_SE] (CE, SE)
</li> <li> UCLA_Saxon_T3 (CE)
</li> <li> FLTECH (CE, SE, <span class="twikiNewLink">GridFTP<a href="/bin/edit/Production/GridFTP?topicparent=Production.OSGT3RequirementsAnalysis" rel="nofollow" title="GridFTP (this topic does not yet exist; you can create it)">?</a></span>)
</li> <li> UCD[_SE] (CE, SE) 
</li> <li> UMissHEP (CE)
</li> <li> osu-cms (CE, SE)
</li> <li> Nebraska CMS T3 (CE, SE)   (Omaha)
</li> <li> Nebraska or GPN_HUSKER (CE) ??
</li> <li> Virginia - UVA-sunfire (CE) ??
</li> <li> FNALLPC - Not Reporting on OSG ??
</li> <li> Kansas - Not Reporting on OSG ??
</li> <li> Minnesota - Not Reporting on OSG ??
</li> <li> Princeton - Not Reporting on OSG ??
</li> <li> Princeton ICSE - Not Reporting on OSG ??
</li> <li> John Hopkins - Not Reporting on OSG ??
</li> <li> Tennessee - Not Reporting on OSG ??
</li> <li> Iowa - Not Reporting on OSG ?? 
</li> <li> Caltech - Not Reporting on OSG ??
</li> <li> FIU-PG (CE)  No longer Reporting on OSG ??
</li> <li> FSU - decommissioned
</li></ul> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="CE_Considerations"></a> CE Considerations </span></h2>
<p />
There are several reasons why sites deploy CEs: <ol>
<li> To enable their resources to be shared with other grid users
</li> <li> To provide a common interface between grid jobs submitted locally and off-site jobs
</li> <li> Sites can be remotely accessed via Certificate (no password required)
</li> <li> Historically the installation of a CE included the monitoring capabilities for both CEs and SEs; also the installation of a CE includes <span class="twikiNewLink">GridFTP<a href="/bin/edit/Production/GridFTP?topicparent=Production.OSGT3RequirementsAnalysis" rel="nofollow" title="GridFTP (this topic does not yet exist; you can create it)">?</a></span> which makes the addition of an SE that much easier.
</li></ol> 
<p />
For Atlas: <ul>
<li> All (or nearly all) jobs are submitted via <span class="twikiNewLink">PanDA<a href="/bin/edit/Production/PanDA?topicparent=Production.OSGT3RequirementsAnalysis" rel="nofollow" title="PanDA (this topic does not yet exist; you can create it)">?</a></span> and users do not directly interface to CEs.
</li> <li> Enabling the same job submission interface on local resources implies that sites must install <span class="twikiNewLink">PanDA<a href="/bin/edit/Production/PanDA?topicparent=Production.OSGT3RequirementsAnalysis" rel="nofollow" title="PanDA (this topic does not yet exist; you can create it)">?</a></span> software as well as DDM software. Only three?? of the existing T3s currently do this. This type of infrastructure layer implies a significant amount of overhead that can be handled by more mature T3 sites with ~1FTE to support them. It is not recommended for new or beginning sites.
</li> <li> Most of the new T3s coming online are not expected to share resources.
</li> <li> Hence the conclusion is that most Atlas T3s will NOT need to install a CE.
</li></ul> 
<p />
For CMS: <ul>
<li> Jobs may be submitted to a T3 <ul>
<li> via the CMS Remote Analysis Builder (<a href="https://twiki.cern.ch/twiki/bin/view/CMS/SWGuideCrab" target="_top">CRAB</a>),
</li> <li> through a CE, 
</li> <li> or via a local batch queue.
</li></ul> 
</li> <li> Many sites allow (or will allow) access to non-local CMS users, although priority is usually given to local users.
</li> <li> The most common pattern is to install both a CE and an SE.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="SE_and_File_System_Consideration"></a> SE and File System Considerations </span></h2>
<p />
There are several reasons why sites deploy SEs: <ol>
<li> Provide a common storage interface to applications 
</li> <li> It may be more efficient to analyze local data instead of data at a T2
</li> <li> T2's prefer accesses via SEs since data transfers can be managed better and reduce the risk of overloading T2 sites
</li> <li> SEs allow space management operations (quota enforcement, space reservations)
</li> <li> SSO access to storage provided by a grid certificate
</li> <li> Data can be transferred using 3rd party transfers. This also provides automation (e.g. data subscription).
</li> <li> Make many disks look like one (?)
</li></ol> 
<p />
An important consideration in setting up an SE is the choice of file system. SE's provide a grid accessible interface (<span class="twikiNewLink">GridFTP<a href="/bin/edit/Production/GridFTP?topicparent=Production.OSGT3RequirementsAnalysis" rel="nofollow" title="GridFTP (this topic does not yet exist; you can create it)">?</a></span> or <span class="twikiNewLink">BeStMan<a href="/bin/edit/Production/BeStMan?topicparent=Production.OSGT3RequirementsAnalysis" rel="nofollow" title="BeStMan (this topic does not yet exist; you can create it)">?</a></span>/SRM) to a variety of file systems (NFS, XROOTD, dCache, HDFS). An important capability of <span class="twikiNewLink">GridFTP<a href="/bin/edit/Production/GridFTP?topicparent=Production.OSGT3RequirementsAnalysis" rel="nofollow" title="GridFTP (this topic does not yet exist; you can create it)">?</a></span> or <span class="twikiNewLink">BeStMan<a href="/bin/edit/Production/BeStMan?topicparent=Production.OSGT3RequirementsAnalysis" rel="nofollow" title="BeStMan (this topic does not yet exist; you can create it)">?</a></span>/SRM is that it can interface to multiple file systems at the same time.  <ul>
<li> dCache is not recommended for new T3s due to the level of support required for this product
</li> <li> HDFS is being tested and is not yet being recommended for T3s except under experimental circumstances
</li> <li> For T3's that already have commercial grade central file systems (e.g. Network Appliances or <span class="twikiNewLink">BluArc<a href="/bin/edit/Production/BluArc?topicparent=Production.OSGT3RequirementsAnalysis" rel="nofollow" title="BluArc (this topic does not yet exist; you can create it)">?</a></span>), it is beneficial for SE's to leverage that capability in setting up their SEs. Conversely, sites without this capability may prefer to consider installing their own file system such as XROOTD. 
</li> <li> Sites should consider the following items concerning XROOTD: <ul>
<li> An XROOTD file system is strongly recommended for sites that anticipate running PROOF.
</li> <li> Central file systems require that users manage their own datasets. While this can be quite manageable for small numbers of datasets, for larger numbers of datasets XROOTD provides significant help in managing the datasets and can be very beneficial.
</li> <li> An important capability of XROOTD is the ability to run jobs where the data resides as opposed to moving large datasets througout the network that can significantly impact processing time. Users can of course acquire this benefit via scripting on central file systems, but XROOTD handles this automatically for ROOT based files.
</li> <li> In situations where a distributed file system is needed, XROOTD provides a commonly used solution.
</li></ul> 
</li></ul> 
<p />
For Atlas: <ul>
<li> Sites are encouraged to deploy an SE for data interfacing to the T1/T2s.
</li> <li> Sites may not have a complete choice over existing file systems and infrastructure since T3s may be (or become) part of an existing system.
</li> <li> Since the SE can interface with multiple file systems at the same time, sites have the option to add a separate XROOTD filesystem as a stand alone file system in parallel to the existing file system when XROOTD is needed.
</li> <li> Atlas is recommending a separation between Grid storage and local only storage. <ul>
<li> Prevents a user from interfering with managed storage
</li></ul> 
</li></ul> 
<p />
For CMS:  <ul>
<li> Transfer of data to/from a T3 site is handled by Physics Experiment Data Export (<a href="http://cmsweb.cern.ch/phedex/" target="_top">PhEDEx</a>).
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Cluster_Configuration_Considerat"></a> Cluster Configuration Considerations: </span></h2> <ul>
<li> Since not all sites are dedicated T3s, there is expected to be a wide variation in the infrastructure that sits below the usual OSG stack (e.g. batch scheduler, cluster management tools)
</li> <li> Some interactivity for small jobs is desirable especially for setting up and debugging in preparation for running large jobs
</li> <li> Using a batch system such as Condor is a basic component for configuring a T3. 
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Security_Considerations"></a> Security Considerations </span></h2> <ul>
<li> The main concerns from the VOs are: <ul>
<li> Someone can use resources without authorization.
</li> <li> Someone could break into the sites and steal (or compromise) security credentials and run jobs at other sites
</li> <li> An incident could occur that would cause the institutional infrastructure to shut down the site
</li></ul> 
</li> <li> Often the organizational level system administrators need to be educated about running Grid software. In at least one case so far, a call to discuss the OSG security model was required before they would allow grid software to be utilized.
</li> <li> The OSG security team indicates that the most likely problem scenario is simply a DOS attack. There are more ports open and an additional software stack that needs to be maintained.
</li> <li> There are still lots of misconceptions about security in the community especially about the real risks and practical aspects of security management. Education is needed.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Support_Considerations"></a> Support Considerations </span></h2> <ul>
<li> Both CMS and Atlas generally agree that the best way to support T3s is to enable the T3s to help each other.
</li> <li> Both CMS and Atlas have communication channels and wiki pages but they are open to help from OSG on this front
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Requirements_Summary"></a> Requirements Summary </span></h2> <ul>
<li> Sites - Help in enabling social networking for T3 admins - See &lt;WBS.1.0.2.2.1&gt;   &lt;WBS.1.0.2.2.2&gt;   &lt;WBS.1.3.4.2&gt;
</li> <li> STG - A T3 guide for configuring Condor as a cluster manager (best practices, common configurations for T3s) - See &lt;WBS.1.0.2.2.2.1&gt; &lt;WBS.1.8.2.3&gt;
</li> <li> Storage - A T3 configuration guide for <span class="twikiNewLink">BeStMan<a href="/bin/edit/Production/BeStMan?topicparent=Production.OSGT3RequirementsAnalysis" rel="nofollow" title="BeStMan (this topic does not yet exist; you can create it)">?</a></span>-XROOTD (for Atlas) - See &lt;WBS.1.0.2.2.2.1&gt;  &lt;WBS.1.8.2.3&gt;
</li> <li> Security - A clear online training program/guide for T3 admins (Material from the Admin workshop in Aug '09 is a good start) - See &lt;WBS.1.8.2.3&gt;
</li> <li> Security - A Document (or an aggregated collection of docs) that explain why using the Grid security model is at least as safe (if not safer) than SSH models most commonly used within organizations (targeted toward institutional site admins) - See &lt;WBS.1.0.2.2.2.2&gt;  &lt;WBS.1.7.4.2.2&gt;  &lt;WBS.1.7.4.2.3&gt;
</li></ul> </div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Production<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Production/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a> &gt; <a href="/bin/view/Production/USLHCTier-3Group" class="twikiLink">USLHCTier-3Group</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>OSGT3RequirementsAnalysis</span> <br />    
Topic revision: r18 - 06 Dec 2016 - 18:13:02 - <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />