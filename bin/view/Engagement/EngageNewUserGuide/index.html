<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> EngageNewUserGuide &lt; Engagement &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Engagement/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Engagement/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Engagement/EngageNewUserGuide?_T=16 Feb 2017" type="application/x-wiki" title="edit EngageNewUserGuide" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Engagement/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Engagement/EngageNewUserGuide"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#D0D0D0;
	}
	.patternBookView {
		border-color:#D0D0D0;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <div class="twikiToc"> <ul>
<li> <a href="?cover=print#1_Overview"> 1. Overview</a>
</li> <li> <a href="?cover=print#2_Getting_a_Certificate"> 2. Getting a Certificate</a> <ul>
 <li>
 <ul>
<li> <a href="?cover=print#Updating_the_CA_Chain"> Updating the CA Chain</a>
</li> <li> <a href="?cover=print#Applying_for_a_Personal_Certific"> Applying for a Personal Certificate</a>
</li> <li> <a href="?cover=print#Retrieving_Exporting_a_Personal"> Retrieving/Exporting a Personal Certificate</a>
</li></ul> 
</li></ul> 
</li> <li> <a href="?cover=print#3_Joining_the_Engage_VO"> 3. Joining the Engage VO</a>
</li> <li> <a href="?cover=print#4_Submit_Host"> 4. Submit Host</a>
</li> <li> <a href="?cover=print#5_Initializing_a_User_Proxy"> 5. Initializing a User Proxy</a>
</li></ul> 
</div>
<p />
<!-- <ul>
<li> Set <span class="twikiNewLink">EngageFqanExample<a href="/bin/edit/Engagement/EngageFqanExample?topicparent=Engagement.EngageNewUserGuide" rel="nofollow" title="EngageFqanExample (this topic does not yet exist; you can create it)">?</a></span> = Engage
</li></ul> 
-->
<p />
Engage
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="1_Overview"></a> 1. Overview </span></h2>
<p />
The Engage VO (Virtual Organization) has been established to help new communities make use of Open Science Grid. For any questions or comments, please email Engage support at <a href="mailto&#58;engage&#45;team&#64;opensciencegrid&#46;org">engage-team&#64;opensciencegrid.org</a> The purpose of this document is to provide some quick notes on things you need to do to run jobs on OSG as a member of the Engagement VO. If you need more detailed information than this document provides, see the OSG documentation.
<p />
<a href="https://twiki.grid.iu.edu/twiki/bin/view/ReleaseDocumentation/OverviewOfServicesInOSG" target="_top">Overview of Services in OSG</a>
<p />
<a href="https://twiki.grid.iu.edu/twiki/bin/view/Documentation/WebHome" target="_top">OSG Documentation Hub</a>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="2_Getting_a_Certificate"></a> 2. Getting a Certificate </span></h2>
<p />
Open Science Grid authentication is a single-sign on system based on X.509 certificates. In order to submit jobs you need a certificate for authentication. The process for acquiring the certificate involves using your web browser, and installing certificates on your client machine for the web browser to use. Best results have been had with Mozilla Firefox, but other browsers are known to also work. Make sure that you use your own computer, as you need to use the exact same browser for applying for and retrieving the certificate, and there  are perhaps a few days between these steps. 
<p />
<h4><a name="Updating_the_CA_Chain"></a> Updating the CA Chain </h4>
<p />
The Digicert root and intermediate CA certs  are needed to add to the OS X Keychain (for example) or to the trusted issuer stores in your web browser. Instructions for this are available on this page <a href="https://twiki.grid.iu.edu/bin/view/Documentation/CertificateGetWeb" target="_top">https://twiki.grid.iu.edu/bin/view/Documentation/CertificateGetWeb</a>   in the section titled: Downloading CA certificate files for new OSG <span class="twikiNewLink">DigiCert<a href="/bin/edit/Engagement/DigiCert?topicparent=Engagement.EngageNewUserGuide" rel="nofollow" title="DigiCert (this topic does not yet exist; you can create it)">?</a></span>-based certificates
<p />
<h4><a name="Applying_for_a_Personal_Certific"></a> Applying for a Personal Certificate </h4>
<p />
<p />
To apply for a personal certificate, use a web browser and go to:
<p />
<a href="http://oim.grid.iu.edu/oim/certificate" target="_top">http://oim.grid.iu.edu/oim/certificate</a>
<p />
Select "Request New Certificate" from the menu in the upper left.. For Virtual Organization name, select ' <strong>Engage</strong> '. Please include the name of your Engage contact in the comments section. If you require help, please contact the Engage team at <a href="mailto&#58;engage&#45;team&#64;opensciencegrid">engage-team&#64;opensciencegrid</a> dot org
<p />
<p />
<h4><a name="Retrieving_Exporting_a_Personal"></a> Retrieving/Exporting a Personal Certificate </h4>
<p />
It may  take a day or two for the certificate to be approved. Once you receive email notification that the certificate has been approved and is available, follow these instructions on how to export the certificate to a Grid public/private key pair:
<p />
<a href="https://twiki.grid.iu.edu/bin/view/Documentation/CertificateGetWeb" target="_top">https://twiki.grid.iu.edu/bin/view/Documentation/CertificateGetWeb</a>
<p />
Under the &ldquo;Exporting your key pair for use by Globus grid-proxy-init&rdquo; heading. note that after generating the usercert.pem and userkey.pem files in your $HOME/.globus directory, you need to change the permissions: chmod 600 ~/.globus/userkey.pem
<p />
more details on certificates can be found here:
<a href="https://www.racf.bnl.gov/docs/howto/grid/osg-certificates" target="_top">https://www.racf.bnl.gov/docs/howto/grid/osg-certificates</a>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="3_Joining_the_Engage_VO"></a> 3. Joining the Engage VO </span></h2>
<p />
<p />
Once you have your certificate, you can join the Engage Virtual Organization (VO). Go to:
<p />
<p />
<a href="https://osg-engage.renci.org:8443/voms/Engage/" target="_top">https://osg-engage.renci.org:8443/voms/Engage/</a>
<p />
<p />
The browser should present your certificate to the server, and you should see something like this on the bottom of the page (but with your name):
<p />
<pre>
DN: /DC&#61;com/DC&#61;DigiCert-Grid/O&#61;Open Science Grid/OU&#61;People/CN&#61;JANE DOE 72645
</pre>
<p />
Fill out and submit the form. 
<p />
You will get a confirmation email, which asks you to click a link to verify your email address. Once that is done, in less than a day, you should receive an email stating that you are now part of the Engage VO.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="4_Submit_Host"></a> 4. Submit Host </span></h2>
<p />
<p />
The submit host is the machine managing your jobs. RENCI has a submit node for you to use with all of the client software pre-installed and configured. You could run your own, but until you are more familiar with the tools and how they work together, it is recommended to use RENCI's submit host. The current host is engage-submit3.renci.org. To get an account on this host, please email <a href="mailto&#58;engage&#45;team&#64;opensciencegrid&#46;org">engage-team&#64;opensciencegrid.org</a> for instructions.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="5_Initializing_a_User_Proxy"></a> 5. Initializing a User Proxy </span></h2>
<p />
Note that you will have to have your certificate exported as mentioned above, and placed in ~/.globus/ on the submit host. A proxy is a time limited version of your certificate. The proxy is what is actually presented to the remote site during authentication. To create a proxy, use the voms-proxy-init command:
<p />
<pre>[rynge@nantahala ~]$ voms-proxy-init -voms Engage -valid 72:00
Cannot find file or dir: $prefix/etc/vomses
Your identity: /DC=org/DC=doegrids/OU=People/CN=Mats Rynge 722233
Enter GRID pass phrase:
Creating temporary proxy ...................................... Done
Contacting  osg-engage.renci.org:15001 [/DC=org/DC=doegrids/OU=Services/CN=osg-engage.renci.org] "Engage" Done

Creating proxy ............................................ Done
Your proxy is valid until Thu Apr  5 10:29:08 2007
</pre>
<p />
Note that you can specify how long the proxy should be valid for. It should be long enough for the job run to finish, but should not be longer than 72 hours. You might see some warnings in the output of voms-proxy-init. Do not worry about them as long as you get a proxy at the end. You can check the proxy with voms-proxy-info:
<p />
<pre>
&#91;rynge&#64;nantahala ~]$ voms-proxy-info
WARNING: Unable to verify signature! Server certificate possibly not installed.
Error: Cannot find certificate of AC issuer for vo Engage
subject   : /DC&#61;org/DC&#61;doegrids/OU&#61;People/CN&#61;Mats Rynge 722233/CN&#61;proxy
issuer    : /DC&#61;org/DC&#61;doegrids/OU&#61;People/CN&#61;Mats Rynge 722233
identity  : /DC&#61;org/DC&#61;doegrids/OU&#61;People/CN&#61;Mats Rynge 722233
type      : proxy
strength  : 512 bits
path      : /tmp/x509up&#95;u1031
timeleft  : 23:20:17
</pre>
<p />
<p />
<p />
-- Main.Engage - 29 May 2013</div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Engagement<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Engagement/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>EngageNewUserGuide</span> <br />    
Topic revision: r16 - 29 May 2013 - 13:51:10 - <a href="/bin/view/Main/JohnMcGee" class="twikiLink">JohnMcGee</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />