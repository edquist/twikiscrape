<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> OverviewOfServicesInOSG &lt; ReleaseDocumentation &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/ReleaseDocumentation/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/ReleaseDocumentation/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/ReleaseDocumentation/OverviewOfServicesInOSG?_T=16 Feb 2017" type="application/x-wiki" title="edit OverviewOfServicesInOSG" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/ReleaseDocumentation/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/ReleaseDocumentation/OverviewOfServicesInOSG"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#9999FF;
	}
	.patternBookView {
		border-color:#9999FF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">

@import url('https://twiki.opensciencegrid.org/twiki/pub/ReleaseDocumentation/OverviewOfServicesInOSG/centerpageborder-rd.css');

</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> 
<h1><a name="Overview_Of_Services_In_OSG"></a>  <strong><noop>Overview Of Services In OSG</strong> </h1>
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Background"> Background</a>
</li> <li> <a href="?cover=print#Site_Policies"> Site Policies</a>
</li> <li> <a href="?cover=print#Compute_Element_CE"> Compute Element (CE)</a>
</li> <li> <a href="?cover=print#Storage_Element_SE"> Storage Element (SE)</a>
</li> <li> <a href="?cover=print#Optional_site_services"> Optional site services</a>
</li> <li> <a href="?cover=print#VO_management_services"> VO management services</a>
</li> <li> <a href="?cover=print#OSG_user_software"> OSG user software</a>
</li> <li> <a href="?cover=print#Comments"> Comments</a>
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Background"></a> Background </span></h2>
The goal for the Open Science Grid software stack is to provide a uniform computing and storage interface across many independently managed computing and storage clusters.  Scientists, researchers,  and students, organized as virtual organizations (VOs), are the consumers of the CPU cycles and storage. 
<p />
Your site is encouraged to support as many OSG-registered VOs as possible, but you are not required to support all of them. 
<p />
As the administrator responsible for deployment of the OSG software stack, your task is to make your existing computing and storage cluster available to and reliable for the VOs that you support.  The OSG expects you to set up a gatekeeper node called a Compute Element (CE) on which the bulk of the OSG software gets installed. The end-user sends jobs into your cluster's batch system, your CE  receives them and passes them out to Worker Nodes (WN) for execution. Some VOs and end-users require non-negligible amounts of data as input, or generate non-negligible amounts of data as output. They will need to store that data in a Storage Element (SE).  A site is not required to provide both a CE and an SE.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Site_Policies"></a> Site Policies </span></h2>
<p />
OSG expects you to clearly specify your site's policies regarding resource access.  Please write them on a web page, make this page part of your site registration, and make it available via the GOC publishing tool <a href="http://myosg.grid.iu.edu" target="_top">MyOSG</a> and the OSG information management system, OIM.  We encourage you to allow all virtual organizations registered with the OSG at least "opportunistic use" of your resources. You may need to preempt those jobs when higher priority jobs come around. The end-users using the OSG generally prefer having access to your site subject to preemption over having no access at all.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Compute_Element_CE"></a> Compute Element (CE) </span></h2>
<p />
The standard installation includes a GRAM and GridFTP interface; both are currently required on the same CE host for the Condor-G client to successfully stage out (smallish) output files that are defined as part of the job's JDL.  The CE host needs to include a sizeable local disk (~100GB or more) as scientists tend to specify a few (smallish) input and output files as part of their JDL. Those files, in addition to stdout and stderr of all jobs submitted via the CE, are spooled via the CE out to your cluster. 
<p />
You must determine your security policy with regard to Unix ID management on the cluster.  You may choose group accounts and/or dynamic accounts for all users.
<p />
You must choose the OS (most if not all OSG clusters are some Red Hat Enterprise Linux derivative), the batch system (Condor, PBS, LSF, and SGE are presently supported), and the network architecture (default assumption is public/private with NAT - you will need to advertise your architecture by changing some settings by hand if yours isn't like this) of your cluster. In addition, there are some configuration choices, including one that avoids all NFS exports from the CE to the compute cluster (NFS-lite). 
<p />
The CE hosts information provider(s) and monitoring services, most of which are configured correctly by default.  We require all OSG sites to deploy Gratia, the OSG accounting system. Your site thus sends accounting records to OSG about jobs run on your site and data transfers involving your site.  Aggregated summaries of this information can be viewed via the 
<a href="http://gratia-osg.fnal.gov:8880/gratia-reporting/" target="_top">Gratia displays</a>.
<p />
There are other services the run off the CE that are required: <ul>
<li> CEMon which provides the basis for the information services in OSG. The Grid Information Providers much be run and configured to correctly publish information about the resource to the OSG information service.
</li> <li> RSV the Resource Service Validation system which schedules execution of local "probes" of your CE (and SE), and reports the results up to the GOC.  This is important for service availablity monitoring of OSG sites.
</li> <li> The package of tools available to the OSG job environment: the OSG worker-node client package.  Many site admins install this package on a single server and NFS export it to compute nodes.  
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Storage_Element_SE"></a> Storage Element (SE) </span></h2>
There are three types of storage element services provided by OSG which implement SRM v2.  See pointers to instructions for these services: <ul>
<li> <a href="/bin/view/Trash/ReleaseDocumentationDCacheInstall" class="twikiLink">dCache</a>  - Generally useful for aggregating disks from lots of servers
</li> <li> <a href="/bin/view/ReleaseDocumentation/BeStMan" class="twikiLink">BeStMan</a> - Sits in front of any POSIX filesystem.  There is also a version which supports xrootd filesystems. 
</li> <li> <a href="/bin/view/ReleaseDocumentation/HadoopInstall" class="twikiLink">HadoopInstall</a> - Map-reduce based solution to aggregate off-the-shelf disks into a scalable reliable system.
</li></ul> 
<p />
An SE must run correctly configured Grid Information Providers, Gratia accounting and RSV probes.
<p />
These services are supported by the OSG Storage group.  Please email <a href="mailto&#58;osg&#45;storage&#64;opensciencegrid&#46;org">osg-storage&#64;opensciencegrid.org</a> for installation and support questions for these services.
<p />
<p />
<!-- 
<p />
on    
<p />
-->
<p />
<p />
<!-- The SE is currently much less well defined than a  CE. Scientists expect three types of areas: 
<p /> <ul>
<li> an area into which they can install application software releases via the CE; this must be read-only accessible from all batch slots on your cluster. 
</li> <li> an area to which they can stage data using gftp; this must be readable from all batch slots. 
</li> <li> an area to which they can stage output files from all batch slots, for later asynchronous retrieval using gftp. 
</li></ul> 
<p />
<p />
In addition, the following must be available at each batch slot: 
<p /> <ul>
<li> a set of "client tools" that are part of the OSG software stack. These can be either exported from the CE host, from a separate host, or be deployed locally on each compute node. 
</li> <li> an area that is strictly local to each batch slot, from within which they run their job(s) during the time they have "leased" the batch slot. You or your batch system is expected to clean this area after the scientists release the batch slot to you. 
</li></ul> 
-->
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Optional_site_services"></a> Optional site services </span></h2>
There are additionally a number of optional site services you may wish to install, including: <ul>
<li> GUMS - the Grid User Management Service, for managing Grid accounts on your cluster
</li> <li> Squid - a web caching service
</li> <li> Syslog-ng - a logging service that can be used to forward CE logfiles to the GOC for troubleshooting purposes.
</li> <li> Monalisa - a monitoring program
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="VO_management_services"></a> VO management services </span></h2>
There are two services that are used by VO administrators for management of VO information: <ul>
<li> VOMS the VO management service
</li> <li> VOMRS the administrative interface to VOMS
</li></ul> 
<p />
Usually these are installed and operated by a designated central group affiliated with a given VO.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="OSG_user_software"></a> OSG user software </span></h2>
The OSG user software consists of <ul>
<li> OSG-Client (which is basically VDT-Client) and include tools like Condor-G for submission and management of jobs on the OSG.
</li> <li> Worker-node Client.  This package contains things like Globus client tools, wget, Myproxy and LCG-Utils.   It needs to be available to every compute node, either installed on local disk or exported from a shared location.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Comments"></a> Comments </span></h2>
<p />
<form method="post" action="https://twiki.opensciencegrid.org/bin/save/ReleaseDocumentation/OverviewOfServicesInOSG" enctype="multipart/form-data" name="tableappend0" id="tableappend0">
<p />
<div class="commentPlugin commentPluginPromptBox">
<table><tr valign="middle"><td><textarea  rows="3" cols="70" name="comment" wrap="soft" onfocus="if(this.value=='')this.value=''" onblur="if(this.value=='')this.value=''"></textarea></td><td><input  type="submit" value="Add comment" /></td></tr></table>
</div><!--/commentPlugin-->
<p />
<input type="hidden" name="comment_action" value="save"  />
<input type="hidden" name="comment_type" value="tableappend"  />
<input type="hidden" name="comment_index" value="0"  /></form>
<p />
<!-- CONTENT MANAGEMENT PROJECT
############################################################################################################
 DEAR DOCUMENT OWNER
 <code><b>===============</b></code>
<p />
 Thank you for claiming ownership for this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/ReleaseDocumentation/FirstLast?topicparent=ReleaseDocumentation.OverviewOfServicesInOSG" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local OWNER = <span class="twikiNewLink">BrianBockelman<a href="/bin/edit/ReleaseDocumentation/BrianBockelman?topicparent=ReleaseDocumentation.OverviewOfServicesInOSG" rel="nofollow" title="BrianBockelman (this topic does not yet exist; you can create it)">?</a></span>
</li></ul> 
<p />
 Please define the document area, choose one of the defined areas from the next line
 DOC_AREA = (<span class="twikiNewLink">ComputeElement<a href="/bin/edit/ReleaseDocumentation/ComputeElement?topicparent=ReleaseDocumentation.OverviewOfServicesInOSG" rel="nofollow" title="ComputeElement (this topic does not yet exist; you can create it)">?</a></span>|Storage|VO|Security|User|Monitoring|General|Trash/Trash/Integration|Operations|Tier3) <ul>
<li> Local DOC_AREA       = General
</li></ul> 
<p />
 define the primary role the document serves, choose one of the defined roles from the next line
 DOC_ROLE = (<span class="twikiNewLink">EndUser<a href="/bin/edit/ReleaseDocumentation/EndUser?topicparent=ReleaseDocumentation.OverviewOfServicesInOSG" rel="nofollow" title="EndUser (this topic does not yet exist; you can create it)">?</a></span>|Student|Developer|SysAdmin|VOManager) <ul>
<li> Local DOC_ROLE       = Scientist
</li></ul> 
<p />
 Please define the document type, choose one of the defined types from the next line
 DOC_TYPE = (Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge) <ul>
<li> Local DOC_TYPE       = Knowledge
</li></ul> 
<p />
  Please define if this document in general needs to be reviewed before release ( 1 | 0 ) <ul>
<li> Local INCLUDE_REVIEW = 1
</li></ul> 
<p />
 Please define if this document in general needs to be tested before release ( 1 | 0 ) <ul>
<li> Local INCLUDE_TEST   = 0
</li></ul> 
<p />
 change to 1 once the document is ready to be reviewed and back to 0 if that is not the case <ul>
<li> Local REVIEW_READY   = 1
</li></ul> 
<p />
<p />
 change to 1 only if the document has passed the review and the test (if applicable) and is ready for release <ul>
<li> Local RELEASE_READY  = 1
</li></ul> 
<p /> <ul>
<li> Local TEST_PASSED = 2
</li></ul> 
<p />
<p />
 DEAR DOCUMENT REVIEWER
 <code><b>==================</b></code>
<p />
 Thank for reviewing this document! Please fill in your <span class="twikiNewLink">FirstLast<a href="/bin/edit/ReleaseDocumentation/FirstLast?topicparent=ReleaseDocumentation.OverviewOfServicesInOSG" rel="nofollow" title="FirstLast (this topic does not yet exist; you can create it)">?</a></span> name here: <ul>
<li> Local REVIEWER       = <span class="twikiNewLink">SuchandraThapa<a href="/bin/edit/ReleaseDocumentation/SuchandraThapa?topicparent=ReleaseDocumentation.OverviewOfServicesInOSG" rel="nofollow" title="SuchandraThapa (this topic does not yet exist; you can create it)">?</a></span> Please define the review status for this document to be in progress ( 2 ), failed ( 0 ) or passed ( 1 )
</li> <li> Local REVIEW_PASSED  = 1
</li></ul> 
<p />
<p />
############################################################################################################
--></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: ReleaseDocumentation<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>OverviewOfServicesInOSG</span> <br />    
Topic revision: r61 - 07 Feb 2017 - 19:17:28 - <a href="/bin/view/Main/BrianBockelman" class="twikiLink">BrianBockelman</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />