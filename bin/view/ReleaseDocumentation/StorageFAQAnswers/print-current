<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> StorageFAQAnswers &lt; ReleaseDocumentation &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/ReleaseDocumentation/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/ReleaseDocumentation/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/ReleaseDocumentation/StorageFAQAnswers?_T=16 Feb 2017" type="application/x-wiki" title="edit StorageFAQAnswers" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/ReleaseDocumentation/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/ReleaseDocumentation/StorageFAQAnswers"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#9999FF;
	}
	.patternBookView {
		border-color:#9999FF;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">

@import url('https://twiki.opensciencegrid.org/twiki/pub/ReleaseDocumentation/StorageFAQAnswers/centerpageborder-rd.css');

</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name=""></a>  </h1>
<h1><a name="Storage_FAQAnswers"></a>  <strong>Storage FAQAnswers</strong> </h1>
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Can_I_use_dccp_to_copy_files_in"> Can I use dccp to copy files in to reserved area?</a>
</li> <li> <a href="?cover=print#Is_there_a_command_line_tool_ava"> Is there a command line tool available for reading a file stored on dCache or concatenating individual files stored on dCache?</a>
</li> <li> <a href="?cover=print#Can_I_find_out_pool_name_for_a_f"> Can I find out pool name for a file using dCap?</a>
</li> <li> <a href="?cover=print#How_do_I_clean_up_files_belongin"> How do I clean up files belonging to non-existent pools?</a>
</li> <li> <a href="?cover=print#I_accidently_deleted_the_parent"> I accidently deleted the parent directory,how can I change parent id of files in PNFS?</a>
</li> <li> <a href="?cover=print#Can_I_create_soft_links_on_SRM_s"> Can I create soft links on SRM server as a non-admin?</a>
</li> <li> <a href="?cover=print#How_can_I_install_Fermi_srmclien"> How can I install Fermi srmclient package?</a>
</li> <li> <a href="?cover=print#As_a_SE_admin_how_can_I_set_up_g"> As a SE admin, how can I set up group access on a storage location?</a>
</li> <li> <a href="?cover=print#What_happens_to_data_stored_unde"> What happens to data stored under an expired Space Reservation?</a>
</li> <li> <a href="?cover=print#Do_pool_nodes_need_host_certific"> Do pool nodes need host certificates? Why?</a>
</li> <li> <a href="?cover=print#Some_of_the_gridftp_doors_which"> Some of the gridftp doors (which are on both public and private network) are returning private ip address to SRM server. How can I get around it?</a>
</li> <li> <a href="?cover=print#What_do_the_terms_Free_Space_Ava"> What do the terms "Free Space","Available Space" and "Reserved Space" mean?</a>
</li> <li> <a href="?cover=print#How_can_I_setup_Opportunistic_St"> How can I setup Opportunistic Storage on my SE?</a>
</li> <li> <a href="?cover=print#Do_I_need_to_maintain_same_dCach"> Do I need to maintain same dCache version on all my SE nodes (admin, PNFS, pool etc)?</a>
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Can_I_use_dccp_to_copy_files_in"></a> Can I use dccp to copy files in to reserved area? </span></h2>
<p />
Not at present. Developers are working on it.
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Is_there_a_command_line_tool_ava"></a> Is there a command line tool available for reading a file stored on dCache or concatenating individual files stored on dCache? </span></h2>
<p />
No. In order to perform file operations (reading, concatenating, etc), you must copy files locally, manipulate/use them and copy them back to storage location.
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Can_I_find_out_pool_name_for_a_f"></a> Can I find out pool name for a file using dCap? </span></h2>
<p />
No. There is no way to find out pool name on client side.
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="How_do_I_clean_up_files_belongin"></a> How do I clean up files belonging to non-existent pools? </span></h2>
<p />
Recommended way is to clean out all the replicas from the companion DB via postgres, then run "pnfs register" on each pool via the admin interface.
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="I_accidently_deleted_the_parent"></a> I accidently deleted the parent directory,how can I change parent id of files in PNFS? </span></h2>
<p />
Send an email to <a href="mailto&#58;osg&#45;storage&#64;opensciencegrid&#46;org">osg-storage&#64;opensciencegrid.org</a> to get the solution. It is not posted here because of its critical nature.
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Can_I_create_soft_links_on_SRM_s"></a> Can I create soft links on SRM server as a non-admin? </span></h2>
<p />
No. Only Storage Element Admin can do so.
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="How_can_I_install_Fermi_srmclien"></a> How can I install Fermi srmclient package? </span></h2>
<p />
Use the "pacman -get OSG:client" command.
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="As_a_SE_admin_how_can_I_set_up_g"></a> As a SE admin, how can I set up group access on a storage location? </span></h2>
<p />
This can be obtained by having a few users belong to a special group/role within your VO and then using standard unix like permissions on the storage locations in question for the user to which this VO/group/role gets mapped to.
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="What_happens_to_data_stored_unde"></a> What happens to data stored under an expired Space Reservation? </span></h2>
<p />
At present, nothing UNLESS you explicitly run a space cleaner tool which cleanups expired space reservations.
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Do_pool_nodes_need_host_certific"></a> Do pool nodes need host certificates? Why? </span></h2>
<p />
Yes. Credentials are delegated to pools so that they can act as clients when receiving data in pull mode or delivering <br />data in push mode. See slides 14 and 16 of <a href="https://srm.fnal.gov/twiki/pub/SrmProject/SrmPresentations/SRMDesign.pdf" target="_top">https://srm.fnal.gov/twiki/pub/SrmProject/SrmPresentations/SRMDesign.pdf</a>. Therefore in these cases they <br />need host certificates.
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Some_of_the_gridftp_doors_which"></a> Some of the gridftp doors (which are on both public and private network) are returning private ip address to SRM server. How can I get around it? </span></h2>
<p />
Following different approaches have worked for admins in the past. However, you are responsible for making sure that this does not break other things on the system <ul>
<li> In /etc/hosts, map both the public and private host names to the public IP address. 
</li> <li> Swap IP address definitions for eth0 and eth1. 
</li> <li> Check that the public/private NICs occupy the same slots of the PCI bus on the doors that don't work as they do on the doors that do work and physically swap them if different. 
</li></ul> 
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="What_do_the_terms_Free_Space_Ava"></a> What do the terms "Free Space","Available Space" and "Reserved Space" mean? </span></h2>
 <strong>Free Space</strong> - amount of available pool space for link group <br /> <strong>Reserved Space</strong> - amount of space you reserved <br /> <strong>Available Space</strong> - amount of space available for reservation <br /> (Available space=Free Space-Reserved Space) 
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="How_can_I_setup_Opportunistic_St"></a> How can I setup Opportunistic Storage on my SE? </span></h2>
<p />
Two links may be useful to you: <a href="https://twiki.grid.iu.edu/bin/view/Storage/OpportunisticStorageUse" target="_top">Opportunistic Storage Use</a> and <a href="https://twiki.grid.iu.edu/bin/view/Trash/StorageOpportunisticStorageModelForCMS" target="_top">Opportunistic Storage Model for USCMS</a>
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Do_I_need_to_maintain_same_dCach"></a> Do I need to maintain same dCache version on all my SE nodes (admin, PNFS, pool etc)? </span></h2>
<p />
Yes, we highly recommend it. There have been cases of slow response from commands like srmcp, srmls when nodes were running different dCache versions.</div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: ReleaseDocumentation<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Documentation/WebHome" class="twikiLink">Documentation</a> &gt; <a href="/bin/view/Storage/SEToolsTipsFAQs" class="twikiLink">SEToolsTipsFAQs</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>StorageFAQAnswers</span> <br />    
Topic revision: r9 - 07 Feb 2017 - 20:12:00 - <a href="/bin/view/Main/BrianBockelman" class="twikiLink">BrianBockelman</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />