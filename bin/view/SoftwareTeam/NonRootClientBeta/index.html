<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> NonRootClientBeta &lt; SoftwareTeam &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/SoftwareTeam/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/SoftwareTeam/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/SoftwareTeam/NonRootClientBeta?_T=16 Feb 2017" type="application/x-wiki" title="edit NonRootClientBeta" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/SoftwareTeam/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/SoftwareTeam/NonRootClientBeta"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#DDDDDD;
	}
	.patternBookView {
		border-color:#DDDDDD;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="OSG_Tarball_Clients"></a>  OSG Tarball Clients </h1>
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Overview"> Overview</a>
</li> <li> <a href="?cover=print#Downloads"> Downloads</a>
</li> <li> <a href="?cover=print#Installation"> Installation</a> <ul>
<li> <a href="?cover=print#Auto_updating_certificates_and_C"> Auto-updating certificates and CRLs</a>
</li></ul> 
</li> <li> <a href="?cover=print#Usage"> Usage</a>
</li> <li> <a href="?cover=print#Known_Bugs_and_Requests"> Known Bugs and Requests</a>
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Overview"></a> Overview </span></h2>
<p />
Tarball-based installs for the OSG client and OSG worker node client are now available.
These are for setting up an OSG client either without root privileges or onto an NFS share or nonstandard directory.
They are built from the osg-client and osg-wn-client packages from the 3.1.16 release of the OSG Software Stack.
They are currently in beta state.
<p />
For more background, see the <a href="/bin/view/SoftwareTeam/NonRootClients" class="twikiLink">non-root clients project page</a>.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Downloads"></a> Downloads </span></h2>
Please pick either the osg-client or the osg-wn-client tarball that is appropriate for your distribution and architecture.
The latest available ones are:
<p /> <ul>
<li> <a href="http://vdt.cs.wisc.edu/tarball-client/osg-client-3.1.16-5.el5.i386.tar.gz" target="_top">Full client 3.1.16-5 for 32-bit RHEL5</a>
</li> <li> <a href="http://vdt.cs.wisc.edu/tarball-client/osg-client-3.1.16-5.el5.x86_64.tar.gz" target="_top">Full client 3.1.16-5 for 64-bit RHEL5</a>
</li> <li> <a href="http://vdt.cs.wisc.edu/tarball-client/osg-client-3.1.16-5.el6.i386.tar.gz" target="_top">Full client 3.1.16-5 for 32-bit RHEL6</a>
</li> <li> <a href="http://vdt.cs.wisc.edu/tarball-client/osg-client-3.1.16-5.el6.x86_64.tar.gz" target="_top">Full client 3.1.16-5 for 64-bit RHEL6</a>
</li> <li> <a href="http://vdt.cs.wisc.edu/tarball-client/osg-wn-client-3.1.16-5.el5.i386.tar.gz" target="_top">Worker-node client 3.1.16-5 for 32-bit RHEL5</a>
</li> <li> <a href="http://vdt.cs.wisc.edu/tarball-client/osg-wn-client-3.1.16-5.el5.x86_64.tar.gz" target="_top">Worker-node-client 3.1.16-5 for 64-bit RHEL5</a>
</li> <li> <a href="http://vdt.cs.wisc.edu/tarball-client/osg-wn-client-3.1.16-5.el6.i386.tar.gz" target="_top">Worker-node-client 3.1.16-5 for 32-bit RHEL6</a>
</li> <li> <a href="http://vdt.cs.wisc.edu/tarball-client/osg-wn-client-3.1.16-5.el6.x86_64.tar.gz" target="_top">Worker-node-client 3.1.16-5 for 64-bit RHEL6</a>
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Installation"></a> Installation </span></h2>
<p /> <ol>
<li> Unpack the tarball.
</li> <li> Move the directory that was created to where you want the tarball client to be.
</li> <li> Run <code><em>/path/to/client/</em>osg/osg-post-install</code> to fix the directories in the installation.<br/>       Note that after this, you will not be able to relocate the install again.
</li> <li> Download and set up CA certificiates using <code>osg-ca-manage</code>
</li> <li> Download CRLs using fetch-crl (EL6) or fetch-crl3 (EL5)
</li></ol> 
<p />
Example install:
<p />
<pre class='screen'>
$ mkdir $HOME/test-install
$ cd $HOME/test-install
$ wget http://vdt.cs.wisc.edu/tarball-client/osg-client-3.1.16-5.el6.x86&#95;64.tar.gz
$ tar xzf osg-client-3.1.16-5.el6.x86&#95;64.tar.gz
$ cd osg-client
$ osg/osg-post-install
$ . setup.sh
$ osg-ca-manage setupCA --url osg
$ fetch-crl
</pre>
<p />
<h3><a name="Auto_updating_certificates_and_C"></a> Auto-updating certificates and CRLs </h3>
<p />
You must create cron jobs to run fetch-crl/fetch-crl3 and osg-update-certs to update your CRLs and certificates automatically.
<p />
Here is what they should look like. (Note: fill in <em>&lt;OSG_LOCATION&gt;</em> with the location of your tarball install).
<p />
<pre class='file'>
# Cron job to update certs.
# Runs every hour by default, though does not update certs until they're at
# least 24 hours old.  There is a random sleep time for up to 45 minutes (2700
# seconds) to avoid overloading cert servers.
10 * * * *   ( . <em>&lt;OSG_LOCATION&gt;</em>/setup.sh && osg-update-certs --random-sleep 2700 --called-from-cron )
</pre>
<p />
<pre class='file'>
# Cron job to update CRLs for EL5:
# Runs every 6 hours at, 45 minutes +/- 3 minutes.
42 */6 * * *   ( . <em>&lt;OSG_LOCATION&gt;</em>/setup.sh && fetch-crl3 -q -r 360 )
</pre>
<p />
<pre class='file'>
# Cron job to update CRLs for EL6:
# Runs every 6 hours at, 45 minutes +/- 3 minutes.
42 */6 * * *   ( . <em>&lt;OSG_LOCATION&gt;</em>/setup.sh && fetch-crl -q -r 360 )
</pre>
<p />
You might want to configure proxy settings in $OSG_LOCATION/etc/fetch-crl.conf (EL6) or $OSG_LOCATION/etc/fetch-crl3.conf (EL5)
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Usage"></a> Usage </span></h2>
A user must set up their environment before running any of the software provided in the client.
<p />
There are two way to do this: either source <code>setup.sh</code> or <code>setup.csh</code> before
running a command, or use the <code>osgrun</code> wrapper. All three files are located in
the top-level directory of the client.
<p />
<strong>Note:</strong> If <code>setup.sh</code>, <code>setup.csh</code>, or <code>osgrun</code> are missing, then run
<code>osg/osg-post-install</code> to (re)create them.
<p />
Example usage with <code>setup.sh</code>, assuming an install in <code>$HOME/test-install/osg-client</code> :
<p />
<pre class='screen'>
$ . $HOME/test-install/osg-client/setup.sh
$ grid-proxy-init
$ globus-job-run <em>GATEKEEPER</em> /usr/bin/id
</pre>
<p />
(If using <code>csh</code> or <code>tcsh</code>, source <code>setup.csh</code> instead of <code>setup.sh</code>)
<p />
The user might find it convenient to create a shell alias to <code>setup.sh</code> to avoid having to type the full path every session.
For example by adding the following to their <code>~/.bashrc</code>:
<pre class='file'>
alias source_setup=". $HOME/test-install/osg-client/setup.sh"
</pre>
<p />
Example usage with <code>osgrun</code>:
<p />
<pre class='screen'>
$ $HOME/test-install/osg-client/osgrun grid-proxy-init
$ $HOME/test-install/osg-client/osgrun globus-job-run <em>GATEKEEPER</em> /usr/bin/id
</pre>
<p />
The advantage of <code>osgrun</code> is that the environment of the user is left
unchanged, whereas sourcing <code>setup.sh</code> or <code>setup.csh</code> will modify variables
like <code>PATH</code>, <code>LD_LIBRARY_PATH</code>, and others, until the user exits from their
shell.
<p />
The user might find it useful to set up a shell alias to <code>osgrun</code> to avoid having to type the full path every command.
For example by adding the following to their <code>~/.bashrc</code>:
<pre class='file'>
alias osgrun="$HOME/test-install/osg-client/osgrun"
</pre>
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Known_Bugs_and_Requests"></a> Known Bugs and Requests </span></h2>
<p />
<table cellspacing="0" cellpadding="0" border="0" class="twikinetWrapperTable" rules="none">
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableT twikinetWrapperTableTL"></td>
<td class="twikinetWrapperTableT twikinetWrapperTableTR"></td>
</tr>
<tr class="twikinetWrapperTableRow">
<td colspan="2" class="twikinetWrapperTableMain">
         <table cellspacing="0" id="table1" cellpadding="0" class="twikiTable" rules="cols" border="1">   
		<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol0 twikiFirstCol"> <a rel="nofollow" href="/bin/view/SoftwareTeam/NonRootClientBeta?cover=print;sortcol=0;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Type</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol1"> <a rel="nofollow" href="/bin/view/SoftwareTeam/NonRootClientBeta?cover=print;sortcol=1;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Description</font></a> </th>
			<th bgcolor="#d8dde4" valign="top" class="twikiTableCol2 twikiLastCol"> <a rel="nofollow" href="/bin/view/SoftwareTeam/NonRootClientBeta?cover=print;sortcol=2;table=1;up=0#sorted_table" title="Sort by this column"><font color="#252b37">Status</font></a> </th>
		</tr>   
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> doc </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> Document how to set up fetch-crl cronjob </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> done </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> doc </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> Document how to set up osg-update-certs cronjob </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> done </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol"> bug </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1"> Set MANPATH in setup.sh / setup.csh <a href="https://jira.opensciencegrid.org/browse/SOFTWARE-1009" target="_top">SOFTWARE-1009</a> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol"> done (3.1.16-5) </td>
		</tr>
		<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol0 twikiFirstCol"> doc/enhance </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol1"> fetch-crl on EL6 is fetch-crl3 on EL5. Make symlinks to reduce confusion. </td>
			<td bgcolor="#f2f3f6" valign="top" class="twikiTableCol2 twikiLastCol"> done (3.1.16-5) </td>
		</tr>
		<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol0 twikiFirstCol twikiLast"> enhance </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol1 twikiLast"> Add ability to customize environment (i.e. have setup.sh source setup-local.sh) <a href="https://jira.opensciencegrid.org/browse/SOFTWARE-1020" target="_top">SOFTWARE-1020</a> </td>
			<td bgcolor="#ffffff" valign="top" class="twikiTableCol2 twikiLastCol twikiLast"> done (3.1.16-5) </td>
		</tr>   </table>
</td>
</tr>
<tr class="twikinetWrapperTableRow">
<td class="twikinetWrapperTableB twikinetWrapperTableBL"></td>
<td class="twikinetWrapperTableB twikinetWrapperTableBR"></td>
</tr>
</table>
<p />
<p />
<p />
<!-- vim:ft=twiki
--></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: SoftwareTeam<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/SoftwareTeam/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a> &gt; <a href="/bin/view/SoftwareTeam/Projects" class="twikiLink">Projects</a> &gt; <a href="/bin/view/SoftwareTeam/NonRootClients" class="twikiLink">NonRootClients</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>NonRootClientBeta</span> <br />    
Topic revision: r6 - 18 Apr 2013 - 00:15:19 - <a href="/bin/view/Main/MatyasSelmeci" class="twikiLink">MatyasSelmeci</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />