<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> UnifiedHTCondorRPM &lt; SoftwareTeam &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/SoftwareTeam/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/SoftwareTeam/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/SoftwareTeam/UnifiedHTCondorRPM?_T=16 Feb 2017" type="application/x-wiki" title="edit UnifiedHTCondorRPM" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/SoftwareTeam/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/SoftwareTeam/UnifiedHTCondorRPM"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#DDDDDD;
	}
	.patternBookView {
		border-color:#DDDDDD;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Unified_HTCondor_RPM"></a>  <strong>Unified HTCondor RPM</strong> </h1>
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#About_This_Document"> About This Document</a>
</li> <li> <a href="?cover=print#Working_list_of_HTCondor_RPM_fea"> Working list of HTCondor RPM features</a>
</li> <li> <a href="?cover=print#Implementation_Plan"> Implementation Plan</a> <ul>
<li> <a href="?cover=print#Implementation_Plan_Details"> Implementation Plan Details</a>
</li></ul> 
</li> <li> <a href="?cover=print#References"> References</a>
</li> <li> <a href="?cover=print#Comments"> Comments</a>
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="About_This_Document"></a> About This Document </span></h2>
HTCondor comes packaged in RPM form by at least three significant communities: UW, OSG, and Fedora. Each one has its own version of the RPM, built &amp; packaged differently and including different features.
<p />
This document describes the project to create a unified source RPM that incorporates the features provided by each of these RPM versions and required by each of the major communities consuming them.  This is intended for HTCondor users to see the target set of features for the unified RPM and to provide feedback on any specific requirements they have.
<p />
See also the main <a href="https://htcondor-wiki.cs.wisc.edu/index.cgi/tktview?tn=3638" target="_top">GitTrack ticket</a> for this project.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Working_list_of_HTCondor_RPM_fea"></a> Working list of HTCondor RPM features </span></h2>
<p />
This is the current list of features we plan to include in the unified RPM:
<p /> <ol>
<li> follow fedora rpm guidelines <ul>
<li> provide a source rpm (currently UW's does not)
</li> <li> have correct / consistent locations for everything (libs, config files) 
</li></ul> 
</li> <li> conditional support for various features <ul>
<li> standard universe
</li> <li> UW-style vs PROPER-style build
</li> <li> parallel universe 
</li></ul> 
</li> <li> well defined subpackage relationships <ul>
<li> procd in particular shouldn't pull in all of condor
</li> <li> separate out standard universe if possible 
</li></ul> 
</li> <li> reconcile config file differences (condor_config, sysconfig, init.d)
</li> <li> handle upgrades reasonably <ul>
<li> when to do condor_off -fast vs -graceful, etc
</li> <li> provide a proper place for customizations to init script that won't get blown away on upgrades 
</li></ul> 
</li></ol> 
<p /> <ul>
<li> Note that we <strong>do not</strong> plan to support relocatability in the RPM. 
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Implementation_Plan"></a> Implementation Plan </span></h2>
<p />
Here are the high-level steps we plan to take to create the unified RPM:
<p /> <ul>
<li> start with OSG condor.spec (based on condor-7.9.6)
</li> <li> add in any missing features from Fedora's spec
</li> <li> add conditional support to do a UW style build (instead of PROPER) <ul>
<li> UW style build will initially include standard universe, but see         if it's possible to build standard universe each way (UW/PROPER) 
</li></ul> 
</li> <li> see if standard universe can reasonably be made into a subpackage
</li> <li> fix dependencies so that procd doesn't pull in all of condor
</li> <li> automate parallel universe configuration, if enabled
</li> <li> automate cgroups configuration, if enabled
</li> <li> investigate any differences in locations of installed files between      uw/osg/fedora versions (eg, condor_config.local), find out which ones are likely to cause trouble if they change
</li> <li> same with content of config files between uw/osg/fedora; see if there is any trouble reconciling them
</li> <li> implement Steve Timm's suggestions for fixing / improving the init.d script behavior
</li> <li> look into different upgrade scenarios, when it makes sense to end      services immediately vs when to wait for jobs to finish, etc. try to find a way to have it do the right thing either way
</li></ul> 
<p />
<h3><a name="Implementation_Plan_Details"></a> Implementation Plan Details </h3>
<p />
See also the <a href="/bin/view/SoftwareTeam/UnifiedHTCondorRPMDetails" class="twikiLink">UnifiedHTCondorRPMDetails</a> page for a more detailed implementation plan.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="References"></a> References </span></h2> <ul>
<li> <a href="https://htcondor-wiki.cs.wisc.edu/index.cgi/tktview?tn=3638" target="_top">Main GitTrack Ticket</a>
</li> <li> <a href="/bin/view/SoftwareTeam/UnifiedHTCondorRPMDetails" class="twikiLink">UnifiedHTCondorRPMDetails</a>
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Comments"></a> <strong>Comments</strong> </span></h2>
<form method="post" action="https://twiki.opensciencegrid.org/bin/save/SoftwareTeam/UnifiedHTCondorRPM" enctype="multipart/form-data" name="tableappend0" id="tableappend0">
<p />
<div class="commentPlugin commentPluginPromptBox">
<table><tr valign="middle"><td><textarea  rows="3" cols="70" name="comment" wrap="soft" onfocus="if(this.value=='')this.value=''" onblur="if(this.value=='')this.value=''"></textarea></td><td><input  type="submit" value="Add comment" /></td></tr></table>
</div><!--/commentPlugin-->
<p />
<input type="hidden" name="comment_action" value="save"  />
<input type="hidden" name="comment_type" value="tableappend"  />
<input type="hidden" name="comment_index" value="0"  /></form></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: SoftwareTeam<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/SoftwareTeam/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a> &gt; <a href="/bin/view/SoftwareTeam/InternalDocs" class="twikiLink">InternalDocs</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>UnifiedHTCondorRPM</span> <br />    
Topic revision: r1 - 30 May 2013 - 21:29:45 - <a href="/bin/view/Main/CarlEdquist" class="twikiLink">CarlEdquist</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />