<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> ReleasePolicy &lt; SoftwareTeam &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/SoftwareTeam/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/SoftwareTeam/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/SoftwareTeam/ReleasePolicy?_T=16 Feb 2017" type="application/x-wiki" title="edit ReleasePolicy" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/SoftwareTeam/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/SoftwareTeam/ReleasePolicy"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#DDDDDD;
	}
	.patternBookView {
		border-color:#DDDDDD;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Software_Release_Policy"></a> Software Release Policy </h1>
<p />
This document doesn't talk about technical details of how to do a release. <a href="/bin/view/SoftwareTeam/HowToCutRelease" class="twikiLink">The release process is discussed elsewhere</a>.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="1_0_Software_Repositories"></a> 1.0 Software Repositories </span></h2>
<p />
The Software Team maintains five primary software repositories
<p /> <ol>
<li> <strong>osg-development</strong>: This is the "wild west", the place where software goes while it is being worked on by the software team.
</li> <li> <strong>osg-testing</strong>: This is where software goes when it is ready for wide-spread testing.
</li> <li> <strong>osg-prerelease</strong>: This is where software goes just before being released, for final verification.
</li> <li> <strong>osg-release</strong>: This is the official, production release of the software stack. This is the main repository for end-users.
</li> <li> <strong>osg-contrib</strong>: This is where software goes that is not officially supported by the OSG Software Team, but we provide as a convenience for software our users might find useful. 
</li></ol> 
<p />
We also create a repository per release, called <strong>osg-release-VERSION</strong> (such as osg-release-3.0.4). This is intended mostly for testing purposes, though users may occasionally find it useful.
<p />
Occasionally there may be other repositories for specific short-term purposes.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="2_0_Version_Numbers"></a> 2.0 Version Numbers </span></h2>
<p />
There is a single version number that is used to summarize the contents of the <em>osg-release</em> repository. Having a single version number is very useful for a variety of reasons, including:
<p /> <ol>
<li> Every time changes are made to the <em>osg-release</em> repository, we update the version number and write release notes.
</li> <li> We have a shorthand for referring to the state of the repository; we can talk about specific releases. 
</li></ol> 
<p />
However, there are important caveats about the version number:
<p /> <ol>
<li type="i"> Even if a user says they have installed Version X, it may not be an accurate reflection of what they have installed: they may have chosen to update some of their software from a previous version. To truly understand what they have installed, the entire set of RPMs installed on their computer must be considered.
</li> <li type="i"> The version number is only meaningful in the <em>osg-release</em> repository, though for technical reasons it's present (as an RPM) in other repositories. 
</li></ol> 
<p />
The version number is communicated in two ways:
<p /> <ol>
<li type="a"> Every time a new release is made, the version number is updated. All release notes and communication to users about this release uses the new version number. 
</li> <li type="a"> There is an <em>osg-version</em> RPM that reports the version of the release. Major metapackages (osg-ce, osg-client, etc...) depend on this RPM. The RPM itself has the version number in it. It also provide a program that reports the version, and a text file that contains the version number. 
</li></ol> 
<p />
The version number will be of the form X.Y.Z. As of this writing, version numbers are 3.0.Z, where Z indicates a minor revision. 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="3_0_Progression_of_repositories"></a> 3.0 Progression of repositories </span></h2>
<p />
This figure shows the progression of repositories that packages will go through:
<p />
<pre>

 osg-development -&#62; osg-testing -&#62; osg-prerelease -&#62; osg-release
                               \
                                -&#62; osg-contrib


</pre>
<!--
<img src="/twiki/pub/SoftwareTeam/ReleasePolicy/software-release-process.png" alt="software-release-process.png"/>    
-->
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="4_0_Release_policies"></a> 4.0 Release policies </span></h2>
<p />
<h3><a name="4_1_Adding_packages_to_osg_devel"></a> 4.1 Adding packages to osg-development </h3>
<p />
New packages will only be added to <em>osg-development</em> with the permission of the OSG Software Coordinator. Updates can be done at any time without permission, but developers should be careful if their updates might be significant, particularly if an update might cause series compatibility issues. In cases where there is uncertainty, discuss it with the Software Coordinator.
<p />
<h3><a name="4_2_Moving_packages_to_osg_testi"></a> 4.2 Moving packages to osg-testing </h3>
<p />
A package may be moved from <em>osg-development</em> to <em>osg-testing</em> when the individual maintainer of that package decides that it is ready for widespread testing and when the package is eventually intended for a production release, and when approved by the OSG Software Coordinator. Approval is needed because this is when we first make packages available to people outside of the OSG Software Team.
<p />
In the past, every time the <em>osg-testing</em> cache is updated, the <a href="/bin/view/SoftwareTeam/PreReleaseNotes" class="twikiLink">pre-release notes</a> page was updated. This lists all of the new or changed RPMs that have put into the <em>osg-testing</em> cache. This is important for our testers, so they can see what has changed. This page is now obsolete.
<p />
<h3><a name="4_3_Moving_packages_to_osg_prere"></a> 4.3. Moving packages to osg-prerelease; Readying the release </h3>
<p />
When we are ready to make a production release, we first move the correct subset of packages from <em>osg-testing</em> into <em>osg-prerelease</em>. This should be done after checking with the OSG Software Coordinator to verify that it's okay to release the software. The intention of <em>osg-prerelease</em> is to do a final verification that we have the correct set of packages for release and that they really work together. This is important because the <em>osg-testing</em> repository might contain a mix of packages that are ready for release with packages that are not ready for release. When moving packages to <em>osg-prerelease</em>, the team member doing the release will:
<p /> <ul>
<li> Update the osg-version RPM to reflect the new version. Push this RPM through <em>osg-development</em>, <em>osg-testing</em>, and into <em>osg-prerelease</em>.
</li> <li> Find the correct set of packages to push from <em>osg-testing</em> into <em>osg-prerelease</em>.
</li> <li> At a minimum, run the automated test suite on the contents of <em>osg-prerelease</em>. In cases were more extensive testing is needed, or the test suite doesn't sufficiently cover the testing needs, do specific ad-hoc testing. (If appropriate, consider proposing extensions to the automated test suite.)
</li></ul> 
<p />
We expect that in most cases, this process of updating and testing the <em>osg-prelease</em> repository will be less than one day. If there are urgent security updates to release, this process may be shortened.
<p />
Note that, except in exceptional circumstances, we release software on Tuesdays. Therefore the osg-prerelease cache is probably updated and readied on a Monday (or perhaps late the previous week).
<p />
<h3><a name="4_4_Moving_packages_to_osg_relea"></a> 4.4 Moving packages to osg-release </h3>
<p />
Note that, except in exceptional circumstances, we release software on Tuesdays, so this process will only happen on Tuesdays.
<p />
When the <em>osg-prerelease</em> repository has been updated and verified, all of the changed software can be moved into the <em>osg-release</em> repository. As part of this move, two important tasks must be done:
<p /> <ol>
<li> Record the complete set of packages in the new release repository.
</li> <li> Update the <a href="/bin/view/Documentation/Release3/ReleaseNotes" class="twikiLink">Release Notes</a>. Note that each release has a separate page to describe the release, and it's linked from the main page. The individual page lists the changes at a high level (i.e. Updated package X to version Y) and the complete set of RPMs that changed.
</li> <li> Write an email about the release. Mail it both to <code>vdt-discuss@opensciencegrid.org</code> and the GOC. The GOC will distribute it to the right places. 
</li></ol> 
<p />
In addition, we will make another Koji tag/yum repository called <em>osg-release-VERSION</em>. All of the latest packages in osg-release will be tagged to be in this repository, and the tag will be locked. This will give us a reproducible way to install any given OSG Software release.
<p />
<h3><a name="4_5_Moving_packages_to_osg_relea"></a> 4.5 Moving packages to osg-release-VERSION </h3>
<p />
When we make a specific release, we copy the osg-release repository to a versioned osg-release-VERSION repository. This allows us to do testing with specific versions and in rare cases allows users to use a specific release.
<p />
<h3><a name="4_6_Moving_packages_to_osg_contr"></a> 4.6 Moving packages to osg-contrib </h3>
<p />
The <em>osg-contrib</em> repository is loosely regulated. In most cases, the team member in charge of the package can decide when a package is updated in <em>osg-contrib</em>.
Contrib packages should be tested in <em>osg-testing</em> first.
<p />
<h3><a name="4_7_Timing_of_releases"></a> 4.7 Timing of releases </h3>
<p />
Normally, releases happen on Tuesdays.
<p />
Code freezes happen two business days in advance of the release (normally Friday). Specifically: RPM updates intended to be included in the next release (that is, pushed to the osg-release yum repo) must be in the osg-testing yum repo by noon Central Time two business days in advance of the release. This will allow time for final testing, discussions, reverts, etc.
<p />
We will make exceptions for urgent situations; consult with the software coordinator when needed.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="5_0_Additional_Notes"></a> 5.0 Additional Notes </span></h2>
<p />
<h3><a name="5_1_CA_Certificates"></a> 5.1 CA Certificates </h3>
<p />
The OSG Security Team is in charge of the CA Certificate packages. Because they are in the same repositories as the rest of the software, they go through the same process for release. That means that the version number of the software stack will be incremented even if the only changes are in the CA certificate packages. The OSG Software Team is happy to help with the mechanics of the release, but the OSG Security Team is in charge of the timing and contents of the release.
<p />
<h3><a name="5_2_VO_Client_packages"></a> 5.2 VO Client packages </h3>
<p />
The OSG Operations Team is in charge of the VO client packages, which contain files such as the <code>vomses</code> file, the <code>edg-mkgridmap.conf</code> file, and others. Because they are in the same repositories as the rest of the software, they go through the same process for release. That means that the version number of the software stack will be incremented even if the only changes are in the CA certificate packages. The OSG Software Team is happy to help with the mechanics of the release, but the OSG Operations Team is in charge of the timing and contents of the release.</div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: SoftwareTeam<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/SoftwareTeam/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a> &gt; <a href="/bin/view/SoftwareTeam/InternalDocs" class="twikiLink">InternalDocs</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>ReleasePolicy</span> <br />    
Topic revision: r10 - 06 Dec 2016 - 18:13:13 - <a href="/bin/view/Main/KyleGross" class="twikiLink">KyleGross</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />