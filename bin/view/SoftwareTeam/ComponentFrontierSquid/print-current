<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> ComponentFrontierSquid &lt; SoftwareTeam &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/SoftwareTeam/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/SoftwareTeam/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/SoftwareTeam/ComponentFrontierSquid?_T=16 Feb 2017" type="application/x-wiki" title="edit ComponentFrontierSquid" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/SoftwareTeam/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/SoftwareTeam/ComponentFrontierSquid"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#DDDDDD;
	}
	.patternBookView {
		border-color:#DDDDDD;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="OSG_Software_Component_Frontier"></a> OSG Software Component: Frontier Squid </h1>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Purpose"></a> Purpose </span></h2>
<p />
The Frontier Squid component distributes the squid http proxy cache from <a href="http://squid-cache.org" target="_top">http://squid-cache.org</a> and configures it to work well with applications that use the http feature If-Modified-Since, including the <a href="http://frontier.cern.ch" target="_top">Frontier Distributed Database Caching system</a>.   It also works well with http-based applications that do not use If-Modified-Since, including <a href="http://cernvm.cern.ch/portal/filesystem" target="_top">CVMFS</a>.  It chooses one of the few versions of squid that work with If-Modified-Since and applies a couple of patches; the versions in Redhat EL5 and EL6 do not work correctly with If-Modified-Since.  It also adds a configuration file generator to support easier upgrades, and an initialization script that cleans the cache on startup and supports running multiple copies listening on the same port for better compute performance when a single core cannot reach full network throughput.  It also by default sets access control lists to allow remote SNMP monitoring from a server at CERN.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Usage"></a> Usage </span></h2>
<p />
The frontier-squid package is used by most ATLAS and CMS sites in order to support their software that loads calibration data through Frontier.   A few sites run a different version of squid, allowing for the many caveats listed on the <a href="https://twiki.cern.ch/twiki/bin/view/Frontier/MyOwnSquid" target="_top">Frontier MyOwnSquid twiki page</a>.  
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Source"></a> Source </span></h2>
<p />
<a href="http://squid-cache.org" target="_top">http://squid-cache.org</a> and <a href="http://frontier.cern.ch/dist/rpms/" target="_top">http://frontier.cern.ch/dist/rpms/</a>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Packaging"></a> Packaging </span></h2>
<p />
<strong>Repository:</strong> frontier.cern.ch and OSG both distribute the rpm.  The OSG version makes no changes to the upstream rpm, it is a simple rebuild.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="History"></a> History </span></h2>
<p />
Originally the CMS Frontier project distributed only a frontier-squid tarball, including a version that went into the pacman-based distribution of OSG.  When ATLAS began using Frontier, they created an rpm distribution that packaged the tarball distribution.  For several years it has been maintained by people in the ATLAS project, but now the rpm is maintained by the Frontier developer Dave Dykstra directly.  There were many non-standard things about the original rpm, but now only these remain: <ol>
<li> Instead of using a file in /etc/logdir.d for log rotation, it does its own log rotation based on cron jobs.  This is because the logs sometimes grow so fast that they need to be rotated more than once a day, and because it optionally invokes an add-on package log analyzer when rotation occurs.
</li> <li> It has an optional feature of changing the user id that squid runs under, which requires reading a file under /etc/squid that has to be present before the package is installed.  As a consequence it uses a %pre install step to stop a running service on an upgrade, and if it did stop the service it creates a temporary file in /etc/squid to tell the %post step to restart it.
</li></ol> </div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: SoftwareTeam<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/SoftwareTeam/ComponentHome" class="twikiLink">ComponentHome</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>ComponentFrontierSquid</span> <br />    
Topic revision: r6 - 01 Feb 2013 - 17:54:56 - <a href="/bin/view/Main/DaveDykstra" class="twikiLink">DaveDykstra</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />