<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> NPRootCauseAnalysis &lt; SoftwareTeam &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/SoftwareTeam/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/SoftwareTeam/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/SoftwareTeam/NPRootCauseAnalysis?_T=16 Feb 2017" type="application/x-wiki" title="edit NPRootCauseAnalysis" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/SoftwareTeam/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/SoftwareTeam/NPRootCauseAnalysis"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#DDDDDD;
	}
	.patternBookView {
		border-color:#DDDDDD;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Native_Packaging_Root_Cause_Anal"></a> Native Packaging Root Cause Analysis </h1>
<p />
This document attempts to answer a question posed by Miron:
<p />
<blockquote>
Why have our native packaging efforts taken so long? Where did we go wrong, and what did we do right?
</blockquote>
<p />
Dan Fraser and Alain Roy worked on this question. As input, Alain and Tim Cartwright put together a lot of the <a href="/bin/view/SoftwareTeam/NativePackagingHistory" class="twikiLink">history of our native packaging efforts</a>.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Findings"></a> Findings </span></h2>
<p /> <ul>
<li> The team did not extract clear requirements from our requesters.
</li> <li> The team had a limited understanding of community expectations for how native packages are used, in part because no one on the team has system administration experience. (And this means there are unstated requirements stemming from these community expectations.)
</li> <li> The team did not have a requirements repository for tracking changes to requirements. 
</li> <li> Initially, the team attempted to keep our RPM and Pacman package in sync when it wasn't the right approach. We also had limited external guidance to help us understand the philosophical differences between Pacman and RPM.
</li> <li> We didn't appreciate how significant community work on native packaging was (Mattias Ellert, EPEL…)
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="A_brief_history"></a> A brief history </span></h2>
<p />
<h3><a name="Ancient_history"></a> Ancient history </h3>
The VDT first produced binary RPMs for EDG (then EGEE). We began doing this in September 2004, and we did it for a small subset of the VDT: Globus, MyProxy, GSIOpenSSH, UberFTP. They were focused purely on the needs of EDG/EGEE and not intended to be used by anyone else. 
<p />
<h3><a name="Native_packages_for_LIGO"></a> Native packages for LIGO </h3>
In May of 2009 we began creating native packages (both RPMs and Debian packages) for LIGO. They were beta quality in December 2009 and production quality in April 2010. LIGO was pleased with the results and has relied on them. There were several reasons that it took nearly a year: we didn't have dedicated effort (for example, Tim put in considerable effort on his class), and more importantly, we made several changes as we went along. Theses changes were made for two reasons. First, our understanding of LIGO's requirements became better, which tells us that we didn't fully understand their requirements at the beginning. Second, it took us a long time to fully understand the mindset of the community's approach to packaging. (This is related to the first point, since LIGO is part of the community and wanted packages that fit with what they have in the community.) 
<p />
In August of 2010, LIGO requested an upgrade to Globus 5. They had beta packages by November 2010 and a production release in February 2011. 
<p />
<h3><a name="Non_LIGO_native_packages"></a> Non-LIGO native packages </h3>
In March of 2010 we began work on a basic binary glexec RPM. We had an RPM within a couple of weeks and might be acceptable to VDT customers but did not meet community standards. (Many packages in one RPM &amp; binary only.) We began work on what we believed was a simple system for constructing binary RPMs out of our existing Metronome builds (for Pacman packages). We underestimated how hard this would be (it seemed like the easy route) and we were still focused on keeping RPMs and Pacman synchronized. Mat spent considerable time on the infrastructure to produce binary RPMs out of our builds. 
<p />
We shipped a reasonable binary glexec RPM in November 2011 and began working on Xrootd.We also defined the worker node project. In December we were asked to move to Xrootd 3.0. We provided a binary RPM for Xrootd 3.0 in February, but it had problems. These were discussed in March, and we agreed on Xrootd RPM requirements at the beginning of April. We shipped good quality RPMs in May, but the final release has been delayed for a pending update to Xrootd, which is out of our hands.
<p />
A set of worker node binary RPMs was available in March 2011 and were sent to testers.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Details"></a> Details </span></h2>
<p />
Looking over the work, we had two primary problems. 
<p />
First, we did not have a clear set of requirements when we began working, nor a clearly documented plan. It is essential that for larger projects we must have a clearly defined set of requirements that have been agreed upon by the requester and by us. These requirements and the state of the work must be easy for everyone involved to see. That is, we need a requirements/work tracking system. 
<p />
Second, we did not have a good understanding of the community approaches to native packaging. This is closely related to the first point, because often our users want packages that work according to community expectations. They can't define all those requirements in a detailed, coherent way, but they know when the packages don't "just work" with the other packages they install on their system. 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="What_will_we_do_differently_in_t"></a> What will we do differently in the future? </span></h2>
<p /> <ul>
<li> We will get requirements and put them into a repository that can be tracked.
</li> <li> We will work with packaging systems separately and not attempt to keep them synchronized.
</li></ul> </div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: SoftwareTeam<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/SoftwareTeam/WebHome" class="twikiCurrentWebHomeLink twikiLink">WebHome</a> &gt; <a href="/bin/view/SoftwareTeam/Projects" class="twikiLink">Projects</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>NPRootCauseAnalysis</span> <br />    
Topic revision: r3 - 01 Jun 2011 - 19:32:04 - <span class="twikiNewLink">AlainRoy<a href="/bin/edit/SoftwareTeam/AlainRoy?topicparent=SoftwareTeam.NPRootCauseAnalysis" rel="nofollow" title="AlainRoy (this topic does not yet exist; you can create it)">?</a></span>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />