<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> UserSchool16Thurs21 &lt; Education &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Education/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Education/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Education/UserSchool16Thurs21?_T=16 Feb 2017" type="application/x-wiki" title="edit UserSchool16Thurs21" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Education/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Education/UserSchool16Thurs21"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#D0D0D0;
	}
	.patternBookView {
		border-color:#D0D0D0;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">

@import url('/pub/Documentation/Tools/exercises.css ');

</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Understanding_Data_Requirements"></a> Understanding Data Requirements </h1>
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Understanding_Data_Requirements"> Understanding Data Requirements</a> <ul>
<li> <a href="?cover=print#Background"> Background</a> <ul>
<li> <a href="?cover=print#Setup"> Setup</a>
</li></ul> 
</li> <li> <a href="?cover=print#Understanding_blast"> Understanding blast</a>
</li> <li> <a href="?cover=print#Adding_up_data_needs"> Adding up data needs</a> <ul>
<li> <a href="?cover=print#Input_requirements"> Input requirements</a>
</li> <li> <a href="?cover=print#Output_requirements"> Output requirements</a>
</li></ul> 
</li> <li> <a href="?cover=print#Talk_about_this_as_a_group"> Talk about this as a group!</a>
</li> <li> <a href="?cover=print#Up_next"> Up next!</a>
</li></ul> 
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Background"></a> Background </span></h2>
This exercise's goal is to learn to think critically about an application's data needs, especially before submitting a large batch of jobs or using tools for delivering large data to jobs.  In this exercise we will attempt to understand the input and output of the bioinformatics application <a href="http://blast.ncbi.nlm.nih.gov/" target="_top">BLAST</a>, which you used yesterday in Exercise 1.2.
<p />
<h3><a name="Setup"></a> Setup </h3>
<p /> <ul>
<li> Login to the OSG submit server, <code>osg-learn.chtc.wisc.edu</code>.
</li> <li> Change into your directory from yesterday's exercise 1.2
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Understanding_blast"></a> Understanding blast </span></h2>
Remember that <code>blastx</code> is executed in a command like the following: 
<p />
<pre class="screen">
$> <strong>blastx -db <font color="#ff0000">database_rootname</font> -query <font color="#ff0000">input_file</font> -out <font color="#ff0000">results_file</font></strong>
</pre>
<p />
In the above, the <code>input_file</code> is a file containing a number of genetic sequences, and the database that these are compared against is made up of several files that begin with the same root name (we previously used the "pdbaa" database, whose files all begin with <code>pdbaa</code>). The output from this analysis will be printed to a results file that is also indicated in the command.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Adding_up_data_needs"></a> Adding up data needs </span></h2>
<p />
Looking at the files from the <code>blastx</code> jobs you ran yesterday, add up the amount of data that was needed for running the job. (If you deleted any of the files from yesterday, just resubmit the job before proceeding.) Here are the commands that will be most useful to you:
<p />
How to see the size of a specific file: <pre class="screen">
[user@client ~]$ <strong>ls -lh <font color="#ff0000">file</font></strong>
</pre>
<p />
How to see the size of all files in the current directory: <pre class="screen">
[user@client ~]$ <strong>ls -lh</strong>
</pre>
<p />
How to determine the total amount of data in the current directory: <pre class="screen">
[user@client ~]$ <strong>du -sh <font color="#ff0000">directory</font></strong>
</pre>
<p />
<p />
<h3><a name="Input_requirements"></a> Input requirements </h3>
<p />
Looking at yesterday's exercise, total up the amount of data in all of the files necessary to run the <code>blastx</code> job (which will include the executable, itself!). Write down this number. Also take note of how much total data in in the <code>pdbaa</code> directory.
<p />
<h3><a name="Output_requirements"></a> Output requirements </h3>
The output that we care about from <code>blastx</code> is saved in the file whose name is indicated after the <code>-out</code> argument to <code>blastx</code>. However, remember that HTCondor also creates the error, output, and log files, which you'll need to add up, too. Are there any other files? Total all of these together, as well.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Talk_about_this_as_a_group"></a> Talk about this as a group! </span></h2>
Once you have completed the above tasks, we'll talk about the totals as a group.
<p /> <ul>
<li> How much disk space is required on the submit server for one blastx run with the input file you used before?
</li> <li> How <em>many</em> files are needed and created for each run?
</li> <li> Assuming that each file is read completely by BLAST, and since you know how long blastx runs (time it!): <ul>
<li> At what rate are files read in?  
</li> <li> How many MB/s?
</li></ul> 
</li> <li> How much total disk space would be necessary on the submit server to run 10 jobs? (remember that some of the files will be shared by all 10 jobs, and will not be multiplied)
</li></ul> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Up_next"></a> Up next! </span></h2>
<p />
Next you will create a HTCondor submit script to transfer the Blast input files in order to run Blast on a worker nodes.
<p />
-- <a href="/bin/view/Main/LaurenMichael" class="twikiLink">LaurenMichael</a> - 21 Jul 2016</div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Education<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Education/OSGUserSchool2016" class="twikiLink">OSGUserSchool2016</a> &gt; <a href="/bin/view/Education/UserSchool16Materials" class="twikiLink">UserSchool16Materials</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>UserSchool16Thurs21</span> <br />    
Topic revision: r7 - 28 Jul 2016 - 17:04:03 - <a href="/bin/view/Main/LaurenMichael" class="twikiLink">LaurenMichael</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />