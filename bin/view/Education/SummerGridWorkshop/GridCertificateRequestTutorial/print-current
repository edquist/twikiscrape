<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> GridCertificateRequestTutorial &lt; Education/SummerGridWorkshop &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Education/SummerGridWorkshop/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Education/SummerGridWorkshop/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Education/SummerGridWorkshop/GridCertificateRequestTutorial?_T=16 Feb 2017" type="application/x-wiki" title="edit GridCertificateRequestTutorial" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Education/SummerGridWorkshop/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Education/SummerGridWorkshop/GridCertificateRequestTutorial"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#D0D0D0;
	}
	.patternBookView {
		border-color:#D0D0D0;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">

@import url('/pub/Documentation/Tools/exercises.css ');

</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Grid_Certificate_Request_Tutoria"></a>  <strong>Grid Certificate Request Tutorial</strong> </h1>
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Introduction"> Introduction</a>
</li> <li> <a href="?cover=print#Example_user_certificate_request"> Example user certificate request &amp; retrieval</a>
</li> <li> <a href="?cover=print#PKCS12_format"> PKCS12 format</a>
</li> <li> <a href="?cover=print#Example_host_and_http_service_ce"> Example host and http service certificate request</a>
</li> <li> <a href="?cover=print#Comments"> Comments</a>
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Introduction"></a> Introduction </span></h2>
See Trash.Trash/IntegrationCertScripts for information about all this.
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Example_user_certificate_request"></a> Example user certificate request &amp; retrieval </span></h2>
<p /> <ul>
<li> Setup the osg-client: <pre>
source /opt/client/setup.sh
</pre>
</li> <li> Then follow the instructions in <span class="twikiNewLink">IntegrationCertScripts<a href="/bin/edit/Trash/IntegrationCertScripts?topicparent=Education/SummerGridWorkshop.GridCertificateRequestTutorial" rel="nofollow" title="IntegrationCertScripts (this topic does not yet exist; you can create it)">?</a></span>  (<code>cert-request --ou p</code>, and answer questions). When it asks you to input your sponsor's name, email, phone, use me as your sponsor:<pre>
input your email address: rwg@uchicago.edu
input your complete phone number: 312-804-0859
input your sponsor's name: Rob Gardner
input your sponsor's email address: rwg@uchicago.edu
input your sponsor's phone number: 312-804-0859
</pre>
</li> <li> Then, for the registration authority, choose OSG:<pre>Choose a registration authority to which you are affiliated.
If nothing else applies, pick OSG.
_Enter__this____for this registration authority
	ANL	 Argonne National Lab
	ESG	 Earth System Grid
	ESnet	 DOE Science network
	FNAL	 Fermilab host and service certificates
	FusionGRID	 National Fusion Collaboratory Project
	LBNL	 Berkeley Lab
	LCG	 LHC Computing Grid Catchall
	NERSC	 computer center
	ORNL	 Oak Ridge National Lab
	OSG	 Open Science Grid (choose this if nothing else applies)
	PNNL	 Pacific Northwest National Lab
(choose from left column): OSG</pre>
</li> <li> And for the VO, choose OSGEDU.
</li> <li> You'll get an email when its approved, with a serial number (eg. 37709)
</li> <li> Then retrieve it with: <code>cert-retrieve --serialnum 37709 --p12 usercert.p12</code>
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="PKCS12_format"></a> PKCS12 format </span></h2> <ul>
<li> If you did not user the <code>--p12</code> option with the <code>cert-retrieve</code> command you can still generate a PKCS12 format file with the openssl command.
</li> <li> You'll need a version of your certificate to insert into your browser.
</li> <li> Do this: <code>openssl pkcs12 -export -in usercert.pem -inkey userkey.pem -out usercert.p12</code>
</li> <li> Import the <code>usercert.p12</code> into your browser
</li></ul> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Example_host_and_http_service_ce"></a> Example host and http service certificate request </span></h2> <ul>
<li> Here is a (dryrun) example to request a host certificate (courtesy Steve Timm):
</li></ul> 
<pre>
$ cert-request --dryrun --agree --ou s --name &#34;Steven C Timm&#34; \
      --host gc1-ce --email timm&#64;fnal.gov --phone 630-840-8525 \
      --reason &#34;Colombia Grid School&#34; --affiliation osg --vo osgedu -dir .
</pre> <ul>
<li> Remove the <code>-dryrun</code> and then the cert request will be submitted.
</li> <li> To request an  httpd service, add <code>--service http</code>.
</li></ul> 
<p />
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Comments"></a> Comments </span></h2>
<form method="post" action="https://twiki.opensciencegrid.org/bin/save/Education/SummerGridWorkshop/GridCertificateRequestTutorial" enctype="multipart/form-data" name="tableappend0" id="tableappend0">
<p />
<div class="commentPlugin commentPluginPromptBox">
<table><tr valign="middle"><td><textarea  rows="3" cols="70" name="comment" wrap="soft" onfocus="if(this.value=='')this.value=''" onblur="if(this.value=='')this.value=''"></textarea></td><td><input  type="submit" value="Add comment" /></td></tr></table>
</div><!--/commentPlugin-->
<p />
<input type="hidden" name="comment_action" value="save"  />
<input type="hidden" name="comment_type" value="tableappend"  />
<input type="hidden" name="comment_index" value="0"  /></form></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Education/SummerGridWorkshop<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><span class="twikiNewLink">Trash/Trash/Integration<a href="/bin/edit/Trash/Trash/Integration/WebHome?topicparent=Education/SummerGridWorkshop.GridCertificateRequestTutorial" rel="nofollow" title="Trash/Trash/Integration (this topic does not yet exist; you can create it)">?</a></span> &gt; <a href="/bin/view/ReleaseDocumentation/WebHome" class="twikiLink">ReleaseDocumentation</a> &gt; <a href="/bin/view/Trash/ReleaseDocumentationTutorialsFromThisRelease" class="twikiLink">ReleaseDocumentationTutorialsFromThisRelease</a> &gt; <a href="/bin/view/Trash/ReleaseDocumentationGridColombiaWorkshop2009" class="twikiLink">ReleaseDocumentationGridColombiaWorkshop2009</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>GridCertificateRequestTutorial</span> <br />    
Topic revision: r11 - 07 Feb 2017 - 20:17:23 - <a href="/bin/view/Main/BrianBockelman" class="twikiLink">BrianBockelman</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />