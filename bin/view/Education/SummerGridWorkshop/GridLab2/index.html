<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> GridLab2 &lt; Education/SummerGridWorkshop &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Education/SummerGridWorkshop/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Education/SummerGridWorkshop/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Education/SummerGridWorkshop/GridLab2?_T=16 Feb 2017" type="application/x-wiki" title="edit GridLab2" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Education/SummerGridWorkshop/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Education/SummerGridWorkshop/GridLab2"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#D0D0D0;
	}
	.patternBookView {
		border-color:#D0D0D0;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">

@import url('/pub/Documentation/Tools/exercises.css ');

</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <html>
<head>
<title>Grid Summer School Lab Exercise 2: Security</title>
<style>
.transcript
{
    background-color: #FFFFBA;
    border: thin solid #02007F;
    padding: 3pt;
    width: auto;
}

  .in {color:#0000FF; }
  .out {color:#006600;}
</style>

</head>
<p />
<body>
<p />
<h1><a name="Grid_Summer_School_Lab_Exercise"></a> Grid Summer School Lab Exercise 2: Security </h1>
<p />
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Grid_Summer_School_Lab_Exercise"> Grid Summer School Lab Exercise 2: Security </a> <ul>
 <li>
 <ul>
<li> <a href="?cover=print#Introduction"> Introduction </a>
</li> <li> <a href="?cover=print#Basic_steps"> Basic steps</a>
</li> <li> <a href="?cover=print#Certificates"> Certificates </a>
</li> <li> <a href="?cover=print#Proxy_certificates">Proxy certificates</a>
</li> <li> <a href="?cover=print#Obtaining_a_new_certificate"> Obtaining a new certificate </a>
</li> <li> <a href="?cover=print#Using_GCS_credentials"> Using GCS credentials</a>
</li> <li> <a href="?cover=print#Delegation_of_credentials"> Delegation of credentials</a>
</li> <li> <a href="?cover=print#Using_MyProxy"> Using MyProxy</a>
</li></ul> 
</li></ul> 
</li></ul> 
</div>
<p />
<h3><a name="Introduction"></a> Introduction </h3>
<p />
<p> This exercise will provide hands-on experience in using various tools to setup and use GSI for working on the grid. The first few sections delve into certificates and proxies and demonstarate how pre-configured credentials can be used to run some grid enable programs. The later sections discuss steps involved in obtaining a new certificate and using them on the grid. We also explore delegation of rights and using of a credentials repository <span class="twikiNewLink">MyProxy<a href="/bin/edit/Education/SummerGridWorkshop/MyProxy?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="MyProxy (this topic does not yet exist; you can create it)">?</a></span>.</p>
<p />
<p> The exercise uses tools like <i>globusrun-ws</i> and <i>globus-url-copy</i> to execute jobs on the grid and move files across machines respectively. This exercise does not deal in detail with those tools, but focuses more on the security aspects. These tools and realted technology will be discussed in lectures and exercises later this week.</p>
<p />
<h4><a name="Notes_information"></a> Notes information </h4>
<p />
<ul>
<li><p>These notes have been written to lead you through the exercises on
your own and provide commands to type, expected output and notes
highlighting the key aspects of a particular step. Feel free to ask
the TAs for help if you have any problems or have any questions. </p>
<p />
<li><p> These notes have transcripts from runs on machine <b><i>gridlab1</i></b>. Replace that with your machine name wherever appropriate. </p>
<p />
<li><p> The exercise notes was prepared by running as user <b><i>train31</i></b>. Replace that with your username in all command line parameters.</p>
<p />
<p />
<p />
<li><p>You will see two styles of machine text here:</p>
<pre class="in transcript">Text like this is input that you should type.</pre>
<pre class="out transcript">Text like this is the output you should get.</pre>
<p />
<p>For example:</p>
<p />
<p class="transcript">
<code><span class="out">$</span> <span class="in">date</span><br />
<span class="out">Wed May 31 11:54:58 BST 2006</span></code>
</p>
<p />
</ul>
<p />
<h3><a name="Basic_steps"></a> Basic steps </h3>
<p />
<ol>
<li> <h4> Logging on to remote machine </h4>
<p />
<p> From local laptop ssh into remote Linux server as described in the previous exercise. </p>
<p />
<p class="transcript">
<code>
<span class="out">@:~&gt;</span>
<span class="in">
ssh <a href="mailto&#58;train31&#64;gridlab1&#46;phys&#46;utb&#46;edu">train31&#64;gridlab1.phys.utb.edu</a>
</span><br>
<span class="out">
Enter passphrase for key '/homes/train31/.ssh/id_rsa':<br> 
Last login: Tue Jun 20 12:04:39 2006 from 140.221.9.72<br>
[train31@gridlab1 ~]$ 
</span></code>
</p>
</li>
<p />
<li> <h4> Check GLOBUS_LOCATION setup  </h4>
<p />
The machine is set up with Globus Toolkit install and an
environment variable GLOBUS_LOCATION pointing to the install should be
set up.
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">echo $GLOBUS_LOCATION</span>
<span class="out">/opt/globus
[train31@gridlab1 ~]$ 
</span>
</pre>
<p />
<p> The command line clients that are installed as part of Globus Toolkit have already been added to your PATH.</p>
</li>
</ol>
<p />
<h3><a name="Certificates"></a> Certificates </h3>
<p />
<ol>
<li> <h4> Default Credential Location </h4>
<p />
<p> By default the user certificate and user key are installed in
<code>~/.globus</code>. Unless overriden explicitly on command line,
the clients use these credentials. </p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">ls -lt ~/.globus/</span>
<span class="out">total 12
-rw-------  1 train31 train31 1743 Jun 22 16:45 userkey.pem
-rw-------  1 train31 train31 5011 Jun 22 16:37 usercert.pem
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p><b>Notes:</b>
<ul>
<p />
<li> The userkey.pem is the file containing encrypted private key. The
permissions on that file are restrictive, such that only the owner can
read or write to that file.
<li> The usercert.pem is the certificate, containting the public
key. This file is not encrypted and can be distributed freely.
</ul>
</p>
</li>
<p />
<li> <h4> Certificate Contents </h4>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grid-cert-info</span>
<span class="out">Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number: 923 (0x39b)
        Signature Algorithm: md5WithRSAEncryption
        Issuer: C=US, O=SDSC, OU=SDSC-CA, CN=Certificate Authority/UID=certman
        Validity
            Not Before: Jun 22 00:46:02 2006 GMT
            Not After : Jul  2 00:46:02 2006 GMT
        Subject: C=US, O=SDSC, OU=SDSC, CN=Account Train31/UID=train31
        Subject Public Key Info:
            Public Key Algorithm: rsaEncryption
            RSA Public Key: (2048 bit)
                Modulus (2048 bit):
                    00:af:93:40:80:ce:14:68:d6:6c:67:89:45:0c:3e:
                    30:98:38:35:c9:bd:b5:08:00:17:4c:e1:fb:38:50:
                    bd:97:f5:41:92:e7:6e:c4:6f:dc:ad:52:2c:e0:2a:
                    54:83:79:45:fb:5d:e2:f5:a5:cf:42:94:45:98:22:
                    d9:5b:81:93:e2:46:5f:e0:7f:71:5f:2d:b0:4a:82:
                    21:7d:f2:41:f7:b6:33:eb:59:93:f1:71:e3:79:ea:
                    c0:1b:5e:07:c6:d5:c2:67:41:56:73:d8:1f:a3:fb:
                    32:4b:f5:96:9f:65:f5:0a:f0:28:d5:90:d6:b0:dc:
                    4b:29:85:aa:8b:b7:d5:c0:f3:45:28:f9:af:80:7a:
                    88:40:40:21:60:ea:14:cd:8a:8e:53:40:67:c5:47:
                    51:bc:95:76:1e:90:b0:ee:ee:41:5a:ec:d4:4c:3c:
                    ea:eb:2f:f1:55:82:d8:b2:36:d9:92:88:bd:b6:93:
                    eb:46:69:3b:3a:e2:15:54:82:c0:30:4b:a9:54:3c:
                    af:52:4e:a5:71:40:a1:58:21:2e:ab:6d:c4:7c:59:
                    5d:68:b6:95:80:0e:12:91:51:90:0e:38:84:3f:de:
                    07:99:43:86:a1:0f:70:01:2f:3c:bf:e3:47:b2:16:
                    67:eb:00:6b:c4:7d:d8:e5:39:77:ac:29:cc:76:94:
                    2b:d3
                Exponent: 65537 (0x10001)
        X509v3 extensions:
            X509v3 Basic Constraints: 
                CA:FALSE
            Netscape Cert Type: 
                SSL Client, S/MIME, Object Signing
            Netscape Comment: 
                OpenSSL Generated Certificate
            Netscape CA Revocation Url: 
                http://www.sdsc.edu/CA/SDSC_CRL.pem
            X509v3 Subject Key Identifier: 
                E1:E3:C9:6E:A6:CF:2C:FC:D3:B7:51:F6:03:66:98:C5:18:71:60:F8
            X509v3 Authority Key Identifier: 
                keyid:BF:A3:87:2C:F6:0D:74:BD:48:6C:0E:27:BF:01:E4:F2:4F:46:BA:27
                DirName:/C=US/O=SDSC/OU=SDSC-CA/CN=Certificate Authority/UID=certman
                serial:00

    Signature Algorithm: md5WithRSAEncryption
        93:b2:78:07:d9:72:e2:71:d7:66:83:0c:d3:97:0c:9e:24:33:
        4e:e3:48:28:9c:44:7e:31:13:70:cc:f8:4a:5d:bc:64:84:3e:
        aa:fa:da:86:3f:5e:f8:4a:72:a1:59:57:5a:89:49:5a:2d:c9:
        09:5c:a5:69:6e:65:f7:85:8b:07:57:f1:6a:cb:6e:e5:00:17:
        5d:02:0a:b5:52:6f:92:93:5b:94:c3:84:59:66:f4:29:f1:6a:
        a2:ff:eb:5d:6a:89:43:1a:82:cf:d7:66:d3:f6:f6:b6:ba:45:
        02:ec:60:86:88:00:4d:09:53:fc:7e:a7:cd:71:d8:ff:72:4f:
        36:1f:15:b1:af:ca:d3:8c:ac:4c:1b:99:5a:de:98:7a:81:22:
        c3:c3:3f:65:04:06:b7:5b:de:1a:65:f1:69:74:51:67:bc:0d:
        d2:00:cd:f0:c1:b2:c1:12:ba:6a:30:01:4c:98:fe:7a:bb:a8:
        d8:1e:61:39:9f:c4:c3:f4:f5:ba:be:43:13:75:84:fe:82:93:
        a9:00:3e:35:75:60:f7:8c:68:58:74:ed:27:c6:99:49:a8:e4:
        c0:27:32:1f:5c:b0:06:ed:63:d7:f7:79:89:11:d2:4e:5d:31:
        33:6e:d4:fd:90:51:4b:65:29:c6:6c:68:55:e6:2d:41:6a:c1:
        58:2b:f4:d3
[train31@gridlab1 ~]$ 
</span></pre>
<p />
<p> <b> Notes:</b>
  <ul>
    <li> Since no parameters were specified on command line, the
    default credentials were used. Try the same command with
    <code>-help</code> to look at other options. We will use some
    later in the exercise.
<p />
    <li> Issuer DN is the DN of the Certificate Authority who issues
    the certificate.
<p />
    <li> Note that the certificate has validity that determines valid
    from and valid till.
<p />
    <li> The <i>Subject:</i> is the Distinguished Name that this
    certificate is bound to.
<p />
    <li> The Key information is the public key
<p />
    <li> The CA generates a digest of the key and other binding
    information (validity, DN and so on) and signs it. The signature
    is included at the end of the cerificate.
<p />
    <li> The algorithm used to generate digest and sign is important
        information, since the same algorithms should be applied at
        verification.
  </ul>
</p>
</li>
<p />
<li> <h4> Using certificates to transfer file </h4>
<p />
<p>The client <i>globus-url-copy</i> can be used to transfer files on the grid. It uses the <span class="twikiNewLink">GridFTP<a href="/bin/edit/Education/SummerGridWorkshop/GridFTP?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="GridFTP (this topic does not yet exist; you can create it)">?</a></span> server to transfer the files. This requires that the client who is requesting transfer have valid credentials and be authorized to the transfer. We will go into authorization step later, for now you are already authorized, so lets try the  client.</p>
<p />
<ol>
<li> In case you already have a proxy, run the following. If not, proceed to next step.
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grid-proxy-destroy </span>
<span class="out">[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p> If the above returns an error, like following, ignore and proceed to next step.
<p />
<pre class="transcript"/>
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grid-proxy-destroy </span>
<span class="out">ERROR: Proxy file doesn't exist or has bad permissions
Use -debug for further information.
[train31@gridlab1 ~]$ </span>
</pre>
</li>
<p />
<li> Set environment variables so that certificate and key are used, since by default <i>globus-url-copy</i> uses proxy certificates.
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">export X509_USER_CERT=.globus/usercert.pem</span>
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">export X509_USER_KEY=.globus/userkey.pem</span>
<span class="out">[train31@gridlab1 ~]$ </span>
</pre>
<p />
<li> Create a temporary file to move using <i>globus-url-copy</i>. You can use some text editor (say Vi) to create it and add some contents. For example:
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">more tempFile
</span><span class="out">Temporary file for testing globus-url-copy
[train31@gridlab1 ~]$ </span>
</pre>
</li>
<p />
<li> Use <i>globus-url-copy</i> to move the file. 
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">globus-url-copy gsiftp://localhost:2811/home/train31/tempFile gsiftp://localhost:2811/home/train31/destFile</span>
<span class="out">
error: globus_xio: Unable to connect to loclahost:2811
globus_xio: globus_libc_getaddrinfo failed.
globus_common: Name or service not known
[train31@gridlab1 ~]$ globus-url-copy gsiftp://localhost:2811/home/train31/tempFile gsiftp://localhost:2811/home/train31/destFile

error: globus_ftp_control: gss_init_sec_context failed
globus_gsi_gssapi: Error with gss credential handle
globus_credential: Valid credentials could not be found in any of the possible locations specified by the credential search order.
Valid credentials could not be found in any of the possible locations specified by the credential search order.

Attempt 1

globus_credential: Error reading host credential
globus_sysconfig: Error with certificate filename
globus_sysconfig: Error with certificate filename
globus_sysconfig: File is not owned by current user: /etc/grid-security/hostcert.pem is not owned by current user

Attempt 2

globus_credential: Error reading proxy credential
globus_sysconfig: Could not find a valid proxy certificate file location
globus_sysconfig: Error with key filename
globus_sysconfig: File does not exist: /tmp/x509up_u502 is not a valid file

Attempt 3

globus_credential: Error reading user credential
globus_credential: Key is password protected: GSI does not currently support password protected private keys.
OpenSSL Error: pem_lib.c:401: in library: PEM routines, function PEM_do_header: bad password read

[train31@gridlab1 ~]$ </span>
</pre>
<p />
</li>
<p />
<p />
<p><b>Notes:</b>
<ul>
<li> The client first attempts to authenticate with the server, to prove its identity. To do that it needs valid credentials.
<li> The command attempts to use host credentials, then proxy
(that does not exist) and then finally attempts to use user
credentials.
<li> The command failed since the private key is encrypted.
<li> A warm body will be required each time to enter the
passphrase. To alleviate the problems ssociated with this, that is to
sign on once and run numerous time, we use proxies.  </ul>
</p>
<p />
<li> Unset variables to use default locations
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">unset X509_USER_CERT</span>
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">unset X509_USER_KEY</span>
<span class="out">[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p />
</ol>
</li>
</ol>
<p />
<h3><a name="Proxy_certificates"></a> Proxy certificates </h3>
<ol>
<li> <h4>Creating proxy certificate</h4>
<p />
<p> The command <i>grid-proxy-init</i> is used to create proxies.</p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grid-proxy-init</span>
<span class="out">our identity: /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31
Enter GRID pass phrase for this identity:
phrase is too short, needs to be at least 4 chars
Enter GRID pass phrase for this identity:
Creating proxy .......................................... Done
Your proxy is valid until: Fri Jun 23 22:00:10 2006
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p><b>Notes:</b>
<ul>
<li> The proxy is created using the user certificate and the key.
<li> The passphrase entered is used to decrypt the private key file.
</ul>
</p>
</li>
<p />
<li> <h4>Contents of proxy</h4>
<p />
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grid-proxy-info -all</span>
<span class="out">subject  : /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31/CN=203360020
issuer   : /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31
identity : /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31
type     : Proxy draft (pre-RFC) compliant impersonation proxy
strength : 512 bits
path     : /tmp/x509up_u539
timeleft : 11:58:58
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p><b>Notes:</b>
<ul>
<li> The subject of the proxy certificate is the distingushed name from certificate appended with a uniqe string of numbers.
<li> The issuer of the proxy is the user certificate itself. So there is a chain of trust from CA to user certificate to proxy certificate.
<li> The path indicates where the proxy is stored. That is the default location for uid 502.
<li> Time left indicates the validity of the proxy from current time.  
</ul>
</p>
</li>
<p />
<p> The proxy certificate contains the private key generated for proxy, correspnding public key and is signed like a certificate by the user certificate. So we can run <i>grid-cert-info</i> on the proxy certificate to see its contents.</p>
<p />
<p><b>Note:</b> The path to your proxy file is in the output of <i>grid-proxy-info</i>. The value after <i>path :</i> in the above step.</p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grid-cert-info -file /tmp/x509up_u539</span>
<span class="out">Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number: 203360020 (0xc1f0714)
        Signature Algorithm: md5WithRSAEncryption
        Issuer: C=US, O=SDSC, OU=SDSC, CN=Account Train31/UID=train31
        Validity
            Not Before: Jun 23 14:55:10 2006 GMT
            Not After : Jun 24 03:00:10 2006 GMT
        Subject: C=US, O=SDSC, OU=SDSC, CN=Account Train31/UID=train31, CN=203360020
        Subject Public Key Info:
            Public Key Algorithm: rsaEncryption
            RSA Public Key: (512 bit)
                Modulus (512 bit):
                    00:b8:75:e3:a4:3c:31:9e:b9:71:e8:b0:4e:fc:18:
                    69:e6:79:15:90:f4:0f:49:20:f0:e3:62:9f:e2:92:
                    d0:96:4c:9b:b5:97:12:b3:bd:87:c7:8c:2f:bb:b0:
                    fe:79:8c:3d:61:5e:49:f6:c1:46:e1:1e:08:d1:d7:
                    89:a0:e3:8a:f3
                Exponent: 65537 (0x10001)
        X509v3 extensions:
            1.3.6.1.4.1.3536.1.222: critical
                0.0
..+.......
    Signature Algorithm: md5WithRSAEncryption
        45:05:52:c7:9f:a7:35:32:d9:a8:be:58:92:a7:b0:61:e4:7a:
        2a:a2:36:0f:eb:65:0e:0f:ca:40:3d:0e:27:8b:38:14:a6:af:
        51:7d:28:2f:ac:3e:3e:05:7b:ea:d6:0e:fc:78:7d:eb:60:80:
        6a:74:43:64:ef:ca:e8:25:fe:d3:07:a9:4d:e0:54:4a:75:9f:
        c9:8e:9a:1e:82:19:a4:fc:72:a3:6f:0d:de:33:57:d8:f8:cd:
        da:d2:bc:8a:ee:48:34:4b:00:3e:7e:b7:5e:66:fa:2e:5c:22:
        4a:50:98:02:32:c6:e3:a9:07:b7:bb:e6:4d:02:e8:6c:d4:48:
        5e:55:ec:ed:a9:38:ee:b8:33:60:88:c1:ab:38:ce:d8:53:a3:
        ac:c3:a2:c1:d8:1e:95:5b:e5:3a:3f:d1:e0:51:c2:5e:82:e0:
        a4:48:d3:e6:82:66:56:d9:6b:e0:a5:1e:85:4d:3d:d7:e0:4e:
        03:ce:f7:5a:63:cd:5c:9a:38:96:59:0f:92:11:6b:eb:ed:34:
        1a:55:73:e1:c0:b0:91:ea:b4:1e:3b:8d:0f:2d:53:83:10:98:
        44:19:ac:39:6d:1a:6b:37:90:60:6a:35:9b:c6:41:2e:5a:ef:
        ae:54:6c:9e:51:b8:68:c2:97:83:2f:72:25:df:90:b9:bc:31:
        92:23:45:77
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p><b>Notes:</b>
<ul>
<li> This is useful when we want to see the exact valid from and valid till of the proxy certificate.
<li> The contents are similar to the certificate, but the issuer is the user certificate DN.
</ul>
</p>
<p />
<li> <h4>Using Proxy Certificate to transfer file</h4>
<p />
<p> 
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">globus-url-copy gsiftp://localhost:2811/home/train31/tempFile gsiftp://localhost:2811/home/train31/destFile</span><span class="out">
[train31@gridlab1 ~]$ </span><span class="in">ls -lt destFile</span><span class="out">
rw-r--r--  1 train31 train31 43 Jun 23 10:04 destFile</span><span class="out">
[train31@gridlab1 ~]$ </span><span class="in">more destFile</span>
<span class="out">Temporary file for testing globus-url-copy
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p><b>Notes:</b>
<ul>
<li> <i>globus-url-copy</i> picks up the proxy from default location and uses that to authenticate with the <span class="twikiNewLink">GridFTP<a href="/bin/edit/Education/SummerGridWorkshop/GridFTP?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="GridFTP (this topic does not yet exist; you can create it)">?</a></span> server.
<li> Authentication establishes your identity. Note that identity in proxy certificate is still your certificate's identity. 
<li> Upon successful authentication, the server knows the client is who it claims to be. 
<li> It then checks to see if the identity to authorized to transfer files and uses Grid Map Authorization to determine this. We have already set up the gridmap to allow your identity. We will learn more about this later in the exercise.
</ul>
</p>
</li>
<p />
<li> <h4>Proxy lifetime implications</h4>
<p />
<p>By default proxy valid for 12 hours is created, but the validity of proxy can be specified on command line.</p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">date</span>
<span class="out">Fri Jun 23 10:06:01 CDT 2006
[train31@gridlab1 ~]$</span>
</pre>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in"> grid-proxy-init -valid 0:1</span>
<span class="out">Your identity: /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31
Enter GRID pass phrase for this identity:
Creating proxy ........................................ Done
Your proxy is valid until: Fri Jun 23 10:07:10 2006
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grid-proxy-info</span>
<span class="out">subject  : /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31/CN=24915772
issuer   : /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31
identity : /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31
type     : Proxy draft (pre-RFC) compliant impersonation proxy
strength : 512 bits
path     : /tmp/x509up_u539
timeleft : 0:00:52
[train31@gridlab1 ~]$</span>
</pre>
<p />
<p><b>Notes:</b>
<ul>
<li> The proxy requested was for 1 minute and <i>grid-proxy-info</i> shows the valid time left.
<li> The proxy lifetime cannot be greater than the certificate that issues it.
</ul>
</p>
</li>
<p />
<li> <h4>Attempt to use expired proxy</h4>
<p />
<p> Wait for a minute after the previous <i>grid-proxy-init</i> run before you try this step. The proxy file will exist, but would have expired.</p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">date</span>
<span class="out">Fri Jun 23 10:07:35 CDT 2006
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grid-proxy-info</span>
<span class="out">subject  : /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31/CN=24915772
issuer   : /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31
identity : /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31
type     : Proxy draft (pre-RFC) compliant impersonation proxy
strength : 512 bits
path     : /tmp/x509up_u539
timeleft : 0:00:00
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">globus-url-copy gsiftp://localhost:2811/home/train31/tempFile gsiftp://localhost:2811/home/train31/expiredTest</span>
<span class="out">error: globus_ftp_control: gss_init_sec_context failed
globus_gsi_gssapi: Error with GSI credential
globus_gsi_gssapi: Error with gss credential handle
globus_credential: Error with credential: The proxy credential: /tmp/x509up_u539
      with subject: /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31/CN=24915772
      expired 1 minutes ago.
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in"> ls -lt expiredTest</span>
<span class="out">ls: expiredTest: No such file or directory
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p><b>Notes:</b>
<ul>
<li> The error indicates that the proxy file has expired. So the client was not able to successfully authenticate with server and the file was not transfered.
</ul>
</p>
</li>
</ol>
<p />
<h3><a name="Obtaining_a_new_certificate"></a> Obtaining a new certificate </h3>
<p />
<p>A valid certificate was already installed for you and configuration
was set up to use it. In this step we will attempt to get a new
certificate from Globus Certificate Service. Globus Certificate
Service(GCS) is a web-based CA service that issues certificates. </p>
<p />
<p>These are not secure certificates since anyone can obtain
certificates from this CA and are generally used for testing. But since an
infrastructure needs to trust a CA for anyone to use the certificate
issued by the CA, issuing such certificates doesn't pose any security
threat. For instance the certificates you obtain from this CA can be
used to submit jobs or transfer files on the server running on your
local machine, but will fail if you submit jobs on the remote
cluster, since the cluster does not trust GCS CA.</p>
<p />
<ol>
<li><p> The first step is to create a certificate request. </p>
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grid-cert-request -dir testCerts</span>
<span class="out">Enter your name, e.g., John Smith: Trainee 31
A certificate request and private key is being created.
You will be asked to enter a PEM pass phrase.
This pass phrase is akin to your account password, 
and is used to protect your key file.
If you forget your pass phrase, you will need to
obtain a new certificate.

Generating a 1024 bit RSA private key
..........++++++
...............++++++
writing new private key to '/home/train31/testCerts/userkey.pem'
Enter PEM pass phrase:
Verifying - Enter PEM pass phrase:
...
A private key and a certificate request has been generated with the subject:

/C=US/O=Globus Alliance/OU=User/CN=Trainee 31

If the CN=Trainee 31 is not appropriate, rerun this
script with the -force -cn "Common Name" options.

Your private key is stored in /home/train31/testCerts/userkey.pem
Your request is stored in /home/train31/testCerts/usercert_request.pem
..
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p><b>Notes:</b>
<ul>
<li> The command will ask for a pass phrase and this is used to encrypt the provate key.
<li> The <constant>-dir</constant> option stores the created certificates in the specified directory. This is so that we don't overwrite the certificates in the default directory
<li>Ignore notes on emailing it. We will upload it.
</ul> 
</p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">ls -lt testCerts/</span>
<span class="out">total 8
-rw-r--r--  1 train31 train31 1322 Jun 23 10:10 usercert_request.pem
-r--------  1 train31 train31  963 Jun 23 10:10 userkey.pem
-rw-r--r--  1 train31 train31    0 Jun 23 10:10 usercert.pem
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p><b>Notes:</b>
<ul>
<li> The <constant>testCerts</constant> directory has three files. The usercert_request.pem is the request that the CA needs to sign.
<li> The userkey.pem is the file with encrypted private key. Note the permissions on the file.
<li> The usercert.pem is a place holder for the signed certificate obtained from the CA. That file has size zero for now.
</ul>
</p>
</li>
<p />
<li> <p>Now the request needs to be signed by the CA. In our case the GCS.The GCS allows for the certificate request to be pasted on to their webpage. In your browser open <a href="http://gcs.globus.org:8080/gcs/index.html">Globus Certificate Service</a></p>
</li>
<li> <p>Click on Acquiring User Certificate under the section
<i>Available Services</i></p>
<p />
<li> <p>The steps 1 and 2 have already been completed and the CA
certificate has been installed on your machine.</li></p>
<p />
<li> <p>Choose the second option which reads: <b><i>Paste the certificate
request text in the box below</i></b></p>
<p />
<li> <p>Open <constant>testCerts/usercert_request.pem</constant> and paste the
complete contents in the text box.</p>
<p />
<li><p> The service returns the signed certificate. Copy the contents from <b><i>----BEGIN CERTIFICATE----</i></b> to <b><i>----END CERTIFICATE----</i></b> into <constant>testCerts/usercert.pem</constant></p>
<p />
<li> <h4>Proxy certificate using GCS Certificates</h4>
<p />
<p> First we need to ensure the GCS certificates have been installed correctly and a proxy can be generated.</p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grid-proxy-init -cert testCerts/usercert.pem -key testCerts/userkey.pem -out gcsProxy -verify
</span><span class="out">Your identity: /C=US/O=Globus Alliance/OU=User/CN=10c00791bfb.54294d53
Enter GRID pass phrase for this identity:
Creating proxy ............................................ Done
Proxy Verify OK
Your proxy is valid until: Fri Jun 23 22:14:26 2006
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p><b>Notes:</b>
<ul>
<l> The certificate name is chosen in random by GCS. This is because there is no explicit Registration Authority to determine that the name is unique.
<li> <constant>-cert</constant> and <constant>-key</constant> options allow for specifying non-default certificate and key file locations.
<li> <constant>-out</constant> allows for non-default proxy file location.
<li> <constant>-verify</constant> ensure that the certificates used to
create proxy and the CA are installed correctly and valid.
</ul>
<p />
<p> The contents of this proxy can be viewed using the <i>grid-proxy-info</i>
</p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grid-proxy-info -file gcsProxy </span>
<span class="out">subject  : /C=US/O=Globus Alliance/OU=User/CN=10c00791bfb.54294d53/CN=1488313937
issuer   : /C=US/O=Globus Alliance/OU=User/CN=10c00791bfb.54294d53
identity : /C=US/O=Globus Alliance/OU=User/CN=10c00791bfb.54294d53
type     : Proxy draft (pre-RFC) compliant impersonation proxy
strength : 512 bits
path     : gcsProxy
timeleft : 11:58:33
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p><b>Notes:</b>
<ul>
<li> <constant>-file</constant> allows for non-default proxy file location.
<li> Environment variable <i>X509_USER_PROXY</i> can be set to proxy
location and these tools will use that rather than default
location. 
<li> Note that the issuer of the proxy is the DN from your GCS certificate.
</ul>
</p>
<p />
</p>
</li>
</ol>
<p />
<h3><a name="Using_GCS_credentials"></a> Using GCS credentials </h3>
<p />
<ol>
<li> <h4> Setup clients to use GCS proxy</h4>
<p />
<p> To use the proxy genrated from your new credentials from GCS, set environment variable <i>X509_USER_PROXY</i> to point to your proxy file.</p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">export X509_USER_PROXY=gcsProxy</span>
<span class="out">[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p />
</li>
<li> <h4> Using GCS credentials to transfer file to remote server</h4>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">globus-url-copy gsiftp://localhost:2811/home/train31/tempFile gsiftp://tg-login.ncsa.teragrid.org:2811/tmp/train31TestFile
</span><span class="out">error: globus_ftp_client: the server responded with an error
535 535-FTPD GSSAPI error: GSS Major Status: Authentication Failed
535-FTPD GSSAPI error: GSS Minor Status Error Chain:
535-FTPD GSSAPI error: 
535-FTPD GSSAPI error: accept_sec_context.c:170: gss_accept_sec_context: SSLv3 handshake problems
535-FTPD GSSAPI error: globus_i_gsi_gss_utils.c:881: globus_i_gsi_gss_handshake: Unable to verify remote side's credentials
535-FTPD GSSAPI error: globus_i_gsi_gss_utils.c:854: globus_i_gsi_gss_handshake: SSLv3 handshake problems: Couldn't do ssl handshake
535-FTPD GSSAPI error: OpenSSL Error: s3_srvr.c:1816: in library: SSL routines, function SSL3_GET_CLIENT_CERTIFICATE: no certificate returned
535-FTPD GSSAPI error: globus_gsi_callback.c:351: globus_i_gsi_callback_handshake_callback: Could not verify credential
535-FTPD GSSAPI error: globus_gsi_callback.c:443: globus_i_gsi_callback_cred_verify: Could not verify credential: self signed certificate in certificate chain
535 FTPD GSSAPI error: accepting context
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p><b>Notes:</b>
<ul>
<li> The above error indicates that the authentication failed because
the CA who signed the certificate from which the proxy was created is
not trusted on that machine. 
<li> Note that the lifetime of proxy and certificates is valid. But
since the chain of trust starts from the CA and the CA is not trusted,
authentication fails.
</ul>
</p>
<p />
<p> Just to make sure your command is accurate, lets unset that X509_USER_PROXY variable and submit using your SDSC issued certificate. You'll see that you are able to transfer, because that CA is trusted on that server.</p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">unset X509_USER_PROXY</span>
<span class="out">[train31@gridlab1 ~]$ </span>
</pre>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">globus-url-copy gsiftp://localhost:2811/home/train31/tempFile gsiftp://tg-login.ncsa.teragrid.org:2811/tmp/train31TestFile</span>
<span class="out">[train31@gridlab1 ~]$ </span>
</pre>
<p />
</li>
<p />
<li> <h4> Using GCS credentials to transfer file  with in local cluster</h4>
<p />
<p> Now lets try running the same command using the GCS Proxy to transfer file with in local cluster. This cluster has been set up to trust GCS CA. In this example gridlab1 is local machine and gridlab2 is remote machine. Please use appropriate machines in your run.</p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">export X509_USER_PROXY=gcsProxy</span>
<span class="out">[train31@gridlab1 ~]$ </span>
</pre>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">globus-url-copy gsiftp://localhost:2811/home/train31/tempFile gsiftp://gridlab2.phys.utb.edu:2811/tmp/train31Test</span>
<span class="out">error: globus_ftp_client: the server responded with an error
530 530-Login incorrect. :<br> globus_gss_assist: Gridmap lookup failure: <br>Could not map /C=US/O=Globus Alliance/OU=User/CN=10c00791bfb.54294d53
530-
530 End.
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p><b>Notes:</b>
<ul>
<li> The transfer fails here with authorization exceptions. 
<li> The client authenticated with the server and the server established your identity as the DN specified in the error message. In this case <i>/C=US/O=Globus Alliance/OU=User/CN=10c00791bfb.54294d53</i>.
<li> But the identity established in authentication is not authorized to use the service. The service uses <span class="twikiNewLink">GridMap<a href="/bin/edit/Education/SummerGridWorkshop/GridMap?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="GridMap (this topic does not yet exist; you can create it)">?</a></span> authorization, where a mapping of of authorized identities (DNs) is mapped to local user names.
</ul>
</p>
</li>
<p />
</li>
<p />
<li> <h4> Contents of <span class="twikiNewLink">GridMap<a href="/bin/edit/Education/SummerGridWorkshop/GridMap?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="GridMap (this topic does not yet exist; you can create it)">?</a></span> file</h4>
<p />
<p>The local <span class="twikiNewLink">GridFTP<a href="/bin/edit/Education/SummerGridWorkshop/GridFTP?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="GridFTP (this topic does not yet exist; you can create it)">?</a></span> service and the one on remote machine is configured to use a gridmap file located in <constant>etc/grid-security/gridmap-file</constant>. This file is write protected so only administrators can change it to give access. But the file can be read by anyone. </p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">more /etc/grid-security/grid-mapfile </span>
<span class="out"> # $Id: GridLab2.txt,v 1.16 2006/06/26 15:23:15 RachanaAnanthakrishnan Exp apache $
# $Source: /var/www/twiki/data/SummerGridWorkshop/GridLab2.txt,v $
#
# Automatically generated by gx-gen-mapfile (gx-map 0.5.1)
# at Fri 2006-06-23 15:26:02 UTC on gridlab1.phys.utb.edu.
# DO NOT EDIT THIS FILE.  ANY CHANGES YOU MAKE WILL BE LOST ON THE NEXT UPDATE.
#
"/C=US/O=Globus Alliance/OU=User/CN=101497d3dcd.3dcd5aef" ranantha
"/C=US/O=Globus Alliance/OU=User/CN=10bd8f410f6.5f0086b4" benc
"/C=US/O=Globus Alliance/OU=User/CN=10bf234e01a.ac286cfa" ranantha
"/C=US/O=SDSC/OU=SDSC/CN=Account Train10/UID=train10" train10
"/C=US/O=SDSC/OU=SDSC/CN=Account Train11/UID=train11" train11
"/C=US/O=SDSC/OU=SDSC/CN=Account Train12/UID=train12" train12
"/C=US/O=SDSC/OU=SDSC/CN=Account Train13/UID=train13" train13
"/C=US/O=SDSC/OU=SDSC/CN=Account Train14/UID=train14" train14
"/C=US/O=SDSC/OU=SDSC/CN=Account Train15/UID=train15" train15
"/C=US/O=SDSC/OU=SDSC/CN=Account Train16/UID=train16" train16
"/C=US/O=SDSC/OU=SDSC/CN=Account Train17/UID=train17" train17
"/C=US/O=SDSC/OU=SDSC/CN=Account Train18/UID=train18" train18
"/C=US/O=SDSC/OU=SDSC/CN=Account Train19/UID=train19" train19
...
"/C=US/O=SDSC/OU=SDSC/CN=Account Train58/UID=train58" train58
"/C=US/O=SDSC/OU=SDSC/CN=Account Train59/UID=train59" train59
"/C=US/O=SDSC/OU=SDSC/CN=Account Train60/UID=train60" train60
"/DC=org/DC=doegrids/OU=People/CN=Gaurang Mehta 998137" gmehta
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p><b>Notes:</b>
<ul>
<li> This gridmap file has been created using a tool (it can also be hand written).
<li> Only the listed DNs are allowed to access the GRAM server.
<li> Each entry is a mapping from DN to username. For example DN <i>/C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31</i> is mapped to usename <i>train31</i>.
<li> Note that the identity presented by credenitals you used in previous step is not in the gridmap file. 
</ul> 
</p>
</li>
<p />
<li> <h4> Using gx-gridmap to add GCS certificate DN to gridmap</h4>
<p />
<p> Typically an administrator is required to add users to the gridmap file and is an out of band activity. The tool <i>gx-gridmap</i>, if set up by the admnistator, can be used by anyone who has access to a machine to add an identity to the gridmap file. The actual addition is not instant and it might take a few minutes to reflect on the gridmap file.</p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">gx-request -quick-add</span>
<span class="out">About to map distinguished name
    "/C=US/O=Globus Alliance/OU=User/CN=10c00791bfb.54294d53"
to user
    train31
Proceed? [yn] </span><span class="in">y</span>
<span class="out">Mapping request submitted.
The grid-mapfile should be updated in a few minutes
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p> This update may take a few minutes. You can look for the update by searching the gridmap file for your DN.<p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grep "/C=US/O=Globus Alliance/OU=User/CN=10c00791bfb.54294d53" /etc/grid-security/grid-mapfile </span><span class="out">
[train31@gridlab1 ~]$ </span><span class="in">grep "/C=US/O=Globus Alliance/OU=User/CN=10c00791bfb.54294d53" /etc/grid-security/grid-mapfile </span>
<span class="out">"/C=US/O=Globus Alliance/OU=User/CN=10c00791bfb.54294d53" train31
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p> You have to do a similar step in the remote machine (i.e gridlab2 in this example). </p>
<p />
<p> First, let us get the DN we want mapped on the remote machine.</p>
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grid-proxy-info -subject</span>
<span class="out">/C=US/O=Globus Alliance/OU=User/CN=10c00791bfb.54294d53/CN=1488313937
[trian31@gridlab2 ~]$ </span>
</pre>
<p />
<p> The output needs to be pasted in the command you run on remote machine. In a second terminal, ssh to the remote machine</p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">ssh gridlab2</span><span class="out">
[trian31@gridlab2 ~]$ </span><span class="in">gx-request -interactive
</span>
<span class="out">he gx-request command lets you submit a request to modify the
Globus grid-mapfile(s) on one or more machines.  Once the request
is submitted, the updates should occur within a few minutes.

A grid-mapfile entry maps a DN (Distinguished Name) to a Unix
user name.  For example, an entry like
    "/O=Big University/OU=Small Department/CN=John Doe" jdoe
allows a user holding a Globus certificate with the specified
DN to run Globus jobs under the Unix account "jdoe".

gx-request can be run interactively or with command-line arguments.

In this interactive mode, you will be asked a series of questions.
Enter your responses followed by <return>.

Single-letter menu responses are case-insensitive; other responses
must be entered exactly.

If there is a default response indicated by the prompt, you can
enter it by just typing <return>.

(a) Add a grid-mapfile entry
(r) Remove a grid-mapfile entry
(u) Request an update of the grid-mapfiles
(x) Exit
(The "set" operation is not currently available in interactive mode.)
What do you want to do? [arux] </span><span class="in">a</span>
<span class="out">You can specify the DN in one of the following ways:
(c) Certificate, extract from /home/train31/.globus/usercert.pem
(f) File, extract from a specified certificate file
(i) Input the DN directly
(x) Exit
How do you want to specify the DN? [cfix]</span><span class="in">i</span>
<span class="out">Enter distinguished name: </span><span class="in">/C=US/O=Globus Alliance/OU=User/CN=10c00791bfb.54294d53/CN=1488313937</span>
<span class="out">ou may provide your e-mail address if you wish.
It will be recorded in the request log, and may be used
to contact you if there is a problem with your certificate.
E-mail address (<return> for none): 

You may provide an optional comment.
If you do, it will be recorded in the request log.
Press return if you don't wish to provide a comment.
Comment: 

About to map distinguished name
    "/C=US/O=Globus Alliance/OU=User/CN=10c00791bfb.54294d53"
to user
    train31
Proceed? [yn]</span><span class="in">y</span>
<span class="out">Mapping request submitted.
The grid-mapfile should be updated in a few minutes
[train31@gridlab2 ~]$ </span>
</pre>
<p />
<p> Again, the update takes a few minutes.</p>
<p />
</li>
<p />
<li> <h4> Using GCS trusted credentials to transfer file with in local server</h4>
<p />
<p> Now that the gridmap file has been updated such that your identity is authorized to submit jobs, lets try the command again.</p>
<p />
<pre class="transcript">
<span class="out">
[train31@gridlab1 ~]$ </span><span class="in">globus-url-copy gsiftp://localhost:2811/home/train30/tempFile gsiftp://gridlab2.phys.utb.edu:2811/tmp/train31Test 
</span><span class="out">
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p>Notes:</p>
<ul>
<li> The client authenticated succesfully with the server. So the server knows the identity of the client
<li> A handshake occured between the client and server to establish a &quot;context&quot;, which is a secret key used to secure the message.
<li> The request and response was then signed using that context, so that it cannot be tampered with.
<li> We can explicitly request for this message to be encrypted, so that no one else can read it. Then the same context is used to encrypt the message.
</ul>
</li>
</ol>
<p />
<p> To ensure the transfer occured, lets ssh to remote machine and look for file.</p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">ssh gridlab2</span>
<span class="out">
[train31@gridlab2 ~]$ </span><span class="in">ls -lt /tmp/train31Test</span>
<span class="out">-rw-r--r--  1 train31 train31 43 Jun 23 12:07 /tmp/train31Test
[train31@gridlab2 ~]$ </span>
</pre>
<h3><a name="Delegation_of_credentials"></a> Delegation of credentials </h3>
<p />
<p> Delegation is where you empower another entity to act as you for some period of time. In this exercise we will try to submit a job that uses <span class="twikiNewLink">GridFTP<a href="/bin/edit/Education/SummerGridWorkshop/GridFTP?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="GridFTP (this topic does not yet exist; you can create it)">?</a></span> to copy the executable <i>whoami</i> from local machine, run the executable on the remote machine, save output to a file and use <span class="twikiNewLink">GridFTP<a href="/bin/edit/Education/SummerGridWorkshop/GridFTP?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="GridFTP (this topic does not yet exist; you can create it)">?</a></span> to transfer file back to local machine. </p>
<p />
<p> The following job description can be used for doing the above</p>
<pre>

&lt;job&gt;
                    &lt;executable&gt;my_whoami&lt;/executable&gt;
                    &lt;directory&gt;${GLOBUS_USER_HOME}&lt;/directory&gt;

                    &lt;stdout&gt;${GLOBUS_USER_HOME}/stdout&lt;/stdout&gt;
                    &lt;stderr&gt;${GLOBUS_USER_HOME}/stderr&lt;/stderr&gt;
                    &lt;fileStageIn&gt;
                    &lt;transfer&gt;
                    &lt;sourceUrl&gt;gsiftp://gridlab2.phys.utb.edu:2811/usr/bin/whoami&lt;/sourceUrl
&gt;
                    &lt;destinationUrl&gt;gsiftp://gridlab2.phys.utb.edu:2811/${GLOBUS_USER_HOME}/
my_whoami&lt;/destinationUrl&gt;
                    &lt;/transfer&gt;
                    &lt;/fileStageIn&gt;
                    &lt;fileStageOut&gt;
                    &lt;transfer&gt;
                    &lt;sourceUrl&gt;gsiftp://gridlab2.phys.utb.edu:2811/${GLOBUS_USER_HOME}/stdou
t&lt;/sourceUrl&gt;
                    &lt;destinationUrl&gt;gsiftp://gridlab1.phys.utb.edu:2811/tmp/train31DelTest&lt;/
destinationUrl&gt;
                    &lt;/transfer&gt;
                    &lt;/fileStageOut&gt;
                    &lt;fileCleanUp&gt;
                    &lt;deletion&gt;
                    &lt;file&gt;file:///${GLOBUS_USER_HOME}/my_whoami&lt;/file&gt;
                    &lt;/deletion&gt;
                    &lt;/fileCleanUp&gt;
                    &lt;/job&gt;

</pre>
<p />
<ol>
<p />
<li><p> Copy the RSL above and paste to file called <i>rsl</i>. Replace <i>train31DelegTest</i> with some other filename. The output will be written to this file.</p>
<p />
<li> <h4> Use non-GCS credential</h4>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">unset X509_USER_PROXY</span>
<span class="out">[train31@gridlab1 ~]$ </span>
</pre>
<p />
<li> <h4> Submit job to run globus-url-copy on remote machine</h4>
<p />
<p> Try to submit without delegation option <i>-S</i>.</p>
<p />
<p><pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">globusrun-ws -F https://gridlab2.phys.utb.edu:8443/wsrf/services/ManagedJobFactoryService -submit -f rsl 
</span>
<span class="out">Submitting job...Done.
Job ID: uuid:028f85e0-023d-11db-bb44-000feae0c5a8
Termination time: 06/23/2006 22:18 GMT
Current job state: StageIn
Current job state: Failed
Destroying job...Done.
globusrun-ws: Job failed: Staging error for RSL element fileStageIn.
A stagingCredentialEndpoint element was not specified in the RSL, but is needed for staging.
[train31@gridlab1 ~]$ </span>
</pre>
</p>
<p />
<p> Above error indicates no delegated credential was found for staging (transfering) of files to occur.</p>
</li>
<p />
<li> <h4> Submit job with delegation to run globus-url-copy on remote machine</h4>
<p />
<p> Run same command with <i>-S</i> option.</p>
<p />
<p><pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">globusrun-ws -F https://gridlab2.phys.utb.edu:8443/wsrf/services/ManagedJobFactoryService -S -submit -f rsl 
</span>
<span class="out">Delegating user credentials...Done.
Submitting job...Done.
Job ID: uuid:306922c8-023d-11db-b66c-000feae0c5a8
Termination time: 06/23/2006 22:19 GMT
Current job state: StageIn
Current job state: Active
Current job state: StageOut
Current job state: CleanUp
Current job state: Done
Destroying job...Done.
Cleaning up any delegated credentials...Done.
[train31@gridlab1 ~]$ </span>
</pre>&lt;/p/&gt;
<p>Notes:</p>
<ul>
<li> Note that credentials are delegated now
<li> If you open the output file in /tmp/, you should see the result of running whoami on the remote machine. 
<li> Also the delegated credentials are destroyed so as to prevent any misuse.
</ul>
</li>
</ol>
<p />
<h3><a name="Using_MyProxy"></a> Using <span class="twikiNewLink">MyProxy<a href="/bin/edit/Education/SummerGridWorkshop/MyProxy?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="MyProxy (this topic does not yet exist; you can create it)">?</a></span> </h3>
<p />
<p>A <span class="twikiNewLink">MyProxy<a href="/bin/edit/Education/SummerGridWorkshop/MyProxy?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="MyProxy (this topic does not yet exist; you can create it)">?</a></span> server is running on your local machine and we will use
that to see how we can manage your credentials using the <span class="twikiNewLink">MyProxy<a href="/bin/edit/Education/SummerGridWorkshop/MyProxy?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="MyProxy (this topic does not yet exist; you can create it)">?</a></span>
Server.</p>
<p />
<ol>
<li><h4> Loading proxy into <span class="twikiNewLink">MyProxy<a href="/bin/edit/Education/SummerGridWorkshop/MyProxy?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="MyProxy (this topic does not yet exist; you can create it)">?</a></span> Server </h4></li>
<p />
<p> This steps creates a proxy on the <span class="twikiNewLink">MyProxy<a href="/bin/edit/Education/SummerGridWorkshop/MyProxy?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="MyProxy (this topic does not yet exist; you can create it)">?</a></span> Server. For this exercise we will use the credentials that was pre-configured for you, so unset environment variable. Also, there is no need for a local proxy at this point, so we remove it. </p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">unset X509_USER_PROXY</span>
<span class="out">[train31@gridlab1 ~]$ </span>
</pre>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grid-proxy-destroy</span>
<span class="out">[train31@gridlab1 ~]$ </span>
</pre>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grid-proxy-info</span>
<span class="out">ERROR: Couldn't find a valid proxy.
Use -debug for further information.
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">myproxy-init -s gridlab1</span>
<span class="out">Your identity: /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31
Enter GRID pass phrase for this identity:
Creating proxy ............................... Done
Proxy Verify OK
Your proxy is valid until: Fri Jun 30 10:34:27 2006
Enter MyProxy pass phrase:
Verifying - Enter MyProxy pass phrase:
Verify failure
Error entering passphrase.
[train31@gridlab1 ~]$ myproxy-init -s gridlab1
Your identity: /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31
Enter GRID pass phrase for this identity:
Creating proxy .......................................................... Done
Proxy Verify OK
Your proxy is valid until: Fri Jun 30 10:34:42 2006
Enter MyProxy pass phrase:
Verifying - Enter MyProxy pass phrase:
A proxy valid for 168 hours (7.0 days) for user train31 now exists on gridlab1.
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p><b>Notes:</b>
<ul>
<li> The first pass phrase is to decrypt your private key.
<li> The second pass phrase is one to protect your login on the <span class="twikiNewLink">MyProxy<a href="/bin/edit/Education/SummerGridWorkshop/MyProxy?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="MyProxy (this topic does not yet exist; you can create it)">?</a></span> server.
<li> A credential exists for you on the server now, but there are no local credentials.
</ul>
</p>
</li>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grid-proxy-info</span>
<span class="out">ERROR: Couldn't find a valid proxy.
Use -debug for further information.
[train31@gridlab1 ~]$ </span>
</pre>
<p />
</li>
<p />
<li> <h4> Accessing credentials from <span class="twikiNewLink">MyProxy<a href="/bin/edit/Education/SummerGridWorkshop/MyProxy?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="MyProxy (this topic does not yet exist; you can create it)">?</a></span> Server </h4>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">myproxy-logon -s gridlab1</span>
<span class="out">Enter MyProxy pass phrase:
A credential has been received for user train31 in /tmp/x509up_u539.
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p><b>Notes:</b>
<ul>
<li> The pass phrase here is the <span class="twikiNewLink">MyProxy<a href="/bin/edit/Education/SummerGridWorkshop/MyProxy?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="MyProxy (this topic does not yet exist; you can create it)">?</a></span> pass phrase, rather than your credential.
<li> A local copy of proxy certificate with lifetime of 12 hours  exists now.
</ul>
</p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">grid-proxy-info </span>
<span class="out">subject  : /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31/CN=1046308089/CN=398902167/CN=947386583
issuer   : /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31/CN=1046308089/CN=398902167
identity : /C=US/O=SDSC/OU=SDSC/CN=Account Train31/UID=train31
type     : Proxy draft (pre-RFC) compliant impersonation proxy
strength : 1024 bits
path     : /tmp/x509up_u539
timeleft : 11:59:42
[train31@gridlab1 ~]$ </span>
</pre>
<p />
</li>
<p />
<li> <h4>Using credentials from <span class="twikiNewLink">MyProxy<a href="/bin/edit/Education/SummerGridWorkshop/MyProxy?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="MyProxy (this topic does not yet exist; you can create it)">?</a></span> Server for globus-url-copy</h4>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">\rm myProxyTest </span>
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">ls -lt myProxyTest</span>
<span class="out">ls: myProxyTest: No such file or directory
[train31@gridlab1 ~]$ </span><span class="in">globus-url-copy gsiftp://localhost:2811/home/train31/tempFile gsiftp://localhost:2811/home/train31/myProxyTest</span>
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">ls -lt myProxyTest</span>
<span class="out">-rw-r--r--  1 train31 train31 43 Jun 23 10:37 myProxyTest
[train31@gridlab1 ~]$ </span><span class="in">more myProxyTest</span> 
<span class="out">Temporary file for testing globus-url-copy
[train31@gridlab1 ~]$ </span>
</pre>
</li>
<p />
<li> <h4>Using credentials from <span class="twikiNewLink">MyProxy<a href="/bin/edit/Education/SummerGridWorkshop/MyProxy?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="MyProxy (this topic does not yet exist; you can create it)">?</a></span> Server for globusrun-ws</h4>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">globusrun-ws -submit -s -c /usr/bin/whoami</span>
<span class="out">Delegating user credentials...Done.
Submitting job...Done.
Job ID: uuid:7915c350-02ce-11db-97df-000feae0c5a8
Termination time: 06/24/2006 15:39 GMT
Current job state: Active
Current job state: CleanUp-Hold
train31
Current job state: CleanUp
Current job state: Done
Destroying job...Done.
Cleaning up any delegated credentials...Done.
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p />
<p><b>Notes:</b>
<ul>
<li> The job sumitted returns your login name. 
<li> Since the output of the job needs to be streamed back to the client using <span class="twikiNewLink">GridFTP<a href="/bin/edit/Education/SummerGridWorkshop/GridFTP?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="GridFTP (this topic does not yet exist; you can create it)">?</a></span>, user credentials have to be delegated.
</ul>
</p>
<p />
</li>
<p />
<li> <h4>Running globusrun-ws from a different machine</h4>
<p />
<p> Swap machines with your friend. Attempt to run the job from previous step. You should see the login of your friend, in this case <i>ranantha</i> </p>
<p />
<pre class="transcript">
<span class="out">[ranantha@gridlab2 ~]$ </span><span class="in">globusrun-ws -submit -s -c /usr/bin/whoami</span>
<span class="out">Delegating user credentials...Done.
Submitting job...Done.
Job ID: uuid:e1b9ef26-02ce-11db-a207-000feae0c5a8
Termination time: 06/24/2006 15:42 GMT
Current job state: Active
Current job state: CleanUp-Hold
ranantha
Current job state: CleanUp
Current job state: Done
Destroying job...Done.
Cleaning up any delegated credentials...Done.
[ranantha@gridlab1 ~]$ </span>
</pre>
<p />
<p> Now download credentials from your <span class="twikiNewLink">MyProxy<a href="/bin/edit/Education/SummerGridWorkshop/MyProxy?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="MyProxy (this topic does not yet exist; you can create it)">?</a></span> Server and attempt to run the job again. Your username on the <span class="twikiNewLink">MyProxy<a href="/bin/edit/Education/SummerGridWorkshop/MyProxy?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="MyProxy (this topic does not yet exist; you can create it)">?</a></span> server is your login name, since we did not override it on command line when you did myproxy-init</p>
<p />
<pre class="transcript">
<span class="out">[ranantha@gridlab1 ~]$ </span><span class="in">myproxy-logon -s gridlab1 -l train31</span>
<span class="out">Enter MyProxy pass phrase:
A credential has been received for user train31 in /tmp/x509up_u502.
[ranantha@gridlab1 ~]$ </span>
</pre>
<p />
<p> The above overwrites your friend's credntial with yours from <span class="twikiNewLink">MyProxy<a href="/bin/edit/Education/SummerGridWorkshop/MyProxy?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="MyProxy (this topic does not yet exist; you can create it)">?</a></span> server. Attempt running the job now, you should see your own login name, since the credentials are yours. </p>
<p />
<pre class="transcript">
<span class="out">[ranantha@gridlab2 ~]$ </span><span class="in">globusrun-ws -submit -s -c /usr/bin/whoami</span>
<span class="out">elegating user credentials...Done.
Submitting job...Done.
Job ID: uuid:12e40e7e-02cf-11db-87ab-000feae0c5a8
Termination time: 06/24/2006 15:43 GMT
Current job state: Active
Current job state: CleanUp-Hold
train31
Current job state: CleanUp
Current job state: Done
Destroying job...Done.
Cleaning up any delegated credentials...Done.
[ranantha@gridlab1 ~]$ </span>
</pre>
<p />
<p> Remember to destroy your proxy from your friend's machine!</p>
<pre class="transcript">
<span class="out">[ranantha@gridlab1 ~]$ </span><span class="in">grid-proxy-destroy </span>
<span class="out">[ranantha@gridlab1 ~]$ </span>
</pre>
</li>
<p />
<li> <h4>Deleting your credentials from <span class="twikiNewLink">MyProxy<a href="/bin/edit/Education/SummerGridWorkshop/MyProxy?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="MyProxy (this topic does not yet exist; you can create it)">?</a></span> Server</h4>
<p />
<p> Use <i>myproxy-destroy</i> to remove your credentials from the server. You should have valid credentials to do that.</p>
<p />
<pre class="transcript">
<span class="out">[train31@gridlab1 ~]$ </span><span class="in">myproxy-destroy  -s gridlab1</span>
<span class="out">Default MyProxy credential for user train31 was successfully removed.
[train31@gridlab1 ~]$ </span>
</pre>
<p />
<p />
</li>
</li>
</ol>
<p />
</body>
</html>
<p />
<html>
<p />
<html></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Education/SummerGridWorkshop<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Education/GridWorkshops" class="twikiLink">GridWorkshops</a> &gt; <a href="/bin/view/Education/SummerGridWorkshop" class="twikiLink">SummerGridWorkshop</a> &gt; <a href="/bin/view/Education/SummerGridWorkshop/SummerGridSyllabus2006" class="twikiLink">SummerGridSyllabus2006</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>GridLab2</span> <br />    
Topic revision: r16 - 26 Jun 2006 - 15:23:15 - <span class="twikiNewLink">RachanaAnanthakrishnan<a href="/bin/edit/Education/SummerGridWorkshop/RachanaAnanthakrishnan?topicparent=Education/SummerGridWorkshop.GridLab2" rel="nofollow" title="RachanaAnanthakrishnan (this topic does not yet exist; you can create it)">?</a></span>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />