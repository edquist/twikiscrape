<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> UserSchool16Tue12LoginScp &lt; Education &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Education/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Education/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Education/UserSchool16Tue12LoginScp?_T=16 Feb 2017" type="application/x-wiki" title="edit UserSchool16Tue12LoginScp" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Education/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Education/UserSchool16Tue12LoginScp"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#D0D0D0;
	}
	.patternBookView {
		border-color:#D0D0D0;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">

@import url('/pub/Documentation/Tools/exercises.css ');

</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Tuesday_Exercise_1_2_Log_in_to_t"></a> Tuesday Exercise 1.2: Log in to the OSG Submit Machine </h1>
<p />
The goal of this exercise is to log on to a different submit host so that you can start submitting jobs into the OSG instead of the local cluster here at UW-Madison. Additionally, you will learn about the <code>tar</code> and <code>scp</code> commands, which will allow you to efficiently copy files between the two submit nodes.
<p />
If you have trouble getting <code>ssh</code> access to the submit machine, ask the instructors right away! Gaining access is critical for all remaining exercises.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Log_in_to_the_OSG_submit_machine"></a> Log in to the OSG submit machine </span></h2>
<p />
For some of the remaining exercises today, you will be using a machine named <code>osg-learn.chtc.wisc.edu</code>. The username and password are listed on your 'Accounts' paper that you received yesterday. If you no longer have it, please ask the instructors for help.
<p />
Once you have your account details, <code>ssh</code> in to the machine and take a look around.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Preparing_files_for_transfer"></a> Preparing files for transfer </span></h2>
<p />
When transferring files between computers, it's best to limit the number of files as well as their size. Smaller files transfer more quickly and if your network connection drops, restarting the transfer is less painful than it would be if you were transferring large files.
<p />
Archiving tools (WinZip, 7zip, Archive Utility, etc.) can compress the size of your files and place them into a single, smaller archive file. The <code>tar</code> command is a one-stop shop for creating, extracting, and viewing the contents of <code>tar</code> archives (called tarballs) whose usage is as follows:
<p /> <ul>
<li> To <strong>create</strong> a tarball named <code>&lt;archive filename&gt;</code> containing <code>&lt;archive contents&gt;</code>, use the following command: <pre class="screen">$> <strong>tar -czvf &lt;archive filename&gt; &lt;archive contents&gt;</strong></pre> <p> Where <code>&lt;archive filename&gt;</code> should end in <code>.tar.gz</code> and <code>&lt;archive contents&gt;</code> can be a list of any number of files and/or folders, separated by spaces.</p>
</li> <li> To <strong>extract</strong> the files from a tarball into the current directory: <pre class="screen">$> <strong>tar -xzvf &lt;archive filename&gt;</strong></pre>
</li> <li> To <strong>list</strong> the files within a tarball: <pre class="screen">$> <strong>tar -tzvf &lt;archive filename&gt;</strong></pre>
</li></ul> 
<p />
Using the above knowledge, log into <code>learn.chtc.wisc.edu</code>, create a tarball that contains Monday's exercise 2.4 directory, and verify that it contains all the proper files.
<p />
<h3><a name="Extra_challenge_Comparing_compre"></a> Extra challenge: Comparing compressed sizes </h3>
<p />
You can adjust the level of compression of <code>tar</code> by prepending your command with <code>GZIP=--<span style="background-color: #FFCCFF;">&lt;COMPRESSION&gt;</span></code>, where <code><span style="background-color: #FFCCFF;">&lt;COMPRESSION&gt;</span></code> can be either <code>fast</code> for the least compression, or <code>best</code> for the most compression (the default compression is between <code>best</code> and <code>fast</code>).
<p /> <ol>
<li> There is a large file containing random text located on our web server. Pull it down with the following command: <pre class="screen">$> <strong>wget http://proxy.chtc.wisc.edu/SQUID/osgschool16/random_text</strong></pre>
</li> <li> Use <code>tar</code> on the file to create a table with tarball file sizes vs compression level.
</li></ol> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Transferring_files"></a> Transferring files </span></h2>
<p />
<h3><a name="Using_secure_copy"></a> Using secure copy </h3>
<p />
<a href="https://en.wikipedia.org/wiki/Secure_copy" target="_top">Secure copy</a> (<code>scp</code>) is a command based on <code>SSH</code> that lets you securely copy files between two different hosts. It takes similar arguments to the <code>cp</code> command that you are familiar with but also takes additional host information:
<p />
<pre class="screen">
$> <strong>scp &lt;source 1&gt; &lt;source 2&gt;...&lt;source N&gt; &lt;remote host&gt;:&lt;remote path&gt; 
</strong></pre>
<p />
For example, if I were logged in to <code>learn.chtc.wisc.edu</code> and wanted to copy the file <code>foo</code> from my current directory to my home directory on <code>osg-learn.chtc.wisc.edu</code>, the command would look like this:
<p />
<pre class="screen">
$> <strong>scp foo osg-learn.chtc.wisc.edu:~
</strong></pre>
<p />
Additionally, I could also pull files from <code>osg-learn.chtc.wisc.edu</code> to <code>learn.chtc.wisc.edu</code>. The following command copies <code>bar</code> from my home directory on <code>osg-learn.chtc.wisc.edu</code> to my current directory on <code>learn.chtc.wisc.edu</code>:
<p />
<pre class="screen">
$> <strong>scp osg-learn.chtc.wisc.edu:~/bar .
</strong></pre>
<p />
You can also copy folders between hosts using the <code>-r</code> option. If I kept all my files from Monday's exercise 1.3 in a folder named <code>monday-1.3</code> on <code>learn.chtc.wisc.edu</code>, I could use the following command to copy them to my home directory on <code>osg-learn.chtc.wisc.edu</code>:
<p />
<pre class="screen">
$> <strong>scp -r monday-1.3 osg-learn.chtc.wisc.edu:~
</strong></pre>
<p />
Try copying the tarball you created earlier in this exercise on <code>learn.chtc.wisc.edu</code> to <code>osg-learn.chtc.wisc.edu</code>
<p />
<h3><a name="Extra_challenge_Using_rsync"></a> Extra challenge: Using rsync </h3>
<p />
<code>scp</code> is a great, ubiquitous tool for one-time transfers but if you find yourself transferring the same set of files to the same location repeatedly, there are better tools to use. Another common tool available on many linux machines is <code>rsync</code>, which is like a beefed-up version of <code>scp</code>. The invocation is similar to <code>scp</code>: you can transfer files and/or folders, but the options are different and when transferring folders, make sure they don't have a trailing slash (<code>/</code>, this means to copy all the files within the folder instead of the folder itself):
<p />
<pre class="screen">
$> <strong>rsync -Pavz &lt;source 1&gt; &lt;source 2&gt;...&lt;source N&gt; &lt;remote host&gt;:&lt;remote path&gt; 
</strong></pre>
<p />
<code>rsync</code> has many options but one of its biggest features is the ability to only transfer files that have changed. This feature is also helpful when you're having connectivity issues so that you don't have to restart the transfer from scratch every time your connection fails.
<p /> <ol>
<li> Use <code>rsync</code> to transfer the folder containing today's exercise 1.1 to <code>osg-learn.chtc.wisc.edu</code>
</li> <li> Create a new file in your exercise 1.1 folder on <code>learn.chtc.wisc.edu</code> with the <code>touch</code> command:    <pre class="screen">$> <strong>touch &lt;filename&gt;</strong></pre>
</li> <li> Use the same <code>rsync</code> command to transfer the folder with the new file you just created. How many files were transferred the first time? How about the second time?
</li></ol> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Next_exercise"></a> Next exercise </span></h2>
<p />
Once completed, move onto the next exercise: <a href="/bin/view/Education/UserSchool16Tue13SubmitOSG" class="twikiLink">Running jobs in the OSG</a></div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Education<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="/bin/view/Education/OSGUserSchool2016" class="twikiLink">OSGUserSchool2016</a> &gt; <a href="/bin/view/Education/UserSchool16Materials" class="twikiLink">UserSchool16Materials</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>UserSchool16Tue12LoginScp</span> <br />    
Topic revision: r8 - 26 Jul 2016 - 13:40:54 - <a href="/bin/view/Main/BrianLin" class="twikiLink">BrianLin</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />