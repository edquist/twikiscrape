<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> OSGSS2011CondorSimpleDAG &lt; Education &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Education/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Education/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Education/OSGSS2011CondorSimpleDAG?_T=16 Feb 2017" type="application/x-wiki" title="edit OSGSS2011CondorSimpleDAG" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Education/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Education/OSGSS2011CondorSimpleDAG"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiPref.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twiki_edit.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern_edit.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">
#patternTopBar,
#patternTopBarContentsOuter {
	height:95px; /* top bar height; make room for header columns */
}
#twikinetTopToolBar,
#twikinetTopToolBar table {
	top:95px; /* top bar height */
	height:48px;
}
#patternClearHeaderCenter,
#patternClearHeaderLeft,
#patternClearHeaderRight {
	height:144px; /* 95 + border + 48 */
}
#twikinetLogo {
	position:absolute;
	width:100%;
	height:95px;
}
#twikinetLogo a {
	position:absolute;
	display:block;
	width:179px;
	height:65px;
	background:none;
	top:10px;
	left:340px;
}
#twikinetLogo a:link, 
#twikinetLogo a:visited {
	border:none;
}
#twikinetLogo a:hover {
	border-style:none none solid none;
	border-width:1px;
	border-color:#c4cbd6;
}
#twikinetLogo a span {
	display:none;
}
#patternOuter {
	margin-left:220px;
}
#patternLeftBar {
	width:220px;
	margin-left:-220px;
}
</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#D0D0D0;
	}
	.patternBookView {
		border-color:#D0D0D0;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">

@import url('/pub/Documentation/Tools/exercises.css ');

</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternRawViewPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternWrapper"><div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain"><div id="patternClearHeaderCenter"></div>
<div id="patternMainContents"><div class="patternTop"><span class="patternHomePath"><span class="patternHomePathTitle">You are here: </span> <a href="/bin/view/Main/WebHome" class="twikiLink">TWiki    </a><span class='twikiSeparator'>&gt;</span><img src="/twiki/pub/TWiki/TWikiDocGraphics/web-bg-small.gif" border="0" alt="" width="13" height="13" style="background-color:#D0D0D0" />&nbsp;<a href="/bin/view/Education/WebHome">Education Web</a><span class='twikiSeparator'>&gt;</span><a href="/bin/view/Education/GridWorkshops" class="twikiLink">GridWorkshops</a><span class='twikiSeparator'>&gt;</span><a href="/bin/view/Education/OSGSummerSchool2011" class="twikiLink">OSGSummerSchool2011</a><span class='twikiSeparator'>&gt;</span><a href="/bin/view/Education/OSGSS2011Materials" class="twikiLink">OSGSS2011Materials</a><span class='twikiSeparator'>&gt;</span><a href="https://twiki.opensciencegrid.org/bin/view/Education/OSGSS2011CondorSimpleDAG" title='Topic revision: 2 (22 Jun 2011 - 15:10:48)'>OSGSS2011CondorSimpleDAG</a> <span class='patternRevInfo'>(22 Jun 2011, <span class="twikiNewLink">AlainRoy<a href="/bin/edit/Education/AlainRoy?topicparent=Education.OSGSS2011CondorSimpleDAG" rel="nofollow" title="AlainRoy (this topic does not yet exist; you can create it)">?</a></span>)</span> (raw view)</span><!-- /patternHomePath--></div><!--/patternTop--><div class="twikiContentHeader"></div><div class="patternContent"><div class="patternTopic"> <textarea name=""  rows="22    " cols="70    " readonly="readonly" style="width: 99%    " id="topic" class="twikiTextarea twikiTextareaRawView">---+ Coordinating set of jobs: A simple DAG

&lt;div style=&quot;margin-left: 1em; margin-right: 1em; border: 1px solid black; padding: 0.5em;&quot;&gt;
---+++ Objective of this exercise
The objective of this exercise is to learn the very basics of running a set of jobs, where our set is just one job. 
&lt;/div&gt;

---++ What is DAGMan?

Your tutorial leader will introduce you to DAGMan and DAGs. In short, DAGMan, lets you submit complex sequences of jobs as long as they can be expressed as a directed acylic graph. For example, you may wish to run a large parameter sweep but before the sweep run you need to prepare your data. After the sweep runs, you need to collate the results. This might look like this, assuming you want to sweep over five parameters: 

&lt;center&gt;&lt;img src=&quot;%ATTACHURLPATH%/SimpleDag.gif&quot; alt=&quot;SimpleDag.gif&quot; width=&#39;480&#39; height=&#39;267&#39;/&gt; &lt;/center&gt;

DAGMan has many abilities, such as throttling jobs, recovery from failures, and more. More information about DAGMan can be found at  [[http://www.cs.wisc.edu/condor/manual/v7.6/2_10DAGMan_Applications.html][in the Condor manual]].

---++ Submitting a simple DAG

We&#39;re going to go back to the &quot;simple&quot; example that we did first. (The one with the job that slept and multiplied a number by 2.) Make sure that you have a submit file has only one queue command in it, as when we first wrote it. And we will just run vanilla universe jobs for now, though we could equally well run standard universe jobs. 

&lt;pre style=&quot;margin-left:4em&quot; class=&quot;screen&quot;&gt;
Universe                = vanilla
Executable              = simple
Arguments               = 4 10
Log                     = simple.log
Output                  = simple.out
Error                   = simple.error
should_transfer_files   = YES
when_to_transfer_output = ON_EXIT
Queue
&lt;/pre&gt;

Make sure you&#39;ve built the =simple= program. If you need to, go back to [[OSS2011CondorFirstJob][the instructions for your first job]] to do it again.

We are going to get a bit more sophisticated in submitting our jobs now. Let&#39;s have three windows open. In one window, you&#39;ll submit the job. In another you will watch the queue, and in the third you will watch what DAGMan does.

First we will create the most minimal DAG that can be created: a DAG with just one node. Put this into a file named =simple.dag=.

&lt;pre style=&quot;margin-left:4em&quot; class=&quot;screen&quot;&gt;
Job Simple submit
&lt;/pre&gt;

In your first window, submit the DAG: 

&lt;pre style=&quot;margin-left:4em&quot; class=&quot;screen&quot;&gt;
% condor_submit_dag simple.dag
-----------------------------------------------------------------------
File for submitting this DAG to Condor           : simple.dag.condor.sub
Log of DAGMan debugging messages                 : simple.dag.dagman.out
Log of Condor library output                     : simple.dag.lib.out
Log of Condor library error messages             : simple.dag.lib.err
Log of the life of condor_dagman itself          : simple.dag.dagman.log

Submitting job(s).
1 job(s) submitted to cluster 126130.
-----------------------------------------------------------------------

% condor_reschedule   %RED% May be necessary, but only if things seem a bit sluggish %ENDCOLOR%
Sent &quot;Reschedule&quot; command to local schedd
&lt;/pre&gt;

In the second window, watch the queue:

&lt;pre style=&quot;margin-left:4em&quot; class=&quot;screen&quot;&gt;
% watch -n 10 condor_q -sub %RED%YOUR-LOGIN-NAME%ENDCOLOR%

-- Submitter: vdt-itb.cs.wisc.edu : &lt;198.51.254.90:52713&gt; : vdt-itb.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
126130.0   roy             6/21 17:12   0+00:00:09 R  0   4.9  condor_dagman     

1 jobs; 0 idle, 1 running, 0 held

-- Submitter: vdt-itb.cs.wisc.edu : &lt;198.51.254.90:52713&gt; : vdt-itb.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
126130.0   roy             6/21 17:12   0+00:00:19 R  0   4.9  condor_dagman     
126131.0   roy             6/21 17:13   0+00:00:00 I  0   0.7  simple 4 10       

2 jobs; 1 idle, 1 running, 0 held

-- Submitter: vdt-itb.cs.wisc.edu : &lt;198.51.254.90:52713&gt; : vdt-itb.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
126130.0   roy             6/21 17:12   0+00:00:24 R  0   4.9  condor_dagman     
126131.0   roy             6/21 17:13   0+00:00:05 R  0   0.7  simple 4 10       

2 jobs; 0 idle, 2 running, 0 held

-- Submitter: vdt-itb.cs.wisc.edu : &lt;198.51.254.90:52713&gt; : vdt-itb.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
126130.0   roy             6/21 17:12   0+00:00:26 R  0   4.9  condor_dagman     

1 jobs; 0 idle, 1 running, 0 held

-- Submitter: vdt-itb.cs.wisc.edu : &lt;198.51.254.90:52713&gt; : vdt-itb.cs.wisc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               

0 jobs; 0 idle, 0 running, 0 held

&lt;i&gt;Ctrl-C&lt;/i&gt;
&lt;/pre&gt;

In the third window, watch what DAGMan does: 

&lt;pre style=&quot;margin-left:4em&quot; class=&quot;screen&quot;&gt;
%  tail -f --lines=500 simple.dag.dagman.out
06/21/11 17:12:57 Setting maximum accepts per cycle 4.
06/21/11 17:12:57 ******************************************************
06/21/11 17:12:57 ** condor_scheduniv_exec.126130.0 (CONDOR_DAGMAN) STARTING UP
06/21/11 17:12:57 ** /usr/bin/condor_dagman
06/21/11 17:12:57 ** SubsystemInfo: name=DAGMAN type=DAGMAN(10) class=DAEMON(1)
06/21/11 17:12:57 ** Configuration: subsystem:DAGMAN local:&lt;NONE&gt; class:DAEMON
06/21/11 17:12:57 ** $CondorVersion: 7.6.1 May 31 2011 BuildID: 339001 $
06/21/11 17:12:57 ** $CondorPlatform: x86_rhap_5 $
06/21/11 17:12:57 ** PID = 19438
06/21/11 17:12:57 ** Log last touched time unavailable (No such file or directory)
06/21/11 17:12:57 ******************************************************
06/21/11 17:12:57 Using config source: /etc/condor/condor_config
06/21/11 17:12:57 Using local config sources: 
06/21/11 17:12:57    /etc/condor/condor_config.local
06/21/11 17:12:57 DaemonCore: command socket at &lt;198.51.254.90:36155&gt;
06/21/11 17:12:57 DaemonCore: private command socket at &lt;198.51.254.90:36155&gt;
06/21/11 17:12:57 Setting maximum accepts per cycle 4.
06/21/11 17:12:57 DAGMAN_VERBOSITY setting: 3
06/21/11 17:12:57 DAGMAN_DEBUG_CACHE_SIZE setting: 5242880
06/21/11 17:12:57 DAGMAN_DEBUG_CACHE_ENABLE setting: False
06/21/11 17:12:57 DAGMAN_SUBMIT_DELAY setting: 0
06/21/11 17:12:57 DAGMAN_MAX_SUBMIT_ATTEMPTS setting: 6
06/21/11 17:12:57 DAGMAN_STARTUP_CYCLE_DETECT setting: False
06/21/11 17:12:57 DAGMAN_MAX_SUBMITS_PER_INTERVAL setting: 5
06/21/11 17:12:57 DAGMAN_USER_LOG_SCAN_INTERVAL setting: 5
06/21/11 17:12:57 allow_events (DAGMAN_IGNORE_DUPLICATE_JOB_EXECUTION, DAGMAN_ALLOW_EVENTS) setting: 114
06/21/11 17:12:57 DAGMAN_RETRY_SUBMIT_FIRST setting: True
06/21/11 17:12:57 DAGMAN_RETRY_NODE_FIRST setting: False
06/21/11 17:12:57 DAGMAN_MAX_JOBS_IDLE setting: 0
06/21/11 17:12:57 DAGMAN_MAX_JOBS_SUBMITTED setting: 0
06/21/11 17:12:57 DAGMAN_MAX_PRE_SCRIPTS setting: 0
06/21/11 17:12:57 DAGMAN_MAX_POST_SCRIPTS setting: 0
06/21/11 17:12:57 DAGMAN_ALLOW_LOG_ERROR setting: False
06/21/11 17:12:57 DAGMAN_MUNGE_NODE_NAMES setting: True
06/21/11 17:12:57 DAGMAN_PROHIBIT_MULTI_JOBS setting: False
06/21/11 17:12:57 DAGMAN_SUBMIT_DEPTH_FIRST setting: False
06/21/11 17:12:57 DAGMAN_ABORT_DUPLICATES setting: True
06/21/11 17:12:57 DAGMAN_ABORT_ON_SCARY_SUBMIT setting: True
06/21/11 17:12:57 DAGMAN_PENDING_REPORT_INTERVAL setting: 600
06/21/11 17:12:57 DAGMAN_AUTO_RESCUE setting: True
06/21/11 17:12:57 DAGMAN_MAX_RESCUE_NUM setting: 100
06/21/11 17:12:57 DAGMAN_DEFAULT_NODE_LOG setting: null
06/21/11 17:12:57 DAGMAN_GENERATE_SUBDAG_SUBMITS setting: True
06/21/11 17:12:57 ALL_DEBUG setting: 
06/21/11 17:12:57 DAGMAN_DEBUG setting: 
06/21/11 17:12:57 argv[0] == &quot;condor_scheduniv_exec.126130.0&quot;
06/21/11 17:12:57 argv[1] == &quot;-Lockfile&quot;
06/21/11 17:12:57 argv[2] == &quot;simple.dag.lock&quot;
06/21/11 17:12:57 argv[3] == &quot;-AutoRescue&quot;
06/21/11 17:12:57 argv[4] == &quot;1&quot;
06/21/11 17:12:57 argv[5] == &quot;-DoRescueFrom&quot;
06/21/11 17:12:57 argv[6] == &quot;0&quot;
06/21/11 17:12:57 argv[7] == &quot;-Dag&quot;
06/21/11 17:12:57 argv[8] == &quot;simple.dag&quot;
06/21/11 17:12:57 argv[9] == &quot;-CsdVersion&quot;
06/21/11 17:12:57 argv[10] == &quot;$CondorVersion: 7.6.1 May 31 2011 BuildID: 339001 $&quot;
06/21/11 17:12:57 argv[11] == &quot;-Dagman&quot;
06/21/11 17:12:57 argv[12] == &quot;/usr/bin/condor_dagman&quot;
06/21/11 17:12:57 Default node log file is: &lt;/home/roy/condor-test/simple.dag.nodes.log&gt;
06/21/11 17:12:57 DAG Lockfile will be written to simple.dag.lock
06/21/11 17:12:57 DAG Input file is simple.dag
06/21/11 17:12:57 Parsing 1 dagfiles
06/21/11 17:12:57 Parsing simple.dag ...
06/21/11 17:12:57 Dag contains 1 total jobs
06/21/11 17:12:57 Sleeping for 12 seconds to ensure ProcessId uniqueness
06/21/11 17:13:09 Bootstrapping...
06/21/11 17:13:09 Number of pre-completed nodes: 0
06/21/11 17:13:09 Registering condor_event_timer...
06/21/11 17:13:10 Sleeping for one second for log file consistency
06/21/11 17:13:11 MultiLogFiles: truncating log file /home/roy/condor-test/simple.log
06/21/11 17:13:11 Submitting Condor Node Simple job(s)...
%RED%Here&#39;s where the job is submitted%ENDCOLOR%
06/21/11 17:13:11 submitting: condor_submit
                              -a dag_node_name&#39; &#39;=&#39; &#39;Simple
                              -a +DAGManJobId&#39; &#39;=&#39; &#39;126130
                              -a DAGManJobId&#39; &#39;=&#39; &#39;126130
                              -a submit_event_notes&#39; &#39;=&#39; &#39;DAG&#39; &#39;Node:&#39; &#39;Simple
                              -a +DAGParentNodeNames&#39; &#39;=&#39; &#39;&quot;&quot;
                              submit
06/21/11 17:13:11 From submit: Submitting job(s).
06/21/11 17:13:11 From submit: 1 job(s) submitted to cluster 126131.
06/21/11 17:13:11 	assigned Condor ID (126131.0.0)
06/21/11 17:13:11 Just submitted 1 job this cycle...
06/21/11 17:13:11 Currently monitoring 1 Condor log file(s)
06/21/11 17:13:11 Event: ULOG_SUBMIT for Condor Node Simple (126131.0.0)
06/21/11 17:13:11 Number of idle job procs: 1
06/21/11 17:13:11 Of 1 nodes total:
06/21/11 17:13:11  Done     Pre   Queued    Post   Ready   Un-Ready   Failed
06/21/11 17:13:11   ===     ===      ===     ===     ===        ===      ===
06/21/11 17:13:11     0       0        1       0       0          0        0
06/21/11 17:13:11 0 job proc(s) currently held
06/21/11 17:13:21 Currently monitoring 1 Condor log file(s)
%RED%Here&#39;s where DAGMan noticed that the job is running%ENDCOLOR%
06/21/11 17:13:21 Event: ULOG_EXECUTE for Condor Node Simple (126131.0.0)
06/21/11 17:13:21 Number of idle job procs: 0
06/21/11 17:13:26 Currently monitoring 1 Condor log file(s)
%RED%Here&#39;s where DAGMan noticed that the job  finished.%ENDCOLOR%
06/21/11 17:13:26 Event: ULOG_JOB_TERMINATED for Condor Node Simple (126131.0.0)
06/21/11 17:13:26 Node Simple job proc (126131.0.0) completed successfully.
06/21/11 17:13:26 Node Simple job completed
06/21/11 17:13:26 Number of idle job procs: 0
06/21/11 17:13:26 Of 1 nodes total:
06/21/11 17:13:26  Done     Pre   Queued    Post   Ready   Un-Ready   Failed
06/21/11 17:13:26   ===     ===      ===     ===     ===        ===      ===
06/21/11 17:13:26     1       0        0       0       0          0        0
06/21/11 17:13:26 0 job proc(s) currently held
%RED%Here&#39;s where DAGMan noticed that all the work is done.%ENDCOLOR%
06/21/11 17:13:26 All jobs Completed!
06/21/11 17:13:26 Note: 0 total job deferrals because of -MaxJobs limit (0)
06/21/11 17:13:26 Note: 0 total job deferrals because of -MaxIdle limit (0)
06/21/11 17:13:26 Note: 0 total job deferrals because of node category throttles
06/21/11 17:13:26 Note: 0 total PRE script deferrals because of -MaxPre limit (0)
06/21/11 17:13:26 Note: 0 total POST script deferrals because of -MaxPost limit (0)
06/21/11 17:13:26 **** condor_scheduniv_exec.126130.0 (condor_DAGMAN) pid 19438 EXITING WITH STATUS 0

&lt;/pre&gt;

Now verify your results: 

&lt;pre style=&quot;margin-left:4em&quot; class=&quot;screen&quot;&gt;
% cat simple.log
000 (126131.000.000) 06/21 17:13:11 Job submitted from host: &lt;198.51.254.90:52713&gt;
    DAG Node: Simple
...
001 (126131.000.000) 06/21 17:13:17 Job executing on host: &lt;192.168.0.12:47573&gt;
...
005 (126131.000.000) 06/21 17:13:21 Job terminated.
	(1) Normal termination (return value 0)
		Usr 0 00:00:00, Sys 0 00:00:00  -  Run Remote Usage
		Usr 0 00:00:00, Sys 0 00:00:00  -  Run Local Usage
		Usr 0 00:00:00, Sys 0 00:00:00  -  Total Remote Usage
		Usr 0 00:00:00, Sys 0 00:00:00  -  Total Local Usage
	56  -  Run Bytes Sent By Job
	547479  -  Run Bytes Received By Job
	56  -  Total Bytes Sent By Job
	547479  -  Total Bytes Received By Job
...

% cat simple.out
Thinking really hard for 4 seconds...
We calculated: 20
&lt;/pre&gt;

Looking at DAGMan&#39;s various files, we see that DAGMan itself ran as a Condor job (specifically, a scheduler universe job). 

&lt;pre style=&quot;margin-left:4em&quot; class=&quot;screen&quot;&gt;
% ls simple.dag.*
simple.dag.condor.sub  simple.dag.dagman.log  simple.dag.dagman.out  simple.dag.lib.err  simple.dag.lib.out

% cat simple.dag.condor.sub
# Filename: simple.dag.condor.sub
# Generated by condor_submit_dag simple.dag 
universe	= scheduler
executable	= /usr/bin/condor_dagman
getenv		= True
output		= simple.dag.lib.out
error		= simple.dag.lib.err
log		= simple.dag.dagman.log
remove_kill_sig	= SIGUSR1
+OtherJobRemoveRequirements	= &quot;DAGManJobId == $(cluster)&quot;
# Note: default on_exit_remove expression:
# ( ExitSignal =?= 11 || (ExitCode =!= UNDEFINED &amp;&amp; ExitCode &gt;=0 &amp;&amp; ExitCode &lt;= 2))
# attempts to ensure that DAGMan is automatically
# requeued by the schedd if it exits abnormally or
# is killed (e.g., during a reboot).
on_exit_remove	= ( ExitSignal =?= 11 || (ExitCode =!= UNDEFINED &amp;&amp; ExitCode &gt;=0 &amp;&amp; ExitCode &lt;= 2))
copy_to_spool	= False
arguments	= &quot;-f -l . -Lockfile simple.dag.lock -AutoRescue 1 -DoRescueFrom 0 -Dag simple.dag -CsdVersion $CondorVersion:&#39; &#39;7.6.1&#39; &#39;May&#39; &#39;31&#39; &#39;2011&#39; &#39;BuildID:&#39; &#39;339001&#39; &#39;$ -Dagman /usr/bin/condor_dagman&quot;
environment	= _CONDOR_DAGMAN_LOG=simple.dag.dagman.out;_CONDOR_MAX_DAGMAN_LOG=0
queue

&lt;/pre&gt;

Clean up some of these files: 

&lt;pre style=&quot;margin-left:4em&quot; class=&quot;screen&quot;&gt;
% rm simple.dag.*
&lt;/pre&gt;

---++ On your own

   * Why does DAGman run as a Condor job? 
   * Look at the submit file for DAGMan: what does on_exit_remove do? Why is this here?

---++ Challenge

   * What is the scheduler universe? Why does DAGMan use it?
</textarea> <div class="patternSigLine"><span class="twikiRight twikiMakeVisible" style="text-align:left;"><span class="twikiLeft patternTextareaButton patternButtonFontSelector" title="Switch to monotype or propotional font">&nbsp;</span><span class="twikiLeft patternTextareaButton patternButtonEnlarge" title="Enlarge edit box">&nbsp;</span><span class="twikiLeft patternTextareaButton patternButtonShrink" title="Shrink edit box">&nbsp;</span></span><br class="twikiClear" /></div><!-- /patternSigLine--></div><!-- /patternTopic-->
<div class="twikiContentFooter"></div></div><!-- /patternContent-->
<a name="topic-actions"></a><div class="twikinetRounded twikinetRoundedTopicActions"><div class="rCRounded"><div class="rCTR"><div class="rCTL"></div><!--/rCTL--><div class="patternTopicActions"><div class="patternTopicAction"><span class="patternActionButtons"><span class="patternButton"><a href='https://twiki.opensciencegrid.org/bin/edit/Education/OSGSS2011CondorSimpleDAG?t=1487213279;nowysiwyg=1' rel='nofollow' title='Edit this topic text' accesskey='e'><span class='twikiAccessKey'>E</span>dit</a></span><span class='twikiSeparator'>&nbsp;|&nbsp;</span><span class='patternButton'><a href='/bin/attach/Education/OSGSS2011CondorSimpleDAG' rel='nofollow' title='Attach an image or document to this topic' accesskey='a'><span class='twikiAccessKey'>A</span>ttach</a></span><span class='twikiSeparator'>&nbsp;|&nbsp;</span><span class='patternButton'><a href='/bin/view/Education/OSGSS2011CondorSimpleDAG?cover=print;raw=on' rel='nofollow' title='Printable version of this topic' accesskey='p'><span class='twikiAccessKey'>P</span>rint version</a></span><span class='twikiSeparator'>&nbsp;|&nbsp;</span><span><span><a href='/bin/rdiff/Education/OSGSS2011CondorSimpleDAG?type=history' rel='nofollow' title='View total topic history' accesskey='h'><span class='twikiAccessKey'>H</span>istory</a></span>: r2&nbsp;<a rel="nofollow" href="/bin/rdiff/Education/OSGSS2011CondorSimpleDAG?rev1=2;rev2=1">&lt;</a>&nbsp;<a rel="nofollow" href="/bin/view/Education/OSGSS2011CondorSimpleDAG?rev=1">r1</a></span><span class='twikiSeparator'>&nbsp;|&nbsp;</span><span><a href='/bin/oops/Education/OSGSS2011CondorSimpleDAG?template=backlinksweb' rel='nofollow' title='Search the Education Web for topics that link to here' accesskey='b'><span class='twikiAccessKey'>B</span>acklinks</a></span><span class='twikiSeparator'>&nbsp;|&nbsp;</span><span><a href='https://twiki.opensciencegrid.org/bin/view/Education/OSGSS2011CondorSimpleDAG' rel='nofollow' title='View topic' accesskey='v'><span class='twikiAccessKey'>V</span>iew topic</a></span><span class='twikiSeparator'>&nbsp;|&nbsp;</span><span><a href='/bin/oops/Education/OSGSS2011CondorSimpleDAG?template=oopsmore&amp;param1=2&amp;param2=2' rel='nofollow' title='Delete or rename this topic; set parent topic; view and compare revisions' accesskey='m'><span class='twikiAccessKey'>M</span>ore topic actions</a></span></span></div><!--/patternTopicAction--></div><!--/patternTopicActions--></div><!--/rCTR--><div class="rCBR"><div class="rCBL"></div><!--/rCBL--></div><!--/rCBR--></div><!--/rCRounded--></div><!--/twikinetRounded--><div class="patternInfo twikiGrayText"><div class="patternRevInfo">Topic revision: r2 - 22 Jun 2011 - 15:10:48 - <span class="twikiNewLink">AlainRoy<a href="/bin/edit/Education/AlainRoy?topicparent=Education.OSGSS2011CondorSimpleDAG" rel="nofollow" title="AlainRoy (this topic does not yet exist; you can create it)">?</a></span></div><!-- /patternRevInfo--></div><!-- /patternInfo-->
</div><!-- /patternMainContents-->
</div><!-- /patternMain--><div id="patternLeftBar"><div id="patternClearHeaderLeft"></div>
<div id="patternLeftBarContents">
<head>
	<style type="text/css" media="all">
	
		.float-left {
			float:	left;
		}

		.float-right {
			float:	right;
		}

		.rounded {
      		border-radius:	 		8px;
			-moz-border-radius: 	8px;
			-webkit-border-radius:	8px;		
		}
		
		.rounded-top {
      		border-radius:	 		8px 8px 0px 0px;
			-moz-border-radius: 	8px 8px 0px 0px;
			-webkit-border-radius:	8px 8px 0px 0px;		
		}
		
		.bordered {
			border:	1px solid #AAAAAA;
		}

		.bordered-bottom {
			border-bottom:	1px solid #AAAAAA;
		}

		.high-contrast {
			color:		#FF6600;
			background: #000060;		
		}

                .low-contrast {
			color:		#FF6600;
			background: #ADD8E6;		
		}

	
		.container {
display: inline-block;
			margin:		0;
			padding:	0;
		}
		
		.box {
			display:				block;
			margin:			 0;
			padding:		0;
		}

                #head-block {
                        color:               #FF6600;	
                        background:    #333380;
                }
							
		#menu {
			font-family:	"Lucida Grande", sans-serif;
			font-size:		small;
			margin:		0px 0px 10px 0px;
			padding:	0px 0px 0.3em 0px;
			background: #EAEDF2;
		}
							
		#menul {
			font-family:	"Lucida Grande", sans-serif;
			font-size:		small;
			margin:		0px 0px 10px 0px;
			padding:	0px 0px 0.3em 0px;
			background: #F4F6F9

		}		
		#head {
			margin:		0px;
			padding:	0.2em 5px 0.2em 10px;
			font-size:	normal;
			font-weight:	bold;
			color:			#FF6600;	
		}
		
		#head a {
			text-decoration:	none;
			color:			#FF6600;	
		}

		#head a:hover {
			background: 		#EAEDF2;
			text-decoration:	none;
			color:			#FFBB00;	
		}

		#head a:visited {
			text-decoration:	none;
			color:			#FF6600;	
		}

		#head a:active {
			text-decoration:	none;
			color:			#FF6600;	
		}

		#head a:link {
			text-decoration:	none;
			color:			#FF6600;	
		}

                #iteml {
			padding:	0.1em 5px 0.0em 10px;
                }

		#iteml a {
			background: 		#F4F6F9
			text-decoration:	none;
			color:			#000044;			
		}

		#iteml a:hover {
			background: 		#F4F6F9
			text-decoration:	none;
			color:			#FF6600;			
		}
		#item {
			padding: 0.1em 5px 0.0em 10px;
		}
		
		#item a {
			background: 		#EAEDF2;
			text-decoration:	none;
			color:			#000044;			
		}

		#item a:hover {
			background: 		#EAEDF2;	
			text-decoration:	none;
			color:			#FF6600;			
		}
</style>
</head>
Hello, <a href="/bin/view/Main/TWikiGuest" class="twikiLink">TWikiGuest</a>
<a href="https://twiki.grid.iu.edu/bin/view/TWiki/TWikiRegistration" target="_top"><br/>Register</a>
<p />
<p />
<!-- Google CSE Search Box Ends
<h5><a name="Common_links"></a> Common links </h5> <ul>
<li> <a href="/bin/view/Main/WebHome" class="twikiLink">OSG TWiki home</a>
</li> <li> <a href="/bin/view/Documentation/Release3/WebHome" class="twikiLink">RPM Install guides - OSG 3.0</a>
</li> <li> <a href="/bin/view/ReleaseDocumentation/WebHome" class="twikiLink">Pacman Install guides OSG 1.2</a>
</li> <li> <a href="/bin/view/Documentation/WebHome" class="twikiLink">Technical Documentation</a>
</li> <li> <a href="/bin/view/Documentation/SiteAdminResources" class="twikiLink">Contact Info</a> 
</li> <li> <strong><a href="/bin/view/Main/ICantFindItForm" class="twikiLink">I can't find it!</a></strong>  -->
</li></ul> 
<div class="container">
<p />
    <div class="box rounded bordered" id="menu">
        <div class="box rounded-top high-contrast" id="head"><a  style="" href="/bin/view/Main/WebHome" class="twikiLink" title="Home">About the OSG</a></div>
        <div id="item"><a  style="" href="/bin/view/Documentation/UsingTheGrid" class="twikiLink" title="Instructions for Using OSG">New Users</a></div>
        <div id="item"><a href="http://myosg.grid.iu.edu/map?map_attrs_shownr=on&amp;all_sites=on&amp;active=on&amp;active_value=1&amp;disable_value=1&amp;gridtype=on&amp;gridtype_1=on" target="_top">OSG Sites</a></div>
        <div id="item"><a  style="" href="http://myosg.grid.iu.edu/vosummary?all_vos=on&amp;active=on&amp;active_value=1&amp;datasource=summary" target="_top" title="List of Virtual Organizations">OSG VOs</a></div>
        <div id="item"><a href="http://display.grid.iu.edu/" target="_top">OSG Usage Graphs</a></div>
        <div id="item"><a  style="" href="https://indico.fnal.gov/categoryDisplay.py?categId=86" target="_top" title="OSG Event Calendar">Events</a></div>
       <div id="item"><a href="/bin/view/Management/OSGOrganizationInformation" class="twikiLink">OSG Organization</a></div>
<p />
    </div>
<p />
<p />
    <div class="box rounded bordered" id="menu">
        <div class="box rounded-top high-contrast" id="head">OSG at Work</div>
        <div id="item"><a  style="" href="/bin/view/Documentation/WebHome" class="twikiLink" title="Official Documentation Home">Technical Documentation</a></div>
        <div id="item"><a href="/bin/view/Security/WebHome" class="twikiLink">Security</a></div>
        <div id="item"><a href="/bin/view/SoftwareTeam/WebHome" class="twikiLink">Software Team</a></div>
        <div id="item"><a href="/bin/view/Education/WebHome" class="twikiCurrentWebHomeLink twikiLink">Education</a></div>
        <div id="item"><a href="/bin/view/Management/WebHome" class="twikiLink">Management</a></div>
        <div id="item"><a  style="" href="/bin/view/Management/ScientificPublications" class="twikiLink" title="Scientific Publications and Citing OSG">Scientific Publications</a></div>
        <div id="item"><a href="/bin/view/Management/OSGResearchHighlights" class="twikiLink">Research Highlights</a></div>
    </div>
<p />
<p />
		<div class="box rounded bordered" id="menu">
			<div class="box rounded-top high-contrast" id="head"><a  style="" href="/bin/view/Main/WebHome" class="twikiLink" title="TWiki Main Web">Documentation Links</a></div>
			<div id="item"><a  style="" href="/bin/view/Documentation/Release3/NavContributeDocumentation" class="twikiLink" title="OSG Documentation System Information">How To Write Documents</a></div>
			<div id="item"><a  style="" href="/bin/view/Documentation/DocFormattingRules" class="twikiLink" title="Formatting OSG Documents">Formatting Documents</a></div>
                        <div id="item"><a  style="" href="/bin/view/Education/WebTopicCreator" class="twikiLink" title="Create a New TWiki Page"> <img width="16" alt="newtopic" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/newtopic.gif" height="16" border="0" /> Create New Topic</a></div>
                        <div id="item"><a  style="" href="/bin/view/Main/WebList" class="twikiLink" title="List of Webs"> <img width="16" alt="index" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/index.gif" height="16" border="0" /> List of Webs</a></div>
                        <div id="item"><a  style="" href="/bin/view/Education/WebIndex" class="twikiLink" title="Index of Topics"> <img width="16" alt="index" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/index.gif" height="16" border="0" /> Topic Index</a></div>
                        <div id="item"><a href="/bin/view/Documentation/WebTopicList" class="twikiLink"> <img width="16" alt="index" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/index.gif" height="16" border="0" /> Topic List</a></div>
                        <div id="item"><a  style="" href="/bin/view/Education/WebChanges" class="twikiLink" title="List of Pages that have Changed by Change Date"> <img width="16" alt="changes" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/changes.gif" height="16" border="0" /> Changes</a></div>
                        <div id="item"><a  style="" href="/bin/view/Main/TWikiUsers" class="twikiLink" title="Alphabetized List of TWiki Users"> <img width="16" alt="person" align="top" src="/twiki/pub/TWiki/TWikiDocGraphics/person.gif" height="16" border="0" /> TWiki Users</a></div>
		</div>
<p />
</div>
</div><!-- /patternLeftBarContents--></div><!-- /patternLeftBar-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--></div><!-- /patternWrapper--><div id="patternTopBar"><div id="twikinetLogo"><a href="http://www.twiki.net/"><span>TWIKI.NET</span></a></div><div id="patternTopBarContents"><div class="twikiLeft"><span id="twikiLogo" class="twikiImage"><a href="http://www.opensciencegrid.org    "><img src="/twiki/pub/Main/WebHome/osg-logo.png    " border="0" alt="OpenScience Grid Website    " style="border:none;" /></a></span></div>
<div class="twikiRight">
<table cellpadding="0" cellspacing="0" border="0"><tr><td class="twikinetSearchJump twikinetSearchJumpLeft">
 <ul>
<li> <form name="jumpForm" action="/bin/view/Education/OSGSS2011CondorSimpleDAG"><input id="jumpFormField" type="text" class="twikiInputField" name="topic" value="" size="16" /><input type="submit" class="twikinetJumpButton" name="submit" value="" /></form>
</li> <li> <form name="quickSearchForm" action="/bin/view/Education/WebSearch"><input type="text" class="twikiInputField" id="quickSearchBox" name="search" value="" size="18" /><input type="hidden" name="scope" value="all" /><input type="hidden" name="web" value="Education" /><input type="submit" size="5" class="twikinetSearchButton" name="submit" value="" /></form>
</li> <li> </li></ul> 
</td>
<td class="twikinetSearchJumpRight"></td>
</tr></table><br class="twikiClear" /></div></div></div><!-- /patternTopBar--><div id="twikinetTopToolBar"><div id="twikinetTopToolBarContents"><div class="twikinetWebName twikiLeft">
<table cellpadding="0" cellspacing="0" border="0"><tr><td style="vertical-align:middle;">
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Education"></a>  <a href="/bin/view/Education/WebHome" class="twikiCurrentWebHomeLink twikiLink">Education</a> </span></h2>
</td></tr></table>
</div><!--/twikinetWebName-->
<div class="twikinetToolBar twikiRight">
<table cellpadding="0" cellspacing="0" border="0"><tr><td><a href="https://twiki.opensciencegrid.org/bin/edit/Education/OSGSS2011CondorSimpleDAG?t=1487213279;nowysiwyg=1" rel="nofollow">
<span class="rCRounded"><span class="rCTR"><span class="rCTL"></span><!--/rCTL-->
<span class="twikiLinkLabel twikinetEditIcon"><span class='twikiAccessKey'>E</span>dit</span>
</span><!--/rCTR--><span class="rCBR"><span class="rCBL"></span></span><!--/rCBR--></span><!--/rCRounded-->
</a></td><td><a href="/bin/attach/Education/OSGSS2011CondorSimpleDAG" rel="nofollow">
<span class="rCRounded"><span class="rCTR"><span class="rCTL"></span><!--/rCTL-->
<span class="twikiLinkLabel"><span class='twikiAccessKey'>A</span>ttach</span>
</span><!--/rCTR--><span class="rCBR"><span class="rCBL"></span></span><!--/rCBR--></span><!--/rCRounded-->
</a></td><td><a href="/bin/genpdf/Education/OSGSS2011CondorSimpleDAG?pdftitle=OSGSS2011CondorSimpleDAG" rel="nofollow">
<span class="rCRounded"><span class="rCTR"><span class="rCTL"></span><!--/rCTL-->
<span class="twikiLinkLabel">PDF</span>
</span><!--/rCTR--><span class="rCBR"><span class="rCBL"></span></span><!--/rCBR--></span><!--/rCRounded-->
</a></td></tr></table>
<br class="twikiClear" /></div><!--/patternToolBar--></div><!--/twikinetTopToolBarContents--></div><!--/twikinetTopToolBar--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>