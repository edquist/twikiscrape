---+ Simpler DAGs with variable substitutions

%ICON{&quot;warning&quot;}% %RED% Please change your Login Name and click on the Customize button!%ENDCOLOR%
&lt;form action=&quot;%SCRIPTURLPATH{&quot;view&quot;}%/%WEB%/%TOPIC%&quot;&gt;
&lt;table&gt;
  &lt;tr&gt;
    &lt;td&gt;
      %RED%Login Name%ENDCOLOR%
    &lt;/td&gt;
    &lt;td&gt;
      &lt;input size=100 type=&quot;text&quot; name=&quot;INPUT_USER&quot; value=&quot;%UCL_USER%&quot;/&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;
     &amp;nbsp;
     &lt;input type=&quot;submit&quot; class=&quot;twikiSubmit&quot; value=&quot;Customize&quot; /&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
&lt;/form&gt;
&lt;!-- OSG Summer School 2011 Defaults
   * Local UCL_USER = %URLPARAM{&quot;INPUT_USER&quot; encode=&quot;quote&quot; default=&quot;YOUR-LOGIN-NAME&quot;}%
--&gt;
&lt;div style=&quot;margin-left: 1em; margin-right: 1em; border: 1px solid black; padding: 0.5em;&quot;&gt;

---+++ Objective of this exercise
The objective of this exercise is to help you write simpler DAGs by using variable substitutions in your submit files.
&lt;/div&gt;

If you look at the DAG we made, you might find it a bit tedious because each goatbrot job has a separate Condor submit file. They&#39;re nearly identical except for a couple of parameters. Can we make it simpler?

Yes, we can!

---++ Declare your variables

First you need to declare your variables in your submit file. Make one submit file for all of your goatbrot jobs. Here&#39;s what it looks like. Call it goatbrot.sub:

&lt;pre style=&quot;margin-left:4em&quot; class=&quot;screen&quot;&gt;
executable              = /tmp/goatbrot-master/goatbrot
arguments               = -i 100000 -c $(CENTERX),$(CENTERY) -w 1.5 -s 500,500 -o tile_$(TILEY)_$(TILEX).ppm
log                     = goatbrot.log
output                  = goatbrot.out.$(TILEY).$(TILEX)
error                   = goatbrot.err.$(TILEY).$(TILEX)
should_transfer_files   = YES
when_to_transfer_output = ONEXIT
queue
&lt;/pre&gt; 

Then you need to change your DAG to use VARS for variable substitution. Here&#39;s what one of the jobs would look like:

&lt;pre style=&quot;margin-left:4em&quot; class=&quot;screen&quot;&gt;
JOB g1 goatbrot.sub
VARS g1 CENTERX=&quot;-0.75&quot;
VARS g1 CENTERY=&quot;0.75&quot;
VARS g1 TILEX=&quot;0&quot;
VARS g1 TILEY=&quot;0&quot;
&lt;/pre&gt;

Edit your DAG similarly for all of your goatbrot jobs. If you need help, check the Condor manual for [[http://www.cs.wisc.edu/condor/manual/v7.6/2_10DAGMan_Applications.html#4635][for a description of how to use VARS]]. What happens? 





-- Main.KyleGross - 05 Aug 2014
