---+ OSG Area Coordinators Meeting

---++ Meeting Phone Coordinates

%TABLE{tablewidth=&quot;550&quot; cellpadding=&quot;6&quot; dataalign=&quot;left&quot; tablerules=&quot;all&quot; tableborder=&quot;1&quot; databg=&quot;#FFFFFF, #FFFFFF&quot;}%
| Wednesday,  2:00 PM Central Time |
| Dial-In: (866) 740-1260; meeting ID 840-6470, followed by # |
| !VoIP: http://www.readytalk.com/?ac=8406470  |



---++ Attendees
Susan, Gabriele, Rob Q., Kyle, Mat, Tim C., Tim T., Brian L., Shawn, Ken

---++ Top of Meeting Business

---+++ New Items for [[https://indico.fnal.gov/categoryDisplay.py?categId=86][OSG Calendar]], 
   * 17&amp;ndash;21 July - OSG User School 2017
   * The 2017 European HTCondor workshop will be held Tuesday, June 6 through Friday, June 9, 2017 at [[http://www.desy.de/][DESY]] in Hamburg, Germany.

---+++ Current plan for [[https://twiki.grid.iu.edu/bin/view/Management/NewsletterArticles][Newsletter Articles]]
Please note that all newsletter articles are due around the middle of the month before the targeted newsletter.

**We want to get an update on the area goals we had established at the staff retreat; these goals are available at https://osg-docdb.opensciencegrid.org:440/cgi-bin/ShowDocument?docid=1217

Also please remember that the next OSG annual report for each area will explicitly state the goals and the results.


---++ Tim Cartwright - Software

Since 30 November 2016.

---+++ Software updates
Development for January and half of February releases:
   * Updated to HTCondor 8.4.10 and 8.5.8 with almost complete SELinux support (and other bug fixes)
   * Updated osg-configure to better support ATLAS AGIS reporting
   * Worked on Gratia probes to better handle (or suppress) local jobs&amp;nbsp;&amp;mdash; annoying, still in progress
   * Updated gridftp-hdfs for bug and performance improvements
   * Improved support for EL 7 features in some packages
   * Updated to VOMS 2.0.14, !XRootD 4.5.0
   * Added Singularity 2.2 as a new, preview technology
   * Updated to frontier-squid 3.5.23-3.1, a technology preview of version 3

---+++ HTCondor-CE and Friends
   * Derek is starting to unify the BLAHP sources between OSG and HTCondor developers (but not INFN yet) and then switch to that single source codebase for both sets of builds. This project helps get the OSG Software team less involved in the maintenance of the BLAHP, which is good.
   * Providing support (light, so far) for IU folks doing a security review of HTCondor-CE and the BLAHP.

---+++ Replacement for the Venerable edg-mkgridmap
   * Investigations settled on the LCMAPS VOMS plugin as a way forward, and we are working on the packaging for it.
   * Then, there will be numerous changes in osg-configure, its defaults, and its documentation to make it easy to set up the LCMAPS plugin, or migrate a site from edg-mkgridmap to it.
   * The goal is to begin migrating friendly sites before the end of the fiscal year (i.e., May 2017), and maybe even get AGLT2 to move from GUMS to this new technology.

---+++ Madison ITB and HTCondor Pre-Release Testing
   * Necessary rebuild of Madison ITB machines is nearly complete, on track of the end of January.
   * Aiming for end of February to support testing of HTCondor pre-releases in an OSG environment, and hopefully the end of March to support testing of OSG pre-release packages on the site prior to release.
   * After that, we will start expanding the coverage of OSG use cases on our ITB site, in priority order from the OSG Release team.

---+++ OSG Software Support for GR&amp;Aring;CC
Nearly done with OSG Display and Apel reporting script, partially waiting on changes from the core GR&amp;Aring;CC team.

---+++ Support
The Software team typically handles 2&amp;ndash;3 active site support issues every week, in additional to other random GOC tickets that come our way. Since the last report, we have helped:
   * CHTC - Tracking down last of the submit nodes uploading badly formatted records for local jobs
   * IIT - Investigated issue with !GlideIns landing on incorrect OS, seems to have resolved itself; added more CEs to production
   * LBL - Helping with CE/submit host authorization issues
   * RAL - Investigating issues with CE held jobs as a result of HTCondor update
   * Russian Data-Intensive Grid - Assisted with CE configuration PBS submission
   * Utah - Resolved issues with CVMFS; investigating /tmp being filled up by some users and other working directory issues

---+++ Concerns
   * Role changes will have an effect on overall productivity, at least for a while; plus OSG Software is losing 0.5 FTE (or so).
   * Further delays in HDFS 3.0 ship date will start affecting OSG 3.4 ship date soon. However, there is nothing (yet) that is critical about our timing of June&amp;nbsp;2017 for the release of OSG&amp;nbsp;3.4.0.

---+++ Software Goals for Year 5

&lt;!--
   * Set SWNO = &lt;span style=&quot;color: white; background-color: #00D; padding-left: 3px; padding-right: 3px;&quot;&gt;abandoned&lt;/span&gt;
   * Set SWIP = &lt;span style=&quot;color: white; background-color: #F90; padding-left: 3px; padding-right: 3px;&quot;&gt;in&amp;nbsp;progress&lt;/span&gt;
   * Set SWDN = &lt;span style=&quot;color: white; background-color: #0A0; padding-left: 3px; padding-right: 3px;&quot;&gt;done&lt;/span&gt;
   * Set SWNS = &lt;span style=&quot;color: white; background-color: #D00; padding-left: 3px; padding-right: 3px;&quot;&gt;not started&lt;/span&gt;
--&gt;

   1. Ongoing
      a. Routine updates to software packages
      a. Bug fixes to software and packaging
      a. Routine documentation updates
      a. Support installation and configuration of new OSG sites and HTCondor CE transitions
      a. Support ongoing use of OSG Software
   1. HTCondor-CE and Friends
      a. Unify BLAHP code and switch to HTCondor build [Derek, 2016-11]&amp;nbsp;&amp;mdash; %SWIP% (waiting for HTCondor 8.7)
      a. Help with monitoring improvements, especially that affect HTCondor-CE&amp;nbsp;&amp;mdash; %SWNO%
   1. Support SELinux
      a. Define initial project plan [Tim&amp;nbsp;C., 2016-10]&amp;nbsp;&amp;mdash; %SWDN%
      a. Identify all components in the OSG software stack that need SELinux rules&amp;nbsp;&amp;mdash; %SWDN%
      a. Ship initial SELinux rules (from upstream or OSG) for all affected packages [Feb 2017]&amp;nbsp;&amp;mdash; %SWIP%
      a. Work with upstream developers to support SELinux fully in their own sources [Feb 2017]&amp;nbsp;&amp;mdash; %SWIP%
   1. Enhance alternatives to GUMS
      a. Help identify, propose, and have accepted a technology direction for mapping&amp;nbsp;&amp;mdash; %SWDN%
      a. Identify major problems with existing mapping code and fix [Feb 2017]&amp;nbsp;&amp;mdash; %SWIP%
      a. Improve packaging and configuration defaults to reflect OSG recommendations&amp;nbsp;&amp;mdash; %SWNS%
      a. Document authorization system updates and recommendations&amp;nbsp;&amp;mdash; %SWNS%
      a. Migrate edg-mkgridmap sites to new OSG mapping software&amp;nbsp;&amp;mdash; %SWNS%
      a. Work with AGLT2 to migrate from GUMS and document process [May 2017]&amp;nbsp;&amp;mdash; %SWNS%
      a. Identify specific follow-on projects to allow more sites to migrate from GUMS [May 2017]&amp;nbsp;&amp;mdash; %SWNS%
   1. Release OSG 3.4
      a. Update to Hadoop Distributed File System (HDFS) 3.x with error-correcting codes; available first in osg-upcoming. [Mar 2017]&amp;nbsp;&amp;mdash; %SWNS%
      a. Update GUMS to rely on proxy attributes and hence not call out to VOMS Admin&amp;nbsp;&amp;mdash; %SWNS%
      a. Drop Globus GRAM packages [Jun 2017]&amp;nbsp;&amp;mdash; %SWNS%
      a. Drop GIP and OSG Info Services [Jun 2017]&amp;nbsp;&amp;mdash; %SWNS%
      a. Drop !BeStMan [Jun 2017]&amp;nbsp;&amp;mdash; %SWNS%
      a. Drop jGlobus [Jun 2017]&amp;nbsp;&amp;mdash; %SWNS%
      a. Release 3.4.0 [Jun 2017]&amp;nbsp;&amp;mdash; %SWNS%
      a. Remove GRAM code from OSG software sources (e.g., OSG Configure) [Sep 2017]&amp;nbsp;&amp;mdash; %SWNS%
      a. Add Singularity&amp;nbsp;&amp;mdash; %SWDN%
   1. Increase utility of Madison ITB
      a. Rebuild ITB machines, devise and start maintenance schedule [Jan 2017]&amp;nbsp;&amp;mdash; %SWIP%
      a. Add the capability to install and test HTCondor pre-releases in an OSG-like environment&amp;nbsp;&amp;mdash; %SWIP%
      a. Create a tool to maintain steady job pressure on the Madison ITB site&amp;nbsp;&amp;mdash; %SWNS%
      a. Add newer OSG technologies to ITB (as WBS tasks); e.g., !StashCache, HTCondor-CE-Bosco&amp;nbsp;&amp;mdash; %SWNS%
   1. Documentation renovations
      a. Complete initial version of new, user-centered Release3 home page [Brian L., Dec 2016]&amp;nbsp;&amp;mdash; %SWIP%
      a. Update documents in priority order [ongoing]&amp;nbsp;&amp;mdash; %SWIP%
      a. Document !GlideinWMS architecture for internal, then site administrator use [Tim&amp;nbsp;C.]&amp;nbsp;&amp;mdash; %SWIP%
      a. Document HTCondor-CE and -Bosco architectures for internal, then site administrator use [Brian&amp;nbsp;L.]&amp;nbsp;&amp;mdash; %SWIP%
      a. Work with Operations and Investigations to explore other documentation technologies [Tim&amp;nbsp;C.]&amp;nbsp;&amp;mdash; %SWIP%
   1. Smaller Year 5 projects
      a. Finish remaining EL 7 builds&amp;nbsp;&amp;mdash; %SWDN%
      a. Complete another significant round of scalability testing for OSG and CMS [Edgar, Nov 2016]&amp;nbsp;&amp;mdash; %SWIP%
      a. Support GRÅCC project as needed, esp. by changing OSG software to use it (e.g., osg-display and gratia-apel) [Feb 2017]&amp;nbsp;&amp;mdash; %SWIP%
      a. Automate some pieces of tracking OSG CEs&amp;nbsp;&amp;mdash; %SWNO%
      a. Consolidate public software download repositories to a single GOC host&amp;nbsp;&amp;mdash; %SWIP%
      a. Help OSG move from BDII to CE-Collector&amp;nbsp;&amp;mdash; %SWIP%
      a. Help incorporate a generic HTCondor pilot job executable into the HTCondor source code&amp;nbsp;&amp;mdash; %SWNO%
      a. Migrate OSG software from Java 7 to Java 8&amp;nbsp;&amp;mdash; %SWDN%
      a. Manage new stakeholder and internal projects that involve the OSG Software team [Tim&amp;nbsp;C.]&amp;nbsp;&amp;mdash; %SWIP%
   1. Year 5 Internal Maintenance
      a. Move Koji build host from batlab.org domain to chtc.wisc.edu domain&amp;nbsp;&amp;mdash; %SWDN%
      a. Update Koji build system to latest version&amp;nbsp;&amp;mdash; %SWDN%
      a. Work on very simple effort reporting system [Tim&amp;nbsp;C.]&amp;nbsp;&amp;mdash; %SWIP%
   1. Automated Testing
      a. Expand coverage of components and test cases&amp;nbsp;&amp;mdash; %SWIP%
         1. Add HTCondor-CE + Slurm integration tests&amp;nbsp;&amp;mdash; %SWDN%
         1. Add !GridFTP-HDFS and !XRootD-HDFS plugin tests with HDFS client in POSIX mode&amp;nbsp;&amp;mdash; %SWNS%
      a. Improve expressiveness of test infrastructure&amp;nbsp;&amp;mdash; %SWIP%
      a. Investigate automated testing across multiple hosts in CHTC&amp;nbsp;&amp;mdash; %SWNO%

---+++ Metrics

JIRA tickets for Software (orange) and Software+Release (grey):

%ATTACHURL%/jira-software-2017-01-25.png


---++ Tim Theisen - Release Management

---+++ Goals
   * Ongoing
      * Test and Release Software
      * Collect metrics on effectiveness
      * Collect new testing recipes
   * Madison ITB
      * Start Beta Testing HTCondor Releases in ITB environment
      * Waiting on Software Team to implement ITB site
   * SELinux
      * Start Testing HTCondor in VMU environment with SELinux enforcing
   * Data Only Release
      * Implement process for releasing data (CA Certificates and VO Packages)

---+++ Recent Accomplishments

   * *Releases*
      * Since November 30th
         * December Release
            * [[Documentation.Release3.Release3319][3.3.19]]: HTCondor-CE 2.1.1, osg-configure 1.5.2, gratia-probe 1.17.0-2.6, Upcoming: frontier-squid 3.5.22-2.1
         * January Release
            * [[Documentation.Release3.Release3320][3.3.20]]: HTCondor 8.4.10, gratia-probe 1.17.2, !XRootD 4.5.0, osg-configure 1.5.4, VOMS 2.0.14; Upcoming: HTCondor 8.5.8, Singularity 2.2, frontier-squid 3.5.23-3.1

   * Special Releases: None

   * Defects found in testing
      * 0 of 14 tickets in December
      * 1 of 19 tickets in January
         * Defect in data only update scripts (new feature, pushed to February release)

   * Continue Beta Testing HTCondor Releases (VM Universe)
      * Found and fixed a defect that could affect proper operation of HTCondor with SELinux on CentOS7
      * First release of HTCondor that works with SELinux enforcing enabled at the system level
         * HTCondor processes are running as permissive
         * Further work to run HTCondor as enforcing

   * Working on a process to release data (CA Certificates and VO Package)
      * Second data only release coming this week
      * Shipping scripts on February to easily update the data in installed tarballs

---++ Minutes

Key Initiatives
   1. HTCondor-CE: unifying the BLAHP source code between OSG and HTCondor. Providing support for IU&#39;s security review of BLAHP and HTCondor-CE.
   2. Replacing edg-mkgridmap with LCMAPS VOMS. Planning to support sites that want to migrate away from GUMS.
   3. Aiming for testing HTCondor pre-releases in a full OSG environment by March, in addition to current ITB testing.

Top Issues / Concerns
   1. Tim C. will change his role to chief of staff; this will have temporary negative effects on productivity; software test is losing 0.5 FTE
   2. Further delays in HDFS 3.0 release date will now push OSG 3.4 release date of Jun 2017; however, this date was not driven by any critical factors.

Key Accomplishments
   1. 2 releases since Nov 30th; no special releases. Found 1 defect out of 33 tickets. Found 1 defect in HTCondor with SELinux.


-- Main.GabrieleGarzoglio - 25 Jan 2017

