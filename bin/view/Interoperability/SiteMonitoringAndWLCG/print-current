<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
<link rel="stylesheet" href="https://twiki.opensciencegrid.org/twiki/pub/TWiki/HeadlinesPlugin/style.css" type="text/css" media="all" />
<title> SiteMonitoringAndWLCG &lt; Interoperability &lt; TWiki    </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/twiki/pub/Interoperability/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="shortcut icon" href="/twiki/pub/Interoperability/WebPreferences/favicon.ico    " type="image/x-icon" />
<link rel="alternate" href="https://twiki.opensciencegrid.org/bin/edit/Interoperability/SiteMonitoringAndWLCG?_T=16 Feb 2017" type="application/x-wiki" title="edit SiteMonitoringAndWLCG" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<meta name="robots" content="noindex" /><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/bin/view/Interoperability/WebRss" />    
<base href="https://twiki.opensciencegrid.org/bin/view/Interoperability/SiteMonitoringAndWLCG"></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="/twiki/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="/twiki/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('/twiki/pub/TWiki/TWikiTemplates/base.css');
</style><script type="text/javascript" src="/twiki/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script><style type="text/css" media="all">


</style>
<style type="text/css" media="all">
@import url("/twiki/pub/TWiki/TWikiNetSkin/layout.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/style.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/colors.css");
@import url("/twiki/pub/TWiki/TWikiNetSkin/rounded_corners.css");
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	#patternLeftBar .patternWebIndicator,
	.patternBookView .twikiTopRow {
		background-color:#FFFFCC;
	}
	.patternBookView {
		border-color:#FFFFCC;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/twiki/pub/TWiki/PreviewBackground/preview2bg.gif    ");*/
	}
	
</style><style type="text/css" media="all">



</style>
<style type="text/css" media="all">
	@import url("/twiki/pub/TWiki/TWikiNetSkin/print.css");
</style><!--GOOGLEANALYTICSPLUGIN--><!-- Google Analytics script -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-69012-21']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="patternViewPage patternPrintPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternMainContents">
<div class="patternContent"><div class="patternTopic"> <h1><a name="Site_Monitoring_And_WLCG"></a> Site Monitoring And WLCG </h1>
<div class="twikiToc"> <ul>
<li> <a href="?cover=print#Site_Monitoring_And_WLCG"> Site Monitoring And WLCG</a> <ul>
<li> <a href="?cover=print#Overview"> Overview</a>
</li> <li> <a href="?cover=print#Site_responsibilities"> Site responsibilities:</a>
</li> <li> <a href="?cover=print#GOC_responsibilities"> GOC responsibilities:</a>
</li> <li> <a href="?cover=print#WLCG_responsibilities"> WLCG responsibilities:</a>
</li> <li> <a href="?cover=print#What_if_something_goes_wrong"> What if something goes wrong?</a>
</li> <li> <a href="?cover=print#Questions_Issues"> Questions / Issues</a>
</li></ul> 
</li></ul> 
</div>
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Overview"></a> Overview </span></h2>
Tier One and Tier Two sites are obliged to achieve a certain level of availability of their resources. To insure this pledge is satisfied
sites regularly report the status of their resources. The site operates a set of RSV probes that determine the state of various components
of their resources and use these states to determine the status of the resources. These probes report to a locally running "consumer" which
forwards the status results to a "collector" at the GOC. The GOC collector, in turn, forwards the results to WLCG where they are processed
into Availability and Reliability values. Reliability differs from Availability in that periods of registered downtime are not included in the calculation
of Reliability.
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Site_responsibilities"></a> Site responsibilities: </span></h2> <ul>
<li> <a href="https://twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallRSV" target="_top">Configure</a> the critical RSV probes as appropriate for their site and resources.  <ul>
<li> Compute element critical probes: <ul>
<li> CACert expiry
</li> <li> GRAM authentication
</li> <li> OSG directory permissions
</li> <li> OSG version
</li> <li> Ping
</li></ul> 
</li> <li> Storage element critical probes: <ul>
<li> SRMping
</li> <li> SRMCP Read / Write
</li></ul> 
</li></ul> 
</li> <li> Run the appropriate critical RSV probes and consumers against pledged resources.
</li> <li> Insure consumers are receiving metric data and forwarding it to the GOC
</li> <li> Register any scheduled <a href="https://oim.grid.iu.edu/oim/resourcedowntime" target="_top">downtime</a>
</li> <li> Verify their results are being calculated correctly by WLCG.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="GOC_responsibilities"></a> GOC responsibilities: </span></h2> <ul>
<li> Operate the RSV collector consistent with the <a href="https://twiki.grid.iu.edu/bin/view/Operations/RSVServiceLevelAgreement" target="_top">SLA</a>.
</li> <li> Forward data received from sites to WLCG.
</li> <li> Operate the ticketing system consistent with the <a href="https://twiki.grid.iu.edu/bin/view/Operations/GOCTicketServiceLevelAgreement" target="_top">SLA</a>.
</li> <li> Generate the <a href="http://rsv.grid.iu.edu/daily-reports/current/" target="_top">WLCG/RSV comparison report</a> daily, consistent with the <a href="https://twiki.grid.iu.edu/bin/view/Operations/RSVReportsServiceLevelAgreement" target="_top">SLA</a>.
</li> <li> Operate OIM consistent with the <a href="https://twiki.grid.iu.edu/bin/view/Operations/OIMServiceLevelAgreement" target="_top">SLA</a>. (To allow downtime registration)
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="WLCG_responsibilities"></a> WLCG responsibilities: </span></h2> <ul>
<li> Receive metric data forwarded by the GOC
</li> <li> Calculate the site Availability/Reliability and publish the results on <a href="http://grid-monitoring.cern.ch/mywlcg/" target="_top">MyWLCG</a>
</li> <li> Prepare any reports required by MoU.
</li></ul> 
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="What_if_something_goes_wrong"></a> What if something goes wrong? </span></h2>
Typically, a problem is noticed when the WLCG and/or RSV status is not what the site administrator expects it to be.
The <a href="http://rsv.grid.iu.edu/daily-reports/current/" target="_top">daily report</a> gives an indication as to the location of the problem. 
It is strongly recommended that site administrators examine the report daily.
<p />
If the RSV data is incorrect or missing WLCG results are meaningless and the problem lies in one of two places:
The site is not reporting its status or is reporting it incorrectly and/or the GOC is not receiving or processing it correctly.
It is highly unlikely that the problem lies with the GOC, the collector operates at +99% Availability (last available calendar year).
The site administrator should examine his probes to determine all appropriate probes and consumers are running.
If it appears everything is working correctly at the site a <a href="https://ticket.grid.iu.edu/goc/submit" target="_top">trouble ticket</a> should be
created and GOC will assist in diagnosis of the problem. 
<p />
If the RSV
data is correct but the WLCG results are not the problem again lies in one of two areas: The data was not transported from the GOC
to WLCG or WLCG did not correctly process the data. GOC can assist in determining which of these cases has ocurred.
Create a <a href="https://ticket.grid.iu.edu/goc/submit" target="_top">trouble ticket</a> and the GOC will either fix the problem or forward the ticket to the 
appropriate parties. It is also possible that the site is incorrectly configured in OIM compared to the expectations of the WLCG.
This will be diagnosed by WLCG staff and GOC can assist in correcting the configuration.
<p />
<h2 class="twikinetRoundedAttachments"><span class="twikinetHeader"><a name="Questions_Issues"></a> Questions / Issues </span></h2>
<a href="/bin/view/Interoperability/SiteMonitoringInteropQuestionsAndIssues" class="twikiLink">Site Monitoring Interop Questions And Issues</a>
<p />
-- <a href="/bin/view/Main/ScottTeige" class="twikiLink">ScottTeige</a> - 29 May 2013</div><!-- /patternTopic-->
<p />
<p />
</div><!-- /patternContent-->
<hr />
This topic: Interoperability<span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span><span class="twikiNewLink">Trash/Trash/Integration<a href="/bin/edit/Trash/Trash/Integration/WebHome?topicparent=Interoperability.SiteMonitoringAndWLCG" rel="nofollow" title="Trash/Trash/Integration (this topic does not yet exist; you can create it)">?</a></span> &gt; <a href="/bin/view/ReleaseDocumentation/WebHome" class="twikiLink">ReleaseDocumentation</a> &gt; <a href="/bin/view/Interoperability/InteroperabilityWithWLCG" class="twikiLink">InteroperabilityWithWLCG</a><span class='twikiSeparator'>&nbsp;&gt;&nbsp;</span>SiteMonitoringAndWLCG</span> <br />    
Topic revision: r4 - 17 Jun 2013 - 18:36:15 - <a href="/bin/view/Main/JohnWeigand" class="twikiLink">JohnWeigand</a>
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="twikinetBadge"><a href="http://www.twiki.net/"><img src="https://twiki.opensciencegrid.org/twiki/pub/TWiki/TWikiNetSkin/twiki-badge-88x31.gif" alt="TWIKI.NET" width="88" height="31" border="0" /></a></div><!--/twikinetBadge--><div id="patternWebBottomBar"><p>
<font size="-1">
TWiki |
<a href="https://ticket.grid.iu.edu/goc/twiki">Report Bugs</a> |
<a href="https://twiki.grid.iu.edu/bin/view/Operations/IUPrivacyPolicy">Privacy Policy</a>
</p>
<p>
<font size="-2">
<span class="twikiRight"> <a href="http://twiki.org/"><img src="/twiki/pub/TWiki/TWikiLogos/T-logo-80x15.gif" alt="This site is powered by the TWiki collaboration platform" width="80" height="15" title="This site is powered by the TWiki collaboration platform" border="0" /></a></span>Copyright by the contributing authors. All material on this collaboration platform is the property of the contributing authors..
</font>
</p></div><!--/patternWebBottomBar--></div><!-- /patternBottomBarContents--></div><!-- /patternBottomBar-->
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body></html>
<p />